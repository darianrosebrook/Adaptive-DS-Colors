!function(t){"use strict";
/**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */const n=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e=Symbol();class r{constructor(t,n){if(n!==e)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return n&&void 0===this.t&&(this.t=new CSSStyleSheet,this.t.replaceSync(this.cssText)),this.t}toString(){return this.cssText}}const i=new Map,o=t=>{let n=i.get(t);return void 0===n&&i.set(t,n=new r(t,e)),n},a=(t,...n)=>{const e=1===t.length?t[0]:n.reduce(((n,e,i)=>n+(t=>{if(t instanceof r)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(e)+t[i+1]),t[0]);return o(e)},u=n?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let n="";for(const e of t.cssRules)n+=e.cssText;return(t=>o("string"==typeof t?t:t+""))(n)})(t):t
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */;var c,s,f,l;const h={toAttribute(t,n){switch(n){case Boolean:t=t?"":null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,n){let e=t;switch(n){case Boolean:e=null!==t;break;case Number:e=null===t?null:Number(t);break;case Object:case Array:try{e=JSON.parse(t)}catch(t){e=null}}return e}},d=(t,n)=>n!==t&&(n==n||t==t),p={attribute:!0,type:String,converter:h,reflect:!1,hasChanged:d};class v extends HTMLElement{constructor(){super(),this.Πi=new Map,this.Πo=void 0,this.Πl=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this.Πh=null,this.u()}static addInitializer(t){var n;null!==(n=this.v)&&void 0!==n||(this.v=[]),this.v.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((n,e)=>{const r=this.Πp(e,n);void 0!==r&&(this.Πm.set(r,e),t.push(r))})),t}static createProperty(t,n=p){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(t,n),!n.noAccessor&&!this.prototype.hasOwnProperty(t)){const e="symbol"==typeof t?Symbol():"__"+t,r=this.getPropertyDescriptor(t,e,n);void 0!==r&&Object.defineProperty(this.prototype,t,r)}}static getPropertyDescriptor(t,n,e){return{get(){return this[n]},set(r){const i=this[t];this[n]=r,this.requestUpdate(t,i,e)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||p}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this.Πm=new Map,this.hasOwnProperty("properties")){const t=this.properties,n=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const e of n)this.createProperty(e,t[e])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const e=new Set(t.flat(1/0).reverse());for(const t of e)n.unshift(u(t))}else void 0!==t&&n.push(u(t));return n}static"Πp"(t,n){const e=n.attribute;return!1===e?void 0:"string"==typeof e?e:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this.Πg=new Promise((t=>this.enableUpdating=t)),this.L=new Map,this.Π_(),this.requestUpdate(),null===(t=this.constructor.v)||void 0===t||t.forEach((t=>t(this)))}addController(t){var n,e;(null!==(n=this.ΠU)&&void 0!==n?n:this.ΠU=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(e=t.hostConnected)||void 0===e||e.call(t))}removeController(t){var n;null===(n=this.ΠU)||void 0===n||n.splice(this.ΠU.indexOf(t)>>>0,1)}"Π_"(){this.constructor.elementProperties.forEach(((t,n)=>{this.hasOwnProperty(n)&&(this.Πi.set(n,this[n]),delete this[n])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{n?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((n=>{const e=document.createElement("style");e.textContent=n.cssText,t.appendChild(e)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this.ΠU)||void 0===t||t.forEach((t=>{var n;return null===(n=t.hostConnected)||void 0===n?void 0:n.call(t)})),this.Πl&&(this.Πl(),this.Πo=this.Πl=void 0)}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this.ΠU)||void 0===t||t.forEach((t=>{var n;return null===(n=t.hostDisconnected)||void 0===n?void 0:n.call(t)})),this.Πo=new Promise((t=>this.Πl=t))}attributeChangedCallback(t,n,e){this.K(t,e)}"Πj"(t,n,e=p){var r,i;const o=this.constructor.Πp(t,e);if(void 0!==o&&!0===e.reflect){const a=(null!==(i=null===(r=e.converter)||void 0===r?void 0:r.toAttribute)&&void 0!==i?i:h.toAttribute)(n,e.type);this.Πh=t,null==a?this.removeAttribute(o):this.setAttribute(o,a),this.Πh=null}}K(t,n){var e,r,i;const o=this.constructor,a=o.Πm.get(t);if(void 0!==a&&this.Πh!==a){const t=o.getPropertyOptions(a),u=t.converter,c=null!==(i=null!==(r=null===(e=u)||void 0===e?void 0:e.fromAttribute)&&void 0!==r?r:"function"==typeof u?u:null)&&void 0!==i?i:h.fromAttribute;this.Πh=a,this[a]=c(n,t.type),this.Πh=null}}requestUpdate(t,n,e){let r=!0;void 0!==t&&(((e=e||this.constructor.getPropertyOptions(t)).hasChanged||d)(this[t],n)?(this.L.has(t)||this.L.set(t,n),!0===e.reflect&&this.Πh!==t&&(void 0===this.Πk&&(this.Πk=new Map),this.Πk.set(t,e))):r=!1),!this.isUpdatePending&&r&&(this.Πg=this.Πq())}async"Πq"(){this.isUpdatePending=!0;try{for(await this.Πg;this.Πo;)await this.Πo}catch(t){Promise.reject(t)}const t=this.performUpdate();return null!=t&&await t,!this.isUpdatePending}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this.Πi&&(this.Πi.forEach(((t,n)=>this[n]=t)),this.Πi=void 0);let n=!1;const e=this.L;try{n=this.shouldUpdate(e),n?(this.willUpdate(e),null===(t=this.ΠU)||void 0===t||t.forEach((t=>{var n;return null===(n=t.hostUpdate)||void 0===n?void 0:n.call(t)})),this.update(e)):this.Π$()}catch(t){throw n=!1,this.Π$(),t}n&&this.E(e)}willUpdate(t){}E(t){var n;null===(n=this.ΠU)||void 0===n||n.forEach((t=>{var n;return null===(n=t.hostUpdated)||void 0===n?void 0:n.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}"Π$"(){this.L=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this.Πg}shouldUpdate(t){return!0}update(t){void 0!==this.Πk&&(this.Πk.forEach(((t,n)=>this.Πj(n,this[n],t))),this.Πk=void 0),this.Π$()}updated(t){}firstUpdated(t){}}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
var g,y,b,m;v.finalized=!0,v.elementProperties=new Map,v.elementStyles=[],v.shadowRootOptions={mode:"open"},null===(s=(c=globalThis).reactiveElementPlatformSupport)||void 0===s||s.call(c,{ReactiveElement:v}),(null!==(f=(l=globalThis).reactiveElementVersions)&&void 0!==f?f:l.reactiveElementVersions=[]).push("1.0.0-rc.2");const _=globalThis.trustedTypes,x=_?_.createPolicy("lit-html",{createHTML:t=>t}):void 0,w=`lit$${(Math.random()+"").slice(9)}$`,M="?"+w,C=`<${M}>`,k=document,S=(t="")=>k.createComment(t),N=t=>null===t||"object"!=typeof t&&"function"!=typeof t,A=Array.isArray,E=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,T=/-->/g,L=/>/g,z=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,R=/'/g,P=/"/g,D=/^(?:script|style|textarea)$/i,H=(t=>(n,...e)=>({_$litType$:t,strings:n,values:e}))(1),O=Symbol.for("lit-noChange"),U=Symbol.for("lit-nothing"),B=new WeakMap,q=k.createTreeWalker(k,129,null,!1),I=(t,n)=>{const e=t.length-1,r=[];let i,o=2===n?"<svg>":"",a=E;for(let n=0;n<e;n++){const e=t[n];let u,c,s=-1,f=0;for(;f<e.length&&(a.lastIndex=f,c=a.exec(e),null!==c);)f=a.lastIndex,a===E?"!--"===c[1]?a=T:void 0!==c[1]?a=L:void 0!==c[2]?(D.test(c[2])&&(i=RegExp("</"+c[2],"g")),a=z):void 0!==c[3]&&(a=z):a===z?">"===c[0]?(a=null!=i?i:E,s=-1):void 0===c[1]?s=-2:(s=a.lastIndex-c[2].length,u=c[1],a=void 0===c[3]?z:'"'===c[3]?P:R):a===P||a===R?a=z:a===T||a===L?a=E:(a=z,i=void 0);const l=a===z&&t[n+1].startsWith("/>")?" ":"";o+=a===E?e+C:s>=0?(r.push(u),e.slice(0,s)+"$lit$"+e.slice(s)+w+l):e+w+(-2===s?(r.push(void 0),n):l)}const u=o+(t[e]||"<?>")+(2===n?"</svg>":"");return[void 0!==x?x.createHTML(u):u,r]};class F{constructor({strings:t,_$litType$:n},e){let r;this.parts=[];let i=0,o=0;const a=t.length-1,u=this.parts,[c,s]=I(t,n);if(this.el=F.createElement(c,e),q.currentNode=this.el.content,2===n){const t=this.el.content,n=t.firstChild;n.remove(),t.append(...n.childNodes)}for(;null!==(r=q.nextNode())&&u.length<a;){if(1===r.nodeType){if(r.hasAttributes()){const t=[];for(const n of r.getAttributeNames())if(n.endsWith("$lit$")||n.startsWith(w)){const e=s[o++];if(t.push(n),void 0!==e){const t=r.getAttribute(e.toLowerCase()+"$lit$").split(w),n=/([.?@])?(.*)/.exec(e);u.push({type:1,index:i,name:n[2],strings:t,ctor:"."===n[1]?Z:"?"===n[1]?X:"@"===n[1]?G:$})}else u.push({type:6,index:i})}for(const n of t)r.removeAttribute(n)}if(D.test(r.tagName)){const t=r.textContent.split(w),n=t.length-1;if(n>0){r.textContent=_?_.emptyScript:"";for(let e=0;e<n;e++)r.append(t[e],S()),q.nextNode(),u.push({type:2,index:++i});r.append(t[n],S())}}}else if(8===r.nodeType)if(r.data===M)u.push({type:2,index:i});else{let t=-1;for(;-1!==(t=r.data.indexOf(w,t+1));)u.push({type:7,index:i}),t+=w.length-1}i++}}static createElement(t,n){const e=k.createElement("template");return e.innerHTML=t,e}}function V(t,n,e=t,r){var i,o,a,u;if(n===O)return n;let c=void 0!==r?null===(i=e.Σi)||void 0===i?void 0:i[r]:e.Σo;const s=N(n)?void 0:n._$litDirective$;return(null==c?void 0:c.constructor)!==s&&(null===(o=null==c?void 0:c.O)||void 0===o||o.call(c,!1),void 0===s?c=void 0:(c=new s(t),c.T(t,e,r)),void 0!==r?(null!==(a=(u=e).Σi)&&void 0!==a?a:u.Σi=[])[r]=c:e.Σo=c),void 0!==c&&(n=V(t,c.S(t,n.values),c,r)),n}class Y{constructor(t,n){this.l=[],this.N=void 0,this.D=t,this.M=n}u(t){var n;const{el:{content:e},parts:r}=this.D,i=(null!==(n=null==t?void 0:t.creationScope)&&void 0!==n?n:k).importNode(e,!0);q.currentNode=i;let o=q.nextNode(),a=0,u=0,c=r[0];for(;void 0!==c;){if(a===c.index){let n;2===c.type?n=new j(o,o.nextSibling,this,t):1===c.type?n=new c.ctor(o,c.name,c.strings,this,t):6===c.type&&(n=new J(o,this,t)),this.l.push(n),c=r[++u]}a!==(null==c?void 0:c.index)&&(o=q.nextNode(),a++)}return i}v(t){let n=0;for(const e of this.l)void 0!==e&&(void 0!==e.strings?(e.I(t,e,n),n+=e.strings.length-2):e.I(t[n])),n++}}class j{constructor(t,n,e,r){this.type=2,this.N=void 0,this.A=t,this.B=n,this.M=e,this.options=r}setConnected(t){var n;null===(n=this.P)||void 0===n||n.call(this,t)}get parentNode(){return this.A.parentNode}get startNode(){return this.A}get endNode(){return this.B}I(t,n=this){t=V(this,t,n),N(t)?t===U||null==t||""===t?(this.H!==U&&this.R(),this.H=U):t!==this.H&&t!==O&&this.m(t):void 0!==t._$litType$?this._(t):void 0!==t.nodeType?this.$(t):(t=>{var n;return A(t)||"function"==typeof(null===(n=t)||void 0===n?void 0:n[Symbol.iterator])})(t)?this.g(t):this.m(t)}k(t,n=this.B){return this.A.parentNode.insertBefore(t,n)}$(t){this.H!==t&&(this.R(),this.H=this.k(t))}m(t){const n=this.A.nextSibling;null!==n&&3===n.nodeType&&(null===this.B?null===n.nextSibling:n===this.B.previousSibling)?n.data=t:this.$(k.createTextNode(t)),this.H=t}_(t){var n;const{values:e,_$litType$:r}=t,i="number"==typeof r?this.C(t):(void 0===r.el&&(r.el=F.createElement(r.h,this.options)),r);if((null===(n=this.H)||void 0===n?void 0:n.D)===i)this.H.v(e);else{const t=new Y(i,this),n=t.u(this.options);t.v(e),this.$(n),this.H=t}}C(t){let n=B.get(t.strings);return void 0===n&&B.set(t.strings,n=new F(t)),n}g(t){A(this.H)||(this.H=[],this.R());const n=this.H;let e,r=0;for(const i of t)r===n.length?n.push(e=new j(this.k(S()),this.k(S()),this,this.options)):e=n[r],e.I(i),r++;r<n.length&&(this.R(e&&e.B.nextSibling,r),n.length=r)}R(t=this.A.nextSibling,n){var e;for(null===(e=this.P)||void 0===e||e.call(this,!1,!0,n);t&&t!==this.B;){const n=t.nextSibling;t.remove(),t=n}}}class ${constructor(t,n,e,r,i){this.type=1,this.H=U,this.N=void 0,this.V=void 0,this.element=t,this.name=n,this.M=r,this.options=i,e.length>2||""!==e[0]||""!==e[1]?(this.H=Array(e.length-1).fill(U),this.strings=e):this.H=U}get tagName(){return this.element.tagName}I(t,n=this,e,r){const i=this.strings;let o=!1;if(void 0===i)t=V(this,t,n,0),o=!N(t)||t!==this.H&&t!==O,o&&(this.H=t);else{const r=t;let a,u;for(t=i[0],a=0;a<i.length-1;a++)u=V(this,r[e+a],n,a),u===O&&(u=this.H[a]),o||(o=!N(u)||u!==this.H[a]),u===U?t=U:t!==U&&(t+=(null!=u?u:"")+i[a+1]),this.H[a]=u}o&&!r&&this.W(t)}W(t){t===U?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class Z extends ${constructor(){super(...arguments),this.type=3}W(t){this.element[this.name]=t===U?void 0:t}}class X extends ${constructor(){super(...arguments),this.type=4}W(t){t&&t!==U?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}class G extends ${constructor(){super(...arguments),this.type=5}I(t,n=this){var e;if((t=null!==(e=V(this,t,n,0))&&void 0!==e?e:U)===O)return;const r=this.H,i=t===U&&r!==U||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,o=t!==U&&(r===U||i);i&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,t),this.H=t}handleEvent(t){var n,e;"function"==typeof this.H?this.H.call(null!==(e=null===(n=this.options)||void 0===n?void 0:n.host)&&void 0!==e?e:this.element,t):this.H.handleEvent(t)}}class J{constructor(t,n,e){this.element=t,this.type=6,this.N=void 0,this.V=void 0,this.M=n,this.options=e}I(t){V(this,t)}}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
var W,K,Q,tt,nt,et;null===(y=(g=globalThis).litHtmlPlatformSupport)||void 0===y||y.call(g,F,j),(null!==(b=(m=globalThis).litHtmlVersions)&&void 0!==b?b:m.litHtmlVersions=[]).push("2.0.0-rc.3"),(null!==(W=(et=globalThis).litElementVersions)&&void 0!==W?W:et.litElementVersions=[]).push("3.0.0-rc.2");class rt extends v{constructor(){super(...arguments),this.renderOptions={host:this},this.Φt=void 0}createRenderRoot(){var t,n;const e=super.createRenderRoot();return null!==(t=(n=this.renderOptions).renderBefore)&&void 0!==t||(n.renderBefore=e.firstChild),e}update(t){const n=this.render();super.update(t),this.Φt=((t,n,e)=>{var r,i;const o=null!==(r=null==e?void 0:e.renderBefore)&&void 0!==r?r:n;let a=o._$litPart$;if(void 0===a){const t=null!==(i=null==e?void 0:e.renderBefore)&&void 0!==i?i:null;o._$litPart$=a=new j(n.insertBefore(S(),t),t,void 0,e)}return a.I(t),a})(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this.Φt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this.Φt)||void 0===t||t.setConnected(!1)}render(){return O}}function it(t){return function(n){var e=n.dispatch,r=n.getState;return function(n){return function(i){return"function"==typeof i?i(e,r,t):n(i)}}}}rt.finalized=!0,rt._$litElement$=!0,null===(Q=(K=globalThis).litElementHydrateSupport)||void 0===Q||Q.call(K,{LitElement:rt}),null===(nt=(tt=globalThis).litElementPlatformSupport)||void 0===nt||nt.call(tt,{LitElement:rt});var ot=it();ot.withExtraArgument=it;
/**
    @license
    Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
    The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
    The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
    Code distributed by Google as part of the polymer project is also
    subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
    */
const at=t=>n=>class extends n{connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._storeUnsubscribe=t.subscribe((()=>this.stateChanged(t.getState()))),this.stateChanged(t.getState())}disconnectedCallback(){this._storeUnsubscribe(),super.disconnectedCallback&&super.disconnectedCallback()}stateChanged(t){}}
/**
    @license
    Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
    The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
    The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
    Code distributed by Google as part of the polymer project is also
    subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
    */,ut="NEW_COLOR",ct="EDIT_COLOR",st="ADD_BULK_COLOR",ft="ADD_CODE_COLOR",lt="CLEAR_COLOR_LIST",ht="CLEAR_COLOR_ITEM",dt="ADD_NEW",pt="EDIT_RATIO",vt="CLEAR_RATIO_LIST",gt="CLEAR_RATIO_ITEM";function yt(t,n){return t===n}function bt(t,n,e){if(null===n||null===e||n.length!==e.length)return!1;for(var r=n.length,i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}!function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r]}((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt,e=null,r=null;return function(){return bt(n,e,arguments)||(r=t.apply(null,arguments)),e=arguments,r}}));const mt=["#ffffff"],_t=[1],xt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||t.compose,wt=t.createStore(((t,n)=>t),xt((Mt=t.combineReducers,t=>(n,e)=>{let r={};const i=t(n,e);return Object.assign({},i,{addReducers(t){const n=Object.assign({},r,t);this.replaceReducer(Mt(r=n))}})}),t.applyMiddleware(ot)));var Mt;wt.addReducers({keyColors:(t=mt,n)=>{switch(n.type){case ut:return[...t,n.entry];case ct:const e=n.entry,r=n.key,i=[...t];return i[r]=e,i;case ht:const o={...t,keyColors:{...t.keyColors}};return delete o.keyColors[n.entryId],o;case lt:return[n.entry];default:return t}},contrastStops:(t=_t,n)=>{switch(n.type){case dt:return[...t,n.entry];case pt:let e=[...t];return e[n.key]=n.entry,e;case gt:return t.splice(n.key,1),[...t];case vt:return[n.entry];default:return t}}});const Ct={addNewColor:function(t){return n=>{n({type:ut,entry:t})}},updateColor:function(t,n){return e=>{e({type:ct,key:n,entry:t})}},addBulkColor:function(t){return{type:st,entry:t}},addFromCode:function(t){return{type:ft,entry:t}},clearKeyColors:function(t){return{type:lt,entry:t}},clearColorItem:function(t,n){return{type:ht,key:n,entry:t}}};const kt={addNewStop:function(t){return n=>{n({type:dt,entry:t})}},updateStop:function(t,n){return e=>{e({type:pt,key:n,entry:t})}},clearContrastStops:function(t){return{type:vt,entry:t}},clearStopItem:function(t,n){return{type:gt,key:n,entry:t}}};var St=a`/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0;fill:var(--foreground)}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}`,Nt=a`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}`,At=a`${St}${Nt}*,::after,::before{flex-direction:row;box-sizing:border-box;margin:0;padding:0}::selection{background-color:var(--foreground);color:var(--background)}.f-l,.f-r{float:none}avatar-image.f-r{float:right}.cf::after{content:"";display:table;clear:both}img{transition:var(--transition);display:inline-block;width:100%}video{display:block}h1{font-size:var(--ramp-t1);font-weight:600;line-height:1.2}h2{display:inline;font-size:var(--ramp-t6);font-weight:600;line-height:1.5rem;vertical-align:top}h3{font-size:var(--ramp-t3);font-weight:600;line-height:1.294117647058824}h4{font-size:var(--ramp-t4);font-weight:600;line-height:1.285714285714286}h5{font-size:var(--ramp-t5);font-weight:600;line-height:1.4}h6{font-size:var(--ramp-t6);font-weight:600;line-height:1.5}.subheading{font-weight:300}b,strong{font-size:var(--ramp-t7);font-weight:600;line-height:1.428571428571429}p{margin-bottom:var(--margin)}p.p-1{font-size:var(--ramp-t5);font-weight:400}p.p-2{font-size:var(--ramp-t6)}div,p,p.p-3,ul{font-size:var(--ramp-t7)}p.mono,pre{font-family:Monaco}.emph{font-family:Georgia,'Times New Roman',Times,serif;font-weight:100}.label,label{font-size:var(--ramp-t7);font-weight:300}caption,small{font-weight:300}.metatext,caption.c1,small.c1{font-size:var(--ramp-t8)}caption.c1-upper,small.c1-upper{text-transform:uppercase;font-size:var(--ramp-t8)}caption.c2,small.c2{font-size:var(--ramp-t9)}caption.c2-upper,small.c2-upper{text-transform:uppercase;font-size:var(--ramp-t9)}ul{list-style-type:none}a,a:focus,a:hover,a:link,a:visited{display:inline-block;transition:all ease .3s;text-decoration:none;color:var(--link-rest);padding:.3rem;height:100%}a:hover{color:var(--background);box-shadow:inset 0 -15em 0 var(--link-hover)}a:active{color:var(--link-active)}a.block-link:link,a.block-link:visited{color:var(--foreground);display:block;width:100%}.grid{display:grid;grid-template-columns:repeat(1,1fr);grid-gap:var(--margin)}.flex-container{display:flex;flex-wrap:nowrap}a.button,button,input[type=submit]{transition:var(--transition);display:inline;border:1px solid var(--foreground);border-radius:4px;font-size:var(--tr-t7);text-align:center;text-transform:none;vertical-align:top;background:0 0;color:var(--foreground);cursor:pointer;padding:calc(.75rem - 1px);fill:var(--foreground)}a.button:hover,button:hover,input[type=submit]:hover{background-color:var(--foreground);color:var(--background);fill:var(--background)!important}a.stealth,button.stealth{border:none}a.stealth:hover,button.stealth:hover{background:var(--hover-background)}a.button+a.button input[type=submit]+input[type=submit],button+button,button-m+button-m{margin-left:var(--margin)}.input-group{display:flex;flex-direction:column;margin-bottom:var(--margin)}input,select,textarea{display:inline-block;outline:0;padding:.75rem .5rem;color:var(--foreground);transition:.1s ease-out;border:1px solid;border-color:var(--foreground);border-radius:var(--design-unit);background:0 0;cursor:text;line-height:1.5;width:100%}input:focus{border:1px solid var(--focus)}input:disabled,input:disabled~.label{opacity:.5}a:link{color:var(--link-rest)}a:visited{color:var(--link-rest)}a:hover{color:var(--link-hover)}a:active{color:var(--link-active)}@media (prefers-color-scheme:dark){a:link{color:var(--cr-blue-40)}a:visited{color:var(--cr-blue-40)}a:hover{color:var(--cr-blue-50)}a:active{color:var(--cr-blue-20)}}:host{display:block}`;class Et extends(at(wt)(rt)){static get styles(){return a`input[type=color]{-webkit-appearance:none;height:48px;width:48px;border:0;padding:0;margin:0 0 .5rem 0;background-color:transparent;border:none;border-collapse:collapse;outline:0;border-radius:4px}input[type=color]::-webkit-color-swatch-wrapper{padding:0;border:none}input[type=color]::-webkit-color-swatch{border:1px solid var(--df-dark-neutral-dark);border-radius:4px}`}static get properties(){return{colorValue:{color:{type:String},key:{type:Number}}}}constructor(){super(),this.colorValue={color:"#ffffff",key:0}}stateChanged(t){this.colorValue.color=t.keyColors[this.colorValue.key]}render(){return H`<input type="color" @change="${this._handleChange}" value="${this.colorValue.color}">`}_handleChange=t=>{this.colorValue.color=t.target.value,wt.dispatch(Ct.updateColor(this.colorValue.color,this.colorValue.key))}}customElements.define("color-swatch",Et);const Tt=H`<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M9.32825 4.4375H5.57825V0.6875C5.57825 0.59375 5.4845 0.5 5.39075 0.5H4.64075C4.52356 0.5 4.45325 0.59375 4.45325 0.6875V4.4375H0.703247C0.58606 4.4375 0.515747 4.53125 0.515747 4.625V5.375C0.515747 5.49219 0.58606 5.5625 0.703247 5.5625H4.45325V9.3125C4.45325 9.42969 4.52356 9.5 4.64075 9.5H5.39075C5.4845 9.5 5.57825 9.42969 5.57825 9.3125V5.5625H9.32825C9.422 5.5625 9.51575 5.49219 9.51575 5.375V4.625C9.51575 4.53125 9.422 4.4375 9.32825 4.4375Z"/></svg>`,Lt=H`<svg width="15" height="12" viewBox="0 0 15 12" xmlns="http://www.w3.org/2000/svg"><path d="M14.7314 3.125L13.5829 0.710938C13.5126 0.59375 13.3954 0.5 13.2548 0.5L7.65323 1.25C7.65323 1.25 2.05167 0.5 2.02823 0.5C1.88761 0.5 1.77042 0.59375 1.70011 0.710938L0.551672 3.125C0.457922 3.33594 0.551672 3.59375 0.786047 3.66406L1.93448 4.01562V8.96094C1.93448 9.3125 2.16886 9.61719 2.47355 9.6875L7.30167 10.9766C7.60636 11.0469 7.84073 11 7.98136 10.9766L12.8095 9.6875C13.1142 9.61719 13.3485 9.3125 13.3485 8.96094V4.01562L14.497 3.66406C14.7314 3.59375 14.8251 3.33594 14.7314 3.125ZM2.23917 1.29688L6.45792 1.85938L5.12198 4.20312L1.37198 3.07812L2.23917 1.29688ZM2.66105 4.22656C5.40323 5.07031 5.21573 5 5.28605 5C5.42667 5 5.54386 4.95312 5.59073 4.83594L7.27823 1.88281V10.1797L2.66105 8.96094V4.22656ZM12.622 8.96094L8.0048 10.1797V1.88281L9.6923 4.8125C9.76261 4.92969 9.8798 5 9.99698 5C10.0673 5 9.8798 5.04688 12.622 4.22656V8.96094ZM10.161 4.20312L8.82511 1.85938L13.0673 1.29688L13.911 3.07812L10.161 4.20312Z"/></svg>`,zt=H`<svg width="12" height="13" viewBox="0 0 12 13" xmlns="http://www.w3.org/2000/svg"><path d="M6.07977 0.5C2.86884 0.5 0.267273 3.10156 0.267273 6.3125C0.267273 9.52344 2.86884 12.125 6.07977 12.125C9.29071 12.125 11.8923 9.52344 11.8923 6.3125C11.8923 3.10156 9.29071 0.5 6.07977 0.5ZM6.07977 11.375C3.29071 11.375 1.01727 9.125 1.01727 6.3125C1.01727 3.54688 3.26727 1.25 6.07977 1.25C8.8454 1.25 11.1423 3.52344 11.1423 6.3125C11.1423 9.10156 8.86884 11.375 6.07977 11.375ZM8.2829 4.69531C8.40009 4.57812 8.40009 4.41406 8.2829 4.29688L8.0954 4.10938C7.97821 3.99219 7.81415 3.99219 7.69696 4.10938L6.07977 5.72656L4.43915 4.10938C4.3454 3.99219 4.1579 3.99219 4.04071 4.10938L3.85321 4.29688C3.73602 4.41406 3.73602 4.57812 3.85321 4.69531L5.4704 6.3125L3.85321 7.95312C3.73602 8.04688 3.73602 8.23438 3.85321 8.35156L4.04071 8.53906C4.1579 8.65625 4.3454 8.65625 4.43915 8.53906L6.07977 6.92188L7.69696 8.53906C7.81415 8.65625 7.97821 8.65625 8.0954 8.53906L8.2829 8.35156C8.40009 8.23438 8.40009 8.04688 8.2829 7.95312L6.66571 6.3125L8.2829 4.69531Z"/></svg>`,Rt=H`<svg width="15" height="13" viewBox="0 0 15 13" xmlns="http://www.w3.org/2000/svg"><path d="M6.12274 12.4827C6.19305 12.5061 6.2868 12.4592 6.2868 12.3889L9.59149 0.834222C9.61493 0.763909 9.56805 0.693597 9.49774 0.670159L8.9118 0.506097C8.84149 0.482659 8.77118 0.529534 8.74774 0.599847L5.44305 12.1545C5.41962 12.2248 5.46649 12.2952 5.5368 12.3186L6.12274 12.4827ZM4.34149 9.55297L4.7868 9.06078C4.83368 9.01391 4.83368 8.9436 4.76337 8.89672L1.92743 6.48266L4.76337 4.09203C4.83368 4.04516 4.83368 3.97485 4.7868 3.92797L4.34149 3.43578C4.31805 3.38891 4.2243 3.38891 4.17743 3.43578L0.802429 6.41235C0.755554 6.45922 0.755554 6.52953 0.802429 6.57641L4.17743 9.55297C4.2243 9.59985 4.31805 9.59985 4.34149 9.55297ZM10.8571 9.55297L14.2321 6.57641C14.279 6.52953 14.279 6.45922 14.2321 6.41235L10.8571 3.43578C10.8102 3.38891 10.7399 3.38891 10.6931 3.43578L10.2477 3.92797C10.2009 3.97485 10.2243 4.04516 10.2712 4.09203L13.1071 6.48266L10.2712 8.89672C10.2243 8.9436 10.2009 9.01391 10.2477 9.06078L10.6931 9.55297C10.7165 9.59985 10.8102 9.59985 10.8571 9.55297Z"/></svg>`,Pt=H`<svg width="16" height="11" viewBox="0 0 16 11" xmlns="http://www.w3.org/2000/svg"><path d="M4.64076 3.10156C4.96889 3.10156 5.13295 2.70312 4.89858 2.46875L3.02358 0.59375C2.95326 0.546875 2.83608 0.5 2.74233 0.5C2.67201 0.5 2.55483 0.546875 2.48451 0.59375L0.609514 2.46875C0.398577 2.67969 0.515764 3.10156 0.890764 3.10156H2.39076V8.35156H0.890764C0.539202 8.35156 0.375139 8.77344 0.609514 9.00781L2.48451 10.8828C2.55483 10.9297 2.67201 10.9766 2.76576 10.9766C2.83608 10.9766 2.95326 10.9297 3.02358 10.8828L4.89858 9.00781C5.10951 8.77344 4.99233 8.35156 4.64076 8.35156H3.14076V3.10156H4.64076ZM3.7267 9.10156L2.76576 10.0859L1.78139 9.10156H3.7267ZM2.39076 2.35156H1.78139L2.76576 1.39062L3.7267 2.35156H2.39076ZM15.3283 5.35156H6.70326C6.58608 5.35156 6.51576 5.44531 6.51576 5.53906V5.91406C6.51576 6.03125 6.58608 6.10156 6.70326 6.10156H15.3283C15.422 6.10156 15.5158 6.03125 15.5158 5.91406V5.53906C15.5158 5.44531 15.422 5.35156 15.3283 5.35156ZM15.3283 8.35156H6.70326C6.58608 8.35156 6.51576 8.44531 6.51576 8.53906V8.91406C6.51576 9.03125 6.58608 9.10156 6.70326 9.10156H15.3283C15.422 9.10156 15.5158 9.03125 15.5158 8.91406V8.53906C15.5158 8.44531 15.422 8.35156 15.3283 8.35156ZM15.3283 2.35156H6.70326C6.58608 2.35156 6.51576 2.44531 6.51576 2.53906V2.91406C6.51576 3.03125 6.58608 3.10156 6.70326 3.10156H15.3283C15.422 3.10156 15.5158 3.03125 15.5158 2.91406V2.53906C15.5158 2.44531 15.422 2.35156 15.3283 2.35156Z"/></svg>`,Dt=H`<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8.01575 0.5C3.8595 0.5 0.515747 3.875 0.515747 8C0.515747 12.1562 3.8595 15.5 8.01575 15.5C12.1407 15.5 15.5157 12.1562 15.5157 8C15.5157 3.875 12.1407 0.5 8.01575 0.5ZM8.01575 14.5C4.422 14.5 1.51575 11.5938 1.51575 8C1.51575 4.4375 4.422 1.5 8.01575 1.5C11.5782 1.5 14.5157 4.4375 14.5157 8C14.5157 11.5938 11.5782 14.5 8.01575 14.5ZM8.01575 5.75C8.422 5.75 8.76575 5.4375 8.76575 5C8.76575 4.59375 8.422 4.25 8.01575 4.25C7.57825 4.25 7.26575 4.59375 7.26575 5C7.26575 5.4375 7.57825 5.75 8.01575 5.75ZM9.51575 11H8.51575V7.5C8.51575 7.25 8.26575 7 8.01575 7H7.01575C6.7345 7 6.51575 7.25 6.51575 7.5C6.51575 7.78125 6.7345 8 7.01575 8H7.51575V11H6.51575C6.2345 11 6.01575 11.25 6.01575 11.5C6.01575 11.7812 6.2345 12 6.51575 12H9.51575C9.76575 12 10.0157 11.7812 10.0157 11.5C10.0157 11.25 9.76575 11 9.51575 11Z"/></svg>`,Ht=H`<svg width="15" height="17" viewBox="0 0 15 17" xmlns="http://www.w3.org/2000/svg"><path d="M12.5 7.5H11.5V4.5C11.5 2.3125 9.6875 0.5 7.5 0.5C5.28125 0.5 3.5 2.3125 3.5 4.5V7.5H2.5C1.375 7.5 0.5 8.40625 0.5 9.5V14.5C0.5 15.625 1.375 16.5 2.5 16.5H12.5C13.5938 16.5 14.5 15.625 14.5 14.5V9.5C14.5 8.40625 13.5938 7.5 12.5 7.5ZM4.5 4.5C4.5 2.875 5.84375 1.5 7.5 1.5C9.125 1.5 10.5 2.875 10.5 4.5V7.5H4.5V4.5ZM13.5 14.5C13.5 15.0625 13.0312 15.5 12.5 15.5H2.5C1.9375 15.5 1.5 15.0625 1.5 14.5V9.5C1.5 8.96875 1.9375 8.5 2.5 8.5H12.5C13.0312 8.5 13.5 8.96875 13.5 9.5V14.5Z"/></svg>`,Ot=H`<svg width="13" height="12" viewBox="0 0 13 12" xmlns="http://www.w3.org/2000/svg"><path d="M5.14062 8.46875C5.09375 8.42188 5.02344 8.39844 4.95312 8.39844C4.88281 8.39844 4.78906 8.42188 4.76562 8.46875L3.5 9.71094V0.6875C3.5 0.59375 3.40625 0.5 3.3125 0.5H2.9375C2.82031 0.5 2.75 0.59375 2.75 0.6875V9.6875L1.48438 8.46875C1.4375 8.42188 1.34375 8.39844 1.27344 8.39844C1.20312 8.39844 1.13281 8.42188 1.08594 8.46875L0.945312 8.60938C0.898438 8.65625 0.851562 8.72656 0.851562 8.79688C0.851562 8.86719 0.898438 8.96094 0.945312 9.00781L2.91406 10.9297C2.96094 10.9766 3.05469 11.0234 3.10156 11.0234C3.17188 11.0234 3.26562 10.9766 3.3125 10.9297L5.28125 9.00781C5.32812 8.96094 5.375 8.86719 5.375 8.79688C5.375 8.72656 5.32812 8.65625 5.28125 8.60938L5.14062 8.46875ZM6.96875 4.25H10.5312C10.7891 4.25 11 4.0625 11 3.78125V0.96875C11 0.710938 10.7891 0.5 10.5312 0.5H6.96875C6.6875 0.5 6.5 0.710938 6.5 0.96875V3.78125C6.5 4.0625 6.6875 4.25 6.96875 4.25ZM7.25 1.25H10.25V3.5H7.25V1.25ZM11.8438 5.75H7.15625C6.78125 5.75 6.5 6.05469 6.5 6.40625V10.3438C6.5 10.7188 6.78125 11 7.15625 11H11.8438C12.1953 11 12.5 10.7188 12.5 10.3438V6.40625C12.5 6.05469 12.1953 5.75 11.8438 5.75ZM11.75 10.25H7.25V6.5H11.75V10.25Z"/></svg>`;customElements.define("svg-icon",class extends rt{static get properties(){return{icon:{type:String}}}static get styles(){return[At,a`:host{display:inline}div{display:inline-block;position:relative;height:24px;width:24px}svg{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}`]}render(){return H`<div>${(t=>{switch(t){case"add":return Tt;case"bulk":return Lt;case"clear":return zt;case"code":return Rt;case"distribute":return Pt;case"information":return Dt;case"lock":return Ht;case"sort":return Ot;default:return Tt}})(this.icon)}</div>`}});customElements.define("tooltip-trigger",class extends rt{static get styles(){return[At,a`:host{display:inline}`]}render(){return H`<svg-icon icon="information"></svg-icon>`}});class Ut extends(at(wt)(rt)){static get styles(){return[At,a`color-swatch{margin-right:1rem;margin-bottom:.5rem}.grid{grid-template-columns:1fr auto}div{margin-bottom:.5rem}`]}static get properties(){return{keyColors:{type:Array}}}constructor(){super(),this.keyColors=["#ffffff"]}stateChanged(t){this.keyColors=t.keyColors}render(){return H`<section><div class="grid"><div><h2>Key colors</h2><tooltip-trigger></tooltip-trigger></div><div><button-m data-event="ADD" @click="${this._handleClick}"><svg-icon icon="add"></svg-icon></button-m><button-m data-event="BULK" @click="${this._handleClick}"><svg-icon icon="bulk"></svg-icon></button-m><button-m data-event="CODE" @click="${this._handleClick}"><svg-icon icon="code"></svg-icon></button-m><button-m data-event="CLEAR" @click="${this._handleClick}"><svg-icon icon="clear"></svg-icon></button-m></div></div><div class="colorGrid">${this.keyColors.map(((t,n)=>H`<color-swatch .colorValue="${{color:t,key:n}}"></color-swatch>`))}</div></section>`}_handleClick=t=>{let n;n="BUTTON-M"===t.target.parentElement.tagName?t.target.parentElement:t.target,this._executeAction(n.dataset.event)};_executeAction=t=>{switch(t){case"ADD":wt.dispatch(Ct.addNewColor(this.keyColors[this.keyColors.length-1]));break;case"BULK":console.log("Execute BULK");break;case"CODE":console.log("Execute CODE");break;case"CLEAR":wt.dispatch(Ct.clearKeyColors("#ffffff"))}}}customElements.define("key-colors",Ut);customElements.define("base-color",class extends rt{static get styles(){return[At,a`div{margin-bottom:.5rem}`]}static get properties(){return{}}constructor(){super()}render(){return H`<section><div><h2>Base color</h2></div><div><color-swatch .colorValue="${{color:"#FFFFFF",key:0}}"></color-swatch></div></section>`}});customElements.define("color-space",class extends rt{static get styles(){return[At,a`div{margin-bottom:.5rem}select{width:auto;cursor:pointer}`]}static get properties(){return{}}constructor(){super()}render(){return H`<section><div><h2>Color space</h2></div><select><option>CIECAM02</option><option>LCH</option><option>LAB</option><option>HSL</option><option>HSLuv</option><option>RGB</option><option>HSV</option><option>HEX</option></select></section>`}});customElements.define("button-m",class extends rt{static get styles(){return[At,a`:host{display:inline-block}button{display:inline-grid;align-items:center}`]}static get properties(){return{buttonText:{type:String}}}constructor(){super(),this.buttonText=""}render(){return H`${this.buttonText?H`<style>button{grid-template-columns:1fr auto}</style>`:""} <button>${this.buttonText}<slot></slot></button>`}});class Bt extends(at(wt)(rt)){render(){return H`<div class="grid"><input @change="${this._handleChange}" type="text" placeholder="4.5" value="${this.contrastRatio.ratio}"><button-m @click="${this._handleRemove}"><svg-icon icon="clear"></svg-icon></button-m></div>`}static get styles(){return[At,a`input{width:6.75rem}.grid{grid-template-columns:auto 1fr;margin-bottom:.5rem}`]}static get properties(){return{contrastRatio:{ratio:{type:String},key:{type:Number}}}}constructor(){super(),this.contrastRatio={ratio:1,key:0}}stateChanged(t){this.contrastRatio.ratio=t.contrastStops[this.contrastRatio.key]}_handleChange=t=>{this.contrastRatio.ratio=t.target.value,wt.dispatch(kt.updateStop(this.contrastRatio.ratio,this.contrastRatio.key))};_handleRemove=t=>{wt.dispatch(kt.clearStopItem(this.contrastRatio.ratio,this.contrastRatio.key))}}customElements.define("contrast-stop",Bt);class qt extends(at(wt)(rt)){static get properties(){return{ratios:{type:Array},keyColors:{type:Array}}}constructor(){super(),this.keyColors=["#ffffff"],this.ratios=[]}stateChanged(t){this.ratios=t.contrastStops,this.keyColors=t.keyColors}render(){return H`<div class="gradient-map" style="background:linear-gradient(${this.keyColors.map(((t,n)=>this.keyColors.length<=1?"#FFFFFF, ":`${t}`))})"><div class="container">${this.ratios.map(((t,n)=>H`<div class="contrast-stop" style="top:calc((${t-1}/${this.ratios[this.ratios.length-1]}) * 100%)"></div>`))}</div></div>`}static get styles(){return[At,a`:host{display:inline}.gradient-map{margin-top:5.5rem;position:relative;padding:1rem 0;width:100%;height:calc(100% - 9rem);border:1px solid var(--df-dark-neutral-dark);border-radius:.25rem}.contrast-stop{position:absolute;left:50%;transform:translateX(-50%);width:12px;height:12px;border:1px solid var(--foreground);border-radius:100%;background:var(--background)}.container{position:relative;display:block;height:100%}`]}}customElements.define("gradient-map",qt);class It extends(at(wt)(rt)){static get styles(){return[At,a`div{margin-bottom:.5rem}.grid{grid-template-columns:2fr 1fr}.button-container{display:flex;justify-content:space-between}`]}static get properties(){return{ratios:{type:Array},keyColors:{type:Array}}}constructor(){super(),this.keyColors=["#ffffff"],this.ratios=[1]}stateChanged(t){this.keyColors=t.keyColors,this.ratios=t.contrastStops}render(){return H`<section><div class="grid"><div><div><h2>Contrast Ratios</h2><tooltip-trigger></tooltip-trigger></div><div class="button-container"><button-m data-event="SORT" @click="${this._handleClick}"><svg-icon icon="sort"></svg-icon></button-m><button-m data-event="DISTRIBUTE" @click="${this._handleClick}"><svg-icon icon="distribute"></svg-icon></button-m><button-m data-event="ADD" @click="${this._handleClick}"><svg-icon icon="add"></svg-icon></button-m></div>${this.ratios.map(((t,n)=>H`<contrast-stop .contrastRatio="${{ratio:t,key:n}}"></contrast-stop>`))}<button-m buttonText="Clear all" data-event="CLEAR" @click="${this._handleClick}"><svg-icon icon="clear"></svg-icon></button-m></div><div><gradient-map></gradient-map></div></div></section>`}_handleClick=t=>{let n;n="BUTTON-M"===t.target.parentElement.tagName?t.target.parentElement:t.target,this._executeAction(n.dataset.event)};_executeAction=t=>{switch(t){case"ADD":wt.dispatch(kt.addNewStop(this.ratios.length+1));break;case"SORT":console.log("Execute sort");break;case"DISTRIBUTE":console.log("Execute distribute");break;case"CLEAR":wt.dispatch(kt.clearContrastStops(1))}}}customElements.define("contrast-ratios",It);customElements.define("color-results",class extends rt{static get styles(){return[At,a`.container{display:grid;grid-template-columns:1fr 2fr;gap:1rem}p{display:inline;margin:0}input{width:100%;margin-bottom:.5rem}.ramp-results{border-radius:4px;overflow:hidden}.ramp-item{display:grid;grid-template-columns:1fr 1fr;justify-content:space-between;color:#000;padding:1.25rem .5rem}`]}render(){return H`<div class="container"><div><input type="text" placeholder="100"> <input type="text" placeholder="200"> <input type="text" placeholder="300"> <input type="text" placeholder="400"> <input type="text" placeholder="500"></div><div class="ramp-results"><div class="ramp-item" style="background:#ffeae5"><p>1.11</p><p>#FFEAE5</p></div><div class="ramp-item" style="background:#ef927c"><p>2.22</p><p>#EF927C</p></div><div class="ramp-item" style="background:#e0634b"><p>3.33</p><p>#E0634B</p></div><div class="ramp-item" style="background:#d33d2a"><p>4.5</p><p>#D33D2A</p></div><div class="ramp-item" style="background:#ca1614"><p>5.55</p><p>#CA1614</p></div></div></div>`}});customElements.define("color-ramp",class extends rt{static get styles(){return[At,a`div{margin-bottom:.5rem}`]}static get properties(){return{}}constructor(){super()}render(){return H`<section><div><h2>Color ramp</h2></div><div><input type="text" placeholder="Color Ramp / Red"></div><div><color-results></color-results></div><div><button-m buttonText="Copy"></button-m><button-m buttonText="Test"></button-m><button-m buttonText="Set styles"></button-m></div></section>`}});customElements.define("reference-code",class extends rt{static get styles(){return[At,a`div{margin-bottom:.5rem}.grid{grid-template-columns:5fr 1fr}`]}static get properties(){return{}}constructor(){super()}render(){return H`<section><div><h2>Reference code</h2><tooltip-trigger></tooltip-trigger></div><div class="grid"><input type="text" placeholder='colorKeys: ["#6fa7ff"], base: "#ffffff", ratios: [3,4.5],'><button-m>Copy</button-m></div></section>`}});function Ft(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Vt(t){return 1===t.length&&(t=function(t){return function(n,e){return Ft(t(n),e)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}var Yt=Vt(Ft),jt=Yt.right,$t=Yt.left;function Zt(t,n){return[t,n]}function Xt(t){return null===t?NaN:+t}function Gt(t,n){var e,r,i=t.length,o=0,a=-1,u=0,c=0;if(null==n)for(;++a<i;)isNaN(e=Xt(t[a]))||(c+=(r=e-u)*(e-(u+=r/++o)));else for(;++a<i;)isNaN(e=Xt(n(t[a],a,t)))||(c+=(r=e-u)*(e-(u+=r/++o)));if(o>1)return c/(o-1)}function Jt(t,n){var e=Gt(t,n);return e?Math.sqrt(e):e}function Wt(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e>=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}var Kt=Array.prototype,Qt=Kt.slice,tn=Kt.map;function nn(t){return function(){return t}}function en(t){return t}function rn(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}var on=Math.sqrt(50),an=Math.sqrt(10),un=Math.sqrt(2);function cn(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=sn(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}function sn(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=on?10:o>=an?5:o>=un?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=on?10:o>=an?5:o>=un?2:1)}function fn(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=on?i*=10:o>=an?i*=5:o>=un&&(i*=2),n<t?-i:i}function ln(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function hn(t,n,e){if(null==e&&(e=Xt),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}function dn(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r}function pn(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--a]=r[n];return e}function vn(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r}function gn(t){if(!(i=t.length))return[];for(var n=-1,e=vn(t,yn),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r}function yn(t){return t.length}var bn=Array.prototype.slice;function mn(t){return t}var _n=1e-6;function xn(t){return"translate("+(t+.5)+",0)"}function wn(t){return"translate(0,"+(t+.5)+")"}function Mn(t){return function(n){return+t(n)}}function Cn(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function kn(){return!this.__axis}function Sn(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,c=1===t||4===t?-1:1,s=4===t||2===t?"x":"y",f=1===t||3===t?xn:wn;function l(l){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):mn:i,p=Math.max(o,0)+u,v=n.range(),g=+v[0]+.5,y=+v[v.length-1]+.5,b=(n.bandwidth?Cn:Mn)(n.copy()),m=l.selection?l.selection():l,_=m.selectAll(".domain").data([null]),x=m.selectAll(".tick").data(h,n).order(),w=x.exit(),M=x.enter().append("g").attr("class","tick"),C=x.select("line"),k=x.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(M),C=C.merge(M.append("line").attr("stroke","currentColor").attr(s+"2",c*o)),k=k.merge(M.append("text").attr("fill","currentColor").attr(s,c*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),l!==m&&(_=_.transition(l),x=x.transition(l),C=C.transition(l),k=k.transition(l),w=w.transition(l).attr("opacity",_n).attr("transform",(function(t){return isFinite(t=b(t))?f(t):this.getAttribute("transform")})),M.attr("opacity",_n).attr("transform",(function(t){var n=this.parentNode.__axis;return f(n&&isFinite(n=n(t))?n:b(t))}))),w.remove(),_.attr("d",4===t||2==t?a?"M"+c*a+","+g+"H0.5V"+y+"H"+c*a:"M0.5,"+g+"V"+y:a?"M"+g+","+c*a+"V0.5H"+y+"V"+c*a:"M"+g+",0.5H"+y),x.attr("opacity",1).attr("transform",(function(t){return f(b(t))})),C.attr(s+"2",c*o),k.attr(s,c*p).text(d),m.filter(kn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),m.each((function(){this.__axis=b}))}return l.scale=function(t){return arguments.length?(n=t,l):n},l.ticks=function(){return e=bn.call(arguments),l},l.tickArguments=function(t){return arguments.length?(e=null==t?[]:bn.call(t),l):e.slice()},l.tickValues=function(t){return arguments.length?(r=null==t?null:bn.call(t),l):r&&r.slice()},l.tickFormat=function(t){return arguments.length?(i=t,l):i},l.tickSize=function(t){return arguments.length?(o=a=+t,l):o},l.tickSizeInner=function(t){return arguments.length?(o=+t,l):o},l.tickSizeOuter=function(t){return arguments.length?(a=+t,l):a},l.tickPadding=function(t){return arguments.length?(u=+t,l):u},l}var Nn={value:function(){}};function An(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new En(r)}function En(t){this._=t}function Tn(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function Ln(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function zn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Nn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}En.prototype=An.prototype={constructor:En,on:function(t,n){var e,r=this._,i=Tn(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=zn(r[e],t.name,n);else if(null==n)for(e in r)r[e]=zn(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=Ln(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new En(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Rn="http://www.w3.org/1999/xhtml",Pn={svg:"http://www.w3.org/2000/svg",xhtml:Rn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Dn(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Pn.hasOwnProperty(n)?{space:Pn[n],local:t}:t}function Hn(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Rn&&n.documentElement.namespaceURI===Rn?n.createElement(t):n.createElementNS(e,t)}}function On(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Un(t){var n=Dn(t);return(n.local?On:Hn)(n)}function Bn(){}function qn(t){return null==t?Bn:function(){return this.querySelector(t)}}function In(){return[]}function Fn(t){return null==t?In:function(){return this.querySelectorAll(t)}}function Vn(t){return function(){return this.matches(t)}}function Yn(t){return new Array(t.length)}function jn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}jn.prototype={constructor:jn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $n(t,n,e,r,i,o){for(var a,u=0,c=n.length,s=o.length;u<s;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new jn(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function Zn(t,n,e,r,i,o,a){var u,c,s,f={},l=n.length,h=o.length,d=new Array(l);for(u=0;u<l;++u)(c=n[u])&&(d[u]=s="$"+a.call(c,c.__data__,u,n),s in f?i[u]=c:f[s]=c);for(u=0;u<h;++u)(c=f[s="$"+a.call(t,o[u],u,o)])?(r[u]=c,c.__data__=o[u],f[s]=null):e[u]=new jn(t,o[u]);for(u=0;u<l;++u)(c=n[u])&&f[d[u]]===c&&(i[u]=c)}function Xn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Gn(t){return function(){this.removeAttribute(t)}}function Jn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wn(t,n){return function(){this.setAttribute(t,n)}}function Kn(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Qn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function te(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function ne(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ee(t){return function(){this.style.removeProperty(t)}}function re(t,n,e){return function(){this.style.setProperty(t,n,e)}}function ie(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function oe(t,n){return t.style.getPropertyValue(n)||ne(t).getComputedStyle(t,null).getPropertyValue(n)}function ae(t){return function(){delete this[t]}}function ue(t,n){return function(){this[t]=n}}function ce(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function se(t){return t.trim().split(/^|\s+/)}function fe(t){return t.classList||new le(t)}function le(t){this._node=t,this._names=se(t.getAttribute("class")||"")}function he(t,n){for(var e=fe(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function de(t,n){for(var e=fe(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function pe(t){return function(){he(this,t)}}function ve(t){return function(){de(this,t)}}function ge(t,n){return function(){(n.apply(this,arguments)?he:de)(this,t)}}function ye(){this.textContent=""}function be(t){return function(){this.textContent=t}}function me(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function _e(){this.innerHTML=""}function xe(t){return function(){this.innerHTML=t}}function we(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Me(){this.nextSibling&&this.parentNode.appendChild(this)}function Ce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ke(){return null}function Se(){var t=this.parentNode;t&&t.removeChild(this)}function Ne(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ae(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}le.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ee={},Te=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ee={mouseenter:"mouseover",mouseleave:"mouseout"}));function Le(t,n,e){return t=ze(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function ze(t,n,e){return function(r){var i=Te;Te=r;try{t.call(this,this.__data__,n,e)}finally{Te=i}}}function Re(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Pe(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function De(t,n,e){var r=Ee.hasOwnProperty(t.type)?Le:ze;return function(i,o,a){var u,c=this.__on,s=r(n,o,a);if(c)for(var f=0,l=c.length;f<l;++f)if((u=c[f]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=s,u.capture=e),void(u.value=n);this.addEventListener(t.type,s,e),u={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(u):this.__on=[u]}}function He(t,n,e,r){var i=Te;t.sourceEvent=Te,Te=t;try{return n.apply(e,r)}finally{Te=i}}function Oe(t,n,e){var r=ne(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Ue(t,n){return function(){return Oe(this,t,n)}}function Be(t,n){return function(){return Oe(this,t,n.apply(this,arguments))}}var qe=[null];function Ie(t,n){this._groups=t,this._parents=n}function Fe(){return new Ie([[document.documentElement]],qe)}function Ve(t){return"string"==typeof t?new Ie([[document.querySelector(t)]],[document.documentElement]):new Ie([[t]],qe)}Ie.prototype=Fe.prototype={constructor:Ie,select:function(t){"function"!=typeof t&&(t=qn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],c=u.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=u[f])&&(a=t.call(o,o.__data__,f,u))&&("__data__"in o&&(a.__data__=o.__data__),s[f]=a);return new Ie(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Fn(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],c=u.length,s=0;s<c;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),i.push(a));return new Ie(r,i)},filter:function(t){"function"!=typeof t&&(t=Vn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new Ie(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var e=n?Zn:$n,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),s=0;s<o;++s){var f=r[s],l=i[s],h=l.length,d=t.call(f,f&&f.__data__,s,r),p=d.length,v=u[s]=new Array(p),g=a[s]=new Array(p);e(f,l,v,g,c[s]=new Array(h),d,n);for(var y,b,m=0,_=0;m<p;++m)if(y=v[m]){for(m>=_&&(_=m+1);!(b=g[_])&&++_<p;);y._next=b||null}}return(a=new Ie(a,r))._enter=u,a._exit=c,a},enter:function(){return new Ie(this._enter||this._groups.map(Yn),this._parents)},exit:function(){return new Ie(this._exit||this._groups.map(Yn),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=n[u],f=e[u],l=s.length,h=a[u]=new Array(l),d=0;d<l;++d)(c=s[d]||f[d])&&(h[d]=c);for(;u<r;++u)a[u]=n[u];return new Ie(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Xn);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],c=u.length,s=i[o]=new Array(c),f=0;f<c;++f)(a=u[f])&&(s[f]=a);s.sort(n)}return new Ie(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Dn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Jn:Gn:"function"==typeof n?e.local?te:Qn:e.local?Kn:Wn)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?ee:"function"==typeof n?ie:re)(t,n,null==e?"":e)):oe(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?ae:"function"==typeof n?ce:ue)(t,n)):this.node()[t]},classed:function(t,n){var e=se(t+"");if(arguments.length<2){for(var r=fe(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?ge:n?pe:ve)(e,n))},text:function(t){return arguments.length?this.each(null==t?ye:("function"==typeof t?me:be)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?_e:("function"==typeof t?we:xe)(t)):this.node().innerHTML},raise:function(){return this.each(Me)},lower:function(){return this.each(Ce)},append:function(t){var n="function"==typeof t?t:Un(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Un(t),r=null==n?ke:"function"==typeof n?n:qn(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Se)},clone:function(t){return this.select(t?Ae:Ne)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Re(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?De:Pe,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var c,s=0,f=u.length;s<f;++s)for(r=0,c=u[s];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?Be:Ue)(t,n))}};var Ye=0;function je(){return new $e}function $e(){this._="@"+(++Ye).toString(36)}function Ze(){for(var t,n=Te;t=n.sourceEvent;)n=t;return n}function Xe(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function Ge(t){var n=Ze();return n.changedTouches&&(n=n.changedTouches[0]),Xe(t,n)}function Je(t,n,e){arguments.length<3&&(e=n,n=Ze().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return Xe(t,r);return null}function We(){Te.stopImmediatePropagation()}function Ke(){Te.preventDefault(),Te.stopImmediatePropagation()}function Qe(t){var n=t.document.documentElement,e=Ve(t).on("dragstart.drag",Ke,!0);"onselectstart"in n?e.on("selectstart.drag",Ke,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function tr(t,n){var e=t.document.documentElement,r=Ve(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ke,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function nr(t){return function(){return t}}function er(t,n,e,r,i,o,a,u,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=c,this._=s}function rr(){return!Te.ctrlKey&&!Te.button}function ir(){return this.parentNode}function or(t){return null==t?{x:Te.x,y:Te.y}:t}function ar(){return navigator.maxTouchPoints||"ontouchstart"in this}function ur(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function cr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function sr(){}$e.prototype=je.prototype={constructor:$e,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},er.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var fr=.7,lr=1/fr,hr="\\s*([+-]?\\d+)\\s*",dr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vr=/^#([0-9a-f]{3,8})$/,gr=new RegExp("^rgb\\("+[hr,hr,hr]+"\\)$"),yr=new RegExp("^rgb\\("+[pr,pr,pr]+"\\)$"),br=new RegExp("^rgba\\("+[hr,hr,hr,dr]+"\\)$"),mr=new RegExp("^rgba\\("+[pr,pr,pr,dr]+"\\)$"),_r=new RegExp("^hsl\\("+[dr,pr,pr]+"\\)$"),xr=new RegExp("^hsla\\("+[dr,pr,pr,dr]+"\\)$"),wr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Mr(){return this.rgb().formatHex()}function Cr(){return this.rgb().formatRgb()}function kr(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=vr.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Sr(n):3===e?new Tr(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Nr(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Nr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=gr.exec(t))?new Tr(n[1],n[2],n[3],1):(n=yr.exec(t))?new Tr(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=br.exec(t))?Nr(n[1],n[2],n[3],n[4]):(n=mr.exec(t))?Nr(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=_r.exec(t))?Pr(n[1],n[2]/100,n[3]/100,1):(n=xr.exec(t))?Pr(n[1],n[2]/100,n[3]/100,n[4]):wr.hasOwnProperty(t)?Sr(wr[t]):"transparent"===t?new Tr(NaN,NaN,NaN,0):null}function Sr(t){return new Tr(t>>16&255,t>>8&255,255&t,1)}function Nr(t,n,e,r){return r<=0&&(t=n=e=NaN),new Tr(t,n,e,r)}function Ar(t){return t instanceof sr||(t=kr(t)),t?new Tr((t=t.rgb()).r,t.g,t.b,t.opacity):new Tr}function Er(t,n,e,r){return 1===arguments.length?Ar(t):new Tr(t,n,e,null==r?1:r)}function Tr(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Lr(){return"#"+Rr(this.r)+Rr(this.g)+Rr(this.b)}function zr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Rr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Pr(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Or(t,n,e,r)}function Dr(t){if(t instanceof Or)return new Or(t.h,t.s,t.l,t.opacity);if(t instanceof sr||(t=kr(t)),!t)return new Or;if(t instanceof Or)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new Or(a,u,c,t.opacity)}function Hr(t,n,e,r){return 1===arguments.length?Dr(t):new Or(t,n,e,null==r?1:r)}function Or(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ur(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}ur(sr,kr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Mr,formatHex:Mr,formatHsl:function(){return Dr(this).formatHsl()},formatRgb:Cr,toString:Cr}),ur(Tr,Er,cr(sr,{brighter:function(t){return t=null==t?lr:Math.pow(lr,t),new Tr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?fr:Math.pow(fr,t),new Tr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lr,formatHex:Lr,formatRgb:zr,toString:zr})),ur(Or,Hr,cr(sr,{brighter:function(t){return t=null==t?lr:Math.pow(lr,t),new Or(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?fr:Math.pow(fr,t),new Or(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Tr(Ur(t>=240?t-240:t+120,i,r),Ur(t,i,r),Ur(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Br=Math.PI/180,qr=180/Math.PI,Ir=.96422,Fr=.82521,Vr=4/29,Yr=6/29,jr=3*Yr*Yr;function $r(t){if(t instanceof Xr)return new Xr(t.l,t.a,t.b,t.opacity);if(t instanceof ni)return ei(t);t instanceof Tr||(t=Ar(t));var n,e,r=Kr(t.r),i=Kr(t.g),o=Kr(t.b),a=Gr((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?n=e=a:(n=Gr((.4360747*r+.3850649*i+.1430804*o)/Ir),e=Gr((.0139322*r+.0971045*i+.7141733*o)/Fr)),new Xr(116*a-16,500*(n-a),200*(a-e),t.opacity)}function Zr(t,n,e,r){return 1===arguments.length?$r(t):new Xr(t,n,e,null==r?1:r)}function Xr(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Gr(t){return t>.008856451679035631?Math.pow(t,1/3):t/jr+Vr}function Jr(t){return t>Yr?t*t*t:jr*(t-Vr)}function Wr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Kr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Qr(t){if(t instanceof ni)return new ni(t.h,t.c,t.l,t.opacity);if(t instanceof Xr||(t=$r(t)),0===t.a&&0===t.b)return new ni(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*qr;return new ni(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ti(t,n,e,r){return 1===arguments.length?Qr(t):new ni(t,n,e,null==r?1:r)}function ni(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function ei(t){if(isNaN(t.h))return new Xr(t.l,0,0,t.opacity);var n=t.h*Br;return new Xr(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}ur(Xr,Zr,cr(sr,{brighter:function(t){return new Xr(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Xr(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Tr(Wr(3.1338561*(n=Ir*Jr(n))-1.6168667*(t=1*Jr(t))-.4906146*(e=Fr*Jr(e))),Wr(-.9787684*n+1.9161415*t+.033454*e),Wr(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),ur(ni,ti,cr(sr,{brighter:function(t){return new ni(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ni(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return ei(this).rgb()}}));var ri=-.14861,ii=1.78277,oi=-.29227,ai=-.90649,ui=1.97294,ci=ui*ai,si=ui*ii,fi=ii*oi-ai*ri;function li(t){if(t instanceof di)return new di(t.h,t.s,t.l,t.opacity);t instanceof Tr||(t=Ar(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(fi*r+ci*n-si*e)/(fi+ci-si),o=r-i,a=(ui*(e-i)-oi*o)/ai,u=Math.sqrt(a*a+o*o)/(ui*i*(1-i)),c=u?Math.atan2(a,o)*qr-120:NaN;return new di(c<0?c+360:c,u,i,t.opacity)}function hi(t,n,e,r){return 1===arguments.length?li(t):new di(t,n,e,null==r?1:r)}function di(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function pi(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function vi(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return pi((e-r/n)*n,a,i,o,u)}}function gi(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return pi((e-r/n)*n,i,o,a,u)}}function yi(t){return function(){return t}}function bi(t,n){return function(e){return t+e*n}}function mi(t,n){var e=n-t;return e?bi(t,e>180||e<-180?e-360*Math.round(e/360):e):yi(isNaN(t)?n:t)}function _i(t){return 1==(t=+t)?xi:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):yi(isNaN(n)?e:n)}}function xi(t,n){var e=n-t;return e?bi(t,e):yi(isNaN(t)?n:t)}ur(di,hi,cr(sr,{brighter:function(t){return t=null==t?lr:Math.pow(lr,t),new di(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?fr:Math.pow(fr,t),new di(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Br,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Tr(255*(n+e*(ri*r+ii*i)),255*(n+e*(oi*r+ai*i)),255*(n+e*(ui*r)),this.opacity)}}));var wi=function t(n){var e=_i(n);function r(t,n){var r=e((t=Er(t)).r,(n=Er(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=xi(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Mi(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=Er(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var Ci=Mi(vi),ki=Mi(gi);function Si(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Ni(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ai(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Di(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Ei(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Ti(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Li(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Di(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var zi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ri=new RegExp(zi.source,"g");function Pi(t,n){var e,r,i,o=zi.lastIndex=Ri.lastIndex=0,a=-1,u=[],c=[];for(t+="",n+="";(e=zi.exec(t))&&(r=Ri.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:Ti(e,r)})),o=Ri.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)u[(e=c[r]).i]=e.x(t);return u.join("")})}function Di(t,n){var e,r=typeof n;return null==n||"boolean"===r?yi(n):("number"===r?Ti:"string"===r?(e=kr(n))?(n=e,wi):Pi:n instanceof kr?wi:n instanceof Date?Ei:Ni(n)?Si:Array.isArray(n)?Ai:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Li:Ti)(t,n)}function Hi(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Oi,Ui,Bi,qi,Ii=180/Math.PI,Fi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Vi(t,n,e,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Ii,skewX:Math.atan(c)*Ii,scaleX:a,scaleY:u}}function Yi(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var c=a.push("translate(",null,n,null,e);u.push({i:c-4,x:Ti(t,i)},{i:c-2,x:Ti(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Ti(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Ti(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,c),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Ti(t,e)},{i:u-2,x:Ti(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,c),o=a=null,function(t){for(var n,e=-1,r=c.length;++e<r;)u[(n=c[e]).i]=n.x(t);return u.join("")}}}var ji=Yi((function(t){return"none"===t?Fi:(Oi||(Oi=document.createElement("DIV"),Ui=document.documentElement,Bi=document.defaultView),Oi.style.transform=t,t=Bi.getComputedStyle(Ui.appendChild(Oi),null).getPropertyValue("transform"),Ui.removeChild(Oi),Vi(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),$i=Yi((function(t){return null==t?Fi:(qi||(qi=document.createElementNS("http://www.w3.org/2000/svg","g")),qi.setAttribute("transform",t),(t=qi.transform.baseVal.consolidate())?Vi((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Fi)}),", ",")",")"),Zi=Math.SQRT2;function Xi(t){return((t=Math.exp(t))+1/t)/2}function Gi(t,n){var e,r,i=t[0],o=t[1],a=t[2],u=n[0],c=n[1],s=n[2],f=u-i,l=c-o,h=f*f+l*l;if(h<1e-12)r=Math.log(s/a)/Zi,e=function(t){return[i+t*f,o+t*l,a*Math.exp(Zi*t*r)]};else{var d=Math.sqrt(h),p=(s*s-a*a+4*h)/(2*a*2*d),v=(s*s-a*a-4*h)/(2*s*2*d),g=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-g)/Zi,e=function(t){var n=t*r,e=Xi(g),u=a/(2*d)*(e*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Zi*n+g)-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+u*f,o+u*l,a*e/Xi(Zi*n+g)]}}return e.duration=1e3*r,e}function Ji(t){return function(n,e){var r=t((n=Hr(n)).h,(e=Hr(e)).h),i=xi(n.s,e.s),o=xi(n.l,e.l),a=xi(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=a(t),n+""}}}var Wi=Ji(mi),Ki=Ji(xi);function Qi(t){return function(n,e){var r=t((n=ti(n)).h,(e=ti(e)).h),i=xi(n.c,e.c),o=xi(n.l,e.l),a=xi(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}var to=Qi(mi),no=Qi(xi);function eo(t){return function n(e){function r(n,r){var i=t((n=hi(n)).h,(r=hi(r)).h),o=xi(n.s,r.s),a=xi(n.l,r.l),u=xi(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,r.gamma=n,r}(1)}var ro=eo(mi),io=eo(xi);var oo,ao,uo=0,co=0,so=0,fo=0,lo=0,ho=0,po="object"==typeof performance&&performance.now?performance:Date,vo="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function go(){return lo||(vo(yo),lo=po.now()+ho)}function yo(){lo=0}function bo(){this._call=this._time=this._next=null}function mo(t,n,e){var r=new bo;return r.restart(t,n,e),r}function _o(){go(),++uo;for(var t,n=oo;n;)(t=lo-n._time)>=0&&n._call.call(null,t),n=n._next;--uo}function xo(){lo=(fo=po.now())+ho,uo=co=0;try{_o()}finally{uo=0,function(){var t,n,e=oo,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:oo=n);ao=t,Mo(r)}(),lo=0}}function wo(){var t=po.now(),n=t-fo;n>1e3&&(ho-=n,fo=t)}function Mo(t){uo||(co&&(co=clearTimeout(co)),t-lo>24?(t<1/0&&(co=setTimeout(xo,t-po.now()-ho)),so&&(so=clearInterval(so))):(so||(fo=po.now(),so=setInterval(wo,1e3)),uo=1,vo(xo)))}function Co(t,n,e){var r=new bo;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r}bo.prototype=mo.prototype={constructor:bo,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?go():+e)+(null==n?0:+n),this._next||ao===this||(ao?ao._next=this:oo=this,ao=this),this._call=t,this._time=e,Mo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mo())}};var ko=An("start","end","cancel","interrupt"),So=[];function No(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var s,f,l,h;if(1!==e.state)return c();for(s in i)if((h=i[s]).name===e.name){if(3===h.state)return Co(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[s])}if(Co((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(o))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(l=e.tween.length),s=0,f=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++f]=h);r.length=f+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(c),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=mo(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:ko,tween:So,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Ao(t,n){var e=To(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Eo(t,n){var e=To(t,n);if(e.state>3)throw new Error("too late; already running");return e}function To(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Lo(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}function zo(t,n){var e,r;return function(){var i=Eo(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function Ro(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Eo(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=u;break}c===s&&i.push(u)}o.tween=i}}function Po(t,n,e){var r=t._id;return t.each((function(){var t=Eo(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return To(t,r).value[n]}}function Do(t,n){var e;return("number"==typeof n?Ti:n instanceof kr?wi:(e=kr(n))?(n=e,wi):Pi)(t,n)}function Ho(t){return function(){this.removeAttribute(t)}}function Oo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Uo(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function Bo(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function qo(t,n,e){var r,i,o;return function(){var a,u,c=e(this);if(null!=c)return(a=this.getAttribute(t))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,c));this.removeAttribute(t)}}function Io(t,n,e){var r,i,o;return function(){var a,u,c=e(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,c));this.removeAttributeNS(t.space,t.local)}}function Fo(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Vo(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Yo(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Vo(t,i)),e}return i._value=n,i}function jo(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Fo(t,i)),e}return i._value=n,i}function $o(t,n){return function(){Ao(this,t).delay=+n.apply(this,arguments)}}function Zo(t,n){return n=+n,function(){Ao(this,t).delay=n}}function Xo(t,n){return function(){Eo(this,t).duration=+n.apply(this,arguments)}}function Go(t,n){return n=+n,function(){Eo(this,t).duration=n}}function Jo(t,n){if("function"!=typeof n)throw new Error;return function(){Eo(this,t).ease=n}}function Wo(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Ao:Eo;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var Ko=Fe.prototype.constructor;function Qo(t){return function(){this.style.removeProperty(t)}}function ta(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function na(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&ta(t,o,e)),r}return o._value=n,o}function ea(t){return function(n){this.textContent=t.call(this,n)}}function ra(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&ea(r)),n}return r._value=t,r}var ia=0;function oa(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function aa(t){return Fe().transition(t)}function ua(){return++ia}var ca=Fe.prototype;function sa(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function fa(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}oa.prototype=aa.prototype={constructor:oa,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=qn(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,s=r[a],f=s.length,l=o[a]=new Array(f),h=0;h<f;++h)(u=s[h])&&(c=t.call(u,u.__data__,h,s))&&("__data__"in u&&(c.__data__=u.__data__),l[h]=c,No(l[h],n,e,h,l,To(u,e)));return new oa(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Fn(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,s=r[u],f=s.length,l=0;l<f;++l)if(c=s[l]){for(var h,d=t.call(c,c.__data__,l,s),p=To(c,e),v=0,g=d.length;v<g;++v)(h=d[v])&&No(h,n,e,v,d,p);o.push(d),a.push(c)}return new oa(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=Vn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new oa(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=n[u],f=e[u],l=s.length,h=a[u]=new Array(l),d=0;d<l;++d)(c=s[d]||f[d])&&(h[d]=c);for(;u<r;++u)a[u]=n[u];return new oa(a,this._parents,this._name,this._id)},selection:function(){return new Ko(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ua(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)if(a=u[s]){var f=To(a,n);No(a,t,e,s,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new oa(r,this._parents,t,e)},call:ca.call,nodes:ca.nodes,node:ca.node,size:ca.size,empty:ca.empty,each:ca.each,on:function(t,n){var e=this._id;return arguments.length<2?To(this.node(),e).on.on(t):this.each(Wo(e,t,n))},attr:function(t,n){var e=Dn(t),r="transform"===e?$i:Do;return this.attrTween(t,"function"==typeof n?(e.local?Io:qo)(e,r,Po(this,"attr."+t,n)):null==n?(e.local?Oo:Ho)(e):(e.local?Bo:Uo)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Dn(t);return this.tween(e,(r.local?Yo:jo)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?ji:Do;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=oe(this,t),a=(this.style.removeProperty(t),oe(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Qo(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=oe(this,t),u=e(this),c=u+"";return null==u&&(this.style.removeProperty(t),c=u=oe(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,u))}}(t,r,Po(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var c=Eo(this,t),s=c.on,f=null==c.value[a]?o||(o=Qo(n)):void 0;s===e&&i===f||(r=(e=s).copy()).on(u,i=f),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=oe(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,na(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Po(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,ra(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=To(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?zo:Ro)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?$o:Zo)(n,t)):To(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Xo:Go)(n,t)):To(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Jo(n,t)):To(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},c={value:function(){0==--i&&o()}};e.each((function(){var e=Eo(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(c)),e.on=n}))}))}};var la=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),ha=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),da=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),pa=Math.PI,va=pa/2;function ga(t){return(1-Math.cos(pa*t))/2}function ya(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function ba(t){return((t*=2)<=1?ya(1-t):2-ya(t-1))/2}function ma(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var _a=4/11,xa=7.5625;function wa(t){return(t=+t)<_a?xa*t*t:t<.7272727272727273?xa*(t-=.5454545454545454)*t+.75:t<.9090909090909091?xa*(t-=.8181818181818182)*t+.9375:xa*(t-=.9545454545454546)*t+.984375}var Ma=1.70158,Ca=function t(n){function e(t){return(t=+t)*t*(n*(t-1)+t)}return n=+n,e.overshoot=t,e}(Ma),ka=function t(n){function e(t){return--t*t*((t+1)*n+t)+1}return n=+n,e.overshoot=t,e}(Ma),Sa=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(Ma),Na=2*Math.PI,Aa=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Na);function i(t){return n*ya(- --t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*Na)},i.period=function(e){return t(n,e)},i}(1,.3),Ea=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Na);function i(t){return 1-n*ya(t=+t)*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*Na)},i.period=function(e){return t(n,e)},i}(1,.3),Ta=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Na);function i(t){return((t=2*t-1)<0?n*ya(-t)*Math.sin((r-t)/e):2-n*ya(t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*Na)},i.period=function(e){return t(n,e)},i}(1,.3),La={time:null,delay:0,duration:250,ease:fa};function za(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return La.time=go(),La;return e}Fe.prototype.interrupt=function(t){return this.each((function(){Lo(this,t)}))},Fe.prototype.transition=function(t){var n,e;t instanceof oa?(n=t._id,t=t._name):(n=ua(),(e=La).time=go(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)(a=u[s])&&No(a,t,n,s,u,e||za(a,n));return new oa(r,this._parents,t,n)};var Ra=[null];function Pa(t){return function(){return t}}function Da(t,n,e){this.target=t,this.type=n,this.selection=e}function Ha(){Te.stopImmediatePropagation()}function Oa(){Te.preventDefault(),Te.stopImmediatePropagation()}var Ua={name:"drag"},Ba={name:"space"},qa={name:"handle"},Ia={name:"center"};function Fa(t){return[+t[0],+t[1]]}function Va(t){return[Fa(t[0]),Fa(t[1])]}function Ya(t){return function(n){return Je(n,Te.touches,t)}}var ja={name:"x",handles:["w","e"].map(Qa),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},$a={name:"y",handles:["n","s"].map(Qa),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Za={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Qa),input:function(t){return null==t?null:Va(t)},output:function(t){return t}},Xa={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ga={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ja={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Wa={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ka={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Qa(t){return{type:t}}function tu(){return!Te.ctrlKey&&!Te.button}function nu(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function eu(){return navigator.maxTouchPoints||"ontouchstart"in this}function ru(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function iu(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ou(t){var n,e=nu,r=tu,i=eu,o=!0,a=An("start","brush","end"),u=6;function c(n){var e=n.property("__brush",v).selectAll(".overlay").data([Qa("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Xa.overlay).merge(e).each((function(){var t=ru(this).extent;Ve(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([Qa("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Xa.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Xa[t.type]})),n.each(s).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function s(){var t=Ve(this),n=ru(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-u/2:n[0][0]-u/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-u/2:n[0][1]-u/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+u:u})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+u:u}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(t,n,e){var r=t.__brush.emitter;return!r||e&&r.clean?new l(t,n,e):r}function l(t,n,e){this.that=t,this.args=n,this.state=t.__brush,this.active=0,this.clean=e}function h(){if((!n||Te.touches)&&r.apply(this,arguments)){var e,i,a,u,c,l,h,d,p,v,g,y=this,b=Te.target.__data__.type,m="selection"===(o&&Te.metaKey?b="overlay":b)?Ua:o&&Te.altKey?Ia:qa,_=t===$a?null:Wa[b],x=t===ja?null:Ka[b],w=ru(y),M=w.extent,C=w.selection,k=M[0][0],S=M[0][1],N=M[1][0],A=M[1][1],E=0,T=0,L=_&&x&&o&&Te.shiftKey,z=Te.touches?Ya(Te.changedTouches[0].identifier):Ge,R=z(y),P=R,D=f(y,arguments,!0).beforestart();"overlay"===b?(C&&(p=!0),w.selection=C=[[e=t===$a?k:R[0],a=t===ja?S:R[1]],[c=t===$a?N:e,h=t===ja?A:a]]):(e=C[0][0],a=C[0][1],c=C[1][0],h=C[1][1]),i=e,u=a,l=c,d=h;var H=Ve(y).attr("pointer-events","none"),O=H.selectAll(".overlay").attr("cursor",Xa[b]);if(Te.touches)D.moved=B,D.ended=I;else{var U=Ve(Te.view).on("mousemove.brush",B,!0).on("mouseup.brush",I,!0);o&&U.on("keydown.brush",F,!0).on("keyup.brush",V,!0),Qe(Te.view)}Ha(),Lo(y),s.call(y),D.start()}function B(){var t=z(y);!L||v||g||(Math.abs(t[0]-P[0])>Math.abs(t[1]-P[1])?g=!0:v=!0),P=t,p=!0,Oa(),q()}function q(){var t;switch(E=P[0]-R[0],T=P[1]-R[1],m){case Ba:case Ua:_&&(E=Math.max(k-e,Math.min(N-c,E)),i=e+E,l=c+E),x&&(T=Math.max(S-a,Math.min(A-h,T)),u=a+T,d=h+T);break;case qa:_<0?(E=Math.max(k-e,Math.min(N-e,E)),i=e+E,l=c):_>0&&(E=Math.max(k-c,Math.min(N-c,E)),i=e,l=c+E),x<0?(T=Math.max(S-a,Math.min(A-a,T)),u=a+T,d=h):x>0&&(T=Math.max(S-h,Math.min(A-h,T)),u=a,d=h+T);break;case Ia:_&&(i=Math.max(k,Math.min(N,e-E*_)),l=Math.max(k,Math.min(N,c+E*_))),x&&(u=Math.max(S,Math.min(A,a-T*x)),d=Math.max(S,Math.min(A,h+T*x)))}l<i&&(_*=-1,t=e,e=c,c=t,t=i,i=l,l=t,b in Ga&&O.attr("cursor",Xa[b=Ga[b]])),d<u&&(x*=-1,t=a,a=h,h=t,t=u,u=d,d=t,b in Ja&&O.attr("cursor",Xa[b=Ja[b]])),w.selection&&(C=w.selection),v&&(i=C[0][0],l=C[1][0]),g&&(u=C[0][1],d=C[1][1]),C[0][0]===i&&C[0][1]===u&&C[1][0]===l&&C[1][1]===d||(w.selection=[[i,u],[l,d]],s.call(y),D.brush())}function I(){if(Ha(),Te.touches){if(Te.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else tr(Te.view,p),U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);H.attr("pointer-events","all"),O.attr("cursor",Xa.overlay),w.selection&&(C=w.selection),iu(C)&&(w.selection=null,s.call(y)),D.end()}function F(){switch(Te.keyCode){case 16:L=_&&x;break;case 18:m===qa&&(_&&(c=l-E*_,e=i+E*_),x&&(h=d-T*x,a=u+T*x),m=Ia,q());break;case 32:m!==qa&&m!==Ia||(_<0?c=l-E:_>0&&(e=i-E),x<0?h=d-T:x>0&&(a=u-T),m=Ba,O.attr("cursor",Xa.selection),q());break;default:return}Oa()}function V(){switch(Te.keyCode){case 16:L&&(v=g=L=!1,q());break;case 18:m===Ia&&(_<0?c=l:_>0&&(e=i),x<0?h=d:x>0&&(a=u),m=qa,q());break;case 32:m===Ba&&(Te.altKey?(_&&(c=l-E*_,e=i+E*_),x&&(h=d-T*x,a=u+T*x),m=Ia):(_<0?c=l:_>0&&(e=i),x<0?h=d:x>0&&(a=u),m=qa),O.attr("cursor",Xa[b]),q());break;default:return}Oa()}}function d(){f(this,arguments).moved()}function p(){f(this,arguments).ended()}function v(){var n=this.__brush||{selection:null};return n.extent=Va(e.apply(this,arguments)),n.dim=t,n}return c.move=function(n,e){n.selection?n.on("start.brush",(function(){f(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){f(this,arguments).end()})).tween("brush",(function(){var n=this,r=n.__brush,i=f(n,arguments),o=r.selection,a=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),u=Di(o,a);function c(t){r.selection=1===t&&null===a?null:u(t),s.call(n),i.brush()}return null!==o&&null!==a?c:c(1)})):n.each((function(){var n=this,r=arguments,i=n.__brush,o=t.input("function"==typeof e?e.apply(n,r):e,i.extent),a=f(n,r).beforestart();Lo(n),i.selection=null===o?null:o,s.call(n),a.start().brush().end()}))},c.clear=function(t){c.move(t,null)},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){He(new Da(c,n,t.output(this.state.selection)),a.apply,a,[n,this.that,this.args])}},c.extent=function(t){return arguments.length?(e="function"==typeof t?t:Pa(Va(t)),c):e},c.filter=function(t){return arguments.length?(r="function"==typeof t?t:Pa(!!t),c):r},c.touchable=function(t){return arguments.length?(i="function"==typeof t?t:Pa(!!t),c):i},c.handleSize=function(t){return arguments.length?(u=+t,c):u},c.keyModifiers=function(t){return arguments.length?(o=!!t,c):o},c.on=function(){var t=a.on.apply(a,arguments);return t===a?c:t},c}var au=Math.cos,uu=Math.sin,cu=Math.PI,su=cu/2,fu=2*cu,lu=Math.max;function hu(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}var du=Array.prototype.slice;function pu(t){return function(){return t}}var vu=Math.PI,gu=2*vu,yu=1e-6,bu=gu-yu;function mu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function _u(){return new mu}function xu(t){return t.source}function wu(t){return t.target}function Mu(t){return t.radius}function Cu(t){return t.startAngle}function ku(t){return t.endAngle}mu.prototype=_u.prototype={constructor:mu,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,c=r-n,s=o-t,f=a-n,l=s*s+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>yu)if(Math.abs(f*u-c*s)>yu&&i){var h=e-o,d=r-a,p=u*u+c*c,v=h*h+d*d,g=Math.sqrt(p),y=Math.sqrt(l),b=i*Math.tan((vu-Math.acos((p+l-v)/(2*g*y)))/2),m=b/y,_=b/g;Math.abs(m-1)>yu&&(this._+="L"+(t+m*s)+","+(n+m*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>s*d)+","+(this._x1=t+_*u)+","+(this._y1=n+_*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),c=t+a,s=n+u,f=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>yu||Math.abs(this._y1-s)>yu)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%gu+gu),l>bu?this._+="A"+e+","+e+",0,1,"+f+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>yu&&(this._+="A"+e+","+e+",0,"+ +(l>=vu)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Su="$";function Nu(){}function Au(t,n){var e=new Nu;if(t instanceof Nu)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function Eu(){return{}}function Tu(t,n,e){t[n]=e}function Lu(){return Au()}function zu(t,n,e){t.set(n,e)}function Ru(){}Nu.prototype=Au.prototype={constructor:Nu,has:function(t){return Su+t in this},get:function(t){return this[Su+t]},set:function(t,n){return this[Su+t]=n,this},remove:function(t){var n=Su+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Su&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===Su&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===Su&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===Su&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===Su&&++t;return t},empty:function(){for(var t in this)if(t[0]===Su)return!1;return!0},each:function(t){for(var n in this)n[0]===Su&&t(this[n],n.slice(1),this)}};var Pu=Au.prototype;function Du(t,n){var e=new Ru;if(t instanceof Ru)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}Ru.prototype=Du.prototype={constructor:Ru,has:Pu.has,add:function(t){return this[Su+(t+="")]=t,this},remove:Pu.remove,clear:Pu.clear,values:Pu.keys,size:Pu.size,empty:Pu.empty,each:Pu.each};var Hu=Array.prototype.slice;function Ou(t,n){return t-n}function Uu(t){return function(){return t}}function Bu(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=qu(t,n[r]))return e;return 0}function qu(t,n){for(var e=n[0],r=n[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var c=t[o],s=c[0],f=c[1],l=t[u],h=l[0],d=l[1];if(Iu(c,l,n))return 0;f>r!=d>r&&e<(h-s)*(r-f)/(d-f)+s&&(i=-i)}return i}function Iu(t,n,e){var r;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&function(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}(t[r=+(t[0]===n[0])],e[r],n[r])}function Fu(){}var Vu=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Yu(){var t=1,n=1,e=ln,r=u;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(Ou);else{var r=Wt(t),i=r[0],a=r[1];n=fn(i,a,n),n=rn(Math.floor(i/n)*n,Math.floor(a/n)*n,n)}return n.map((function(n){return o(t,n)}))}function o(e,i){var o=[],u=[];return function(e,r,i){var o,u,c,s,f,l,h=new Array,d=new Array;o=u=-1,s=e[0]>=r,Vu[s<<1].forEach(p);for(;++o<t-1;)c=s,s=e[o+1]>=r,Vu[c|s<<1].forEach(p);Vu[s<<0].forEach(p);for(;++u<n-1;){for(o=-1,s=e[u*t+t]>=r,f=e[u*t]>=r,Vu[s<<1|f<<2].forEach(p);++o<t-1;)c=s,s=e[u*t+t+o+1]>=r,l=f,f=e[u*t+o+1]>=r,Vu[c|s<<1|f<<2|l<<3].forEach(p);Vu[s|f<<3].forEach(p)}o=-1,f=e[u*t]>=r,Vu[f<<2].forEach(p);for(;++o<t-1;)l=f,f=e[u*t+o+1]>=r,Vu[f<<2|l<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+o,t[0][1]+u],c=[t[1][0]+o,t[1][1]+u],s=a(r),f=a(c);(n=d[s])?(e=h[f])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(c),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(c),d[n.end=f]=n):(n=h[f])?(e=d[s])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(c),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=s]=n):h[s]=d[f]={start:s,end:f,ring:[r,c]}}Vu[f<<3].forEach(p)}(e,i,(function(t){r(t,e,i),function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)>0?o.push([t]):u.push(t)})),u.forEach((function(t){for(var n,e=0,r=o.length;e<r;++e)if(-1!==Bu((n=o[e])[0],t))return void n.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(n){return 2*n[0]+n[1]*(t+1)*4}function u(e,r,i){e.forEach((function(e){var o,a=e[0],u=e[1],c=0|a,s=0|u,f=r[s*t+c];a>0&&a<t&&c===a&&(o=r[s*t+c-1],e[0]=a+(i-o)/(f-o)-.5),u>0&&u<n&&s===u&&(o=r[(s-1)*t+c],e[1]=u+(i-o)/(f-o)-.5)}))}return i.contour=o,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),o=Math.ceil(e[1]);if(!(r>0&&o>0))throw new Error("invalid size");return t=r,n=o,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?Uu(Hu.call(t)):Uu(t),i):e},i.smooth=function(t){return arguments.length?(r=t?u:Fu,i):r===u},i}function ju(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<i;++a)for(var u=0,c=0;u<r+e;++u)u<r&&(c+=t.data[u+a*r]),u>=e&&(u>=o&&(c-=t.data[u-o+a*r]),n.data[u-e+a*r]=c/Math.min(u+1,r-1+o-u,o))}function $u(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<r;++a)for(var u=0,c=0;u<i+e;++u)u<i&&(c+=t.data[a+u*r]),u>=e&&(u>=o&&(c-=t.data[a+(u-o)*r]),n.data[a+(u-e)*r]=c/Math.min(u+1,i-1+o-u,o))}function Zu(t){return t[0]}function Xu(t){return t[1]}function Gu(){return 1}var Ju={},Wu={};function Ku(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function Qu(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function tc(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function nc(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+tc(-t,6):t>9999?"+"+tc(t,6):tc(t,4)}(t.getUTCFullYear())+"-"+tc(t.getUTCMonth()+1,2)+"-"+tc(t.getUTCDate(),2)+(i?"T"+tc(n,2)+":"+tc(e,2)+":"+tc(r,2)+"."+tc(i,3)+"Z":r?"T"+tc(n,2)+":"+tc(e,2)+":"+tc(r,2)+"Z":e||n?"T"+tc(n,2)+":"+tc(e,2)+"Z":"")}function ec(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,c=o<=0,s=!1;function f(){if(c)return Wu;if(s)return s=!1,Ju;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?c=!0:10===(r=t.charCodeAt(a++))?s=!0:13===r&&(s=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))s=!0;else if(13===r)s=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return c=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=f())!==Wu;){for(var l=[];r!==Ju&&r!==Wu;)l.push(r),r=f();n&&null==(l=n(l,u++))||i.push(l)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?nc(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=Ku(t);return function(r,i){return n(e(r),i,t)}}(t,n):Ku(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=Qu(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Qu(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var rc=ec(","),ic=rc.parse,oc=rc.parseRows,ac=rc.format,uc=rc.formatBody,cc=rc.formatRows,sc=rc.formatRow,fc=rc.formatValue,lc=ec("\t"),hc=lc.parse,dc=lc.parseRows,pc=lc.format,vc=lc.formatBody,gc=lc.formatRows,yc=lc.formatRow,bc=lc.formatValue;var mc=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function _c(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function xc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function wc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Mc(t,n){return fetch(t,n).then(wc)}function Cc(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),Mc(n,e).then((function(n){return t(n,r)}))}}var kc=Cc(ic),Sc=Cc(hc);function Nc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Ac(t){return function(n,e){return Mc(n,e).then((function(n){return(new DOMParser).parseFromString(n,t)}))}}var Ec=Ac("application/xml"),Tc=Ac("text/html"),Lc=Ac("image/svg+xml");function zc(t){return function(){return t}}function Rc(){return 1e-6*(Math.random()-.5)}function Pc(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,c,s,f,l,h,d=t._root,p={data:r},v=t._x0,g=t._y0,y=t._x1,b=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((s=n>=(o=(v+y)/2))?v=o:y=o,(f=e>=(a=(g+b)/2))?g=a:b=a,i=d,!(d=d[l=f<<1|s]))return i[l]=p,t;if(u=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===u&&e===c)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(s=n>=(o=(v+y)/2))?v=o:y=o,(f=e>=(a=(g+b)/2))?g=a:b=a}while((l=f<<1|s)==(h=(c>=a)<<1|u>=o));return i[h]=d,i[l]=p,t}function Dc(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Hc(t){return t[0]}function Oc(t){return t[1]}function Uc(t,n,e){var r=new Bc(null==n?Hc:n,null==e?Oc:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Bc(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function qc(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Ic=Uc.prototype=Bc.prototype;function Fc(t){return t.x+t.vx}function Vc(t){return t.y+t.vy}function Yc(t){return t.index}function jc(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function $c(t){return t.x}function Zc(t){return t.y}Ic.copy=function(){var t,n,e=new Bc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=qc(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=qc(n));return e},Ic.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Pc(this.cover(n,e),n,e,t)},Ic.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),c=1/0,s=1/0,f=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<c&&(c=r),r>f&&(f=r),i<s&&(s=i),i>l&&(l=i));if(c>f||s>l)return this;for(this.cover(c,s).cover(f,l),e=0;e<o;++e)Pc(this,a[e],u[e],t[e]);return this},Ic.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,u,c=i-e,s=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=s,s=a,c*=2,u){case 0:i=e+c,o=r+c;break;case 1:e=i-c,o=r+c;break;case 2:i=e+c,r=o-c;break;case 3:e=i-c,r=o-c}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Ic.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},Ic.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ic.find=function(t,n,e){var r,i,o,a,u,c,s,f=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new Dc(v,f,l,h,d)),null==e?e=1/0:(f=t-e,l=n-e,h=t+e,d=n+e,e*=e);c=p.pop();)if(!(!(v=c.node)||(i=c.x0)>h||(o=c.y0)>d||(a=c.x1)<f||(u=c.y1)<l))if(v.length){var g=(i+a)/2,y=(o+u)/2;p.push(new Dc(v[3],g,y,a,u),new Dc(v[2],i,y,g,u),new Dc(v[1],g,o,a,y),new Dc(v[0],i,o,g,y)),(s=(n>=y)<<1|t>=g)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-s],p[p.length-1-s]=c)}else{var b=t-+this._x.call(null,v.data),m=n-+this._y.call(null,v.data),_=b*b+m*m;if(_<e){var x=Math.sqrt(e=_);f=t-x,l=n-x,h=t+x,d=n+x,r=v.data}}return r},Ic.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,c,s,f,l,h,d=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((s=o>=(u=(p+g)/2))?p=u:g=u,(f=a>=(c=(v+y)/2))?v=c:y=c,n=d,!(d=d[l=f<<1|s]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},Ic.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Ic.root=function(){return this._root},Ic.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},Ic.visit=function(t){var n,e,r,i,o,a,u=[],c=this._root;for(c&&u.push(new Dc(c,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&c.length){var s=(r+o)/2,f=(i+a)/2;(e=c[3])&&u.push(new Dc(e,s,f,o,a)),(e=c[2])&&u.push(new Dc(e,r,f,s,a)),(e=c[1])&&u.push(new Dc(e,s,i,o,f)),(e=c[0])&&u.push(new Dc(e,r,i,s,f))}return this},Ic.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new Dc(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,c=n.x1,s=n.y1,f=(a+c)/2,l=(u+s)/2;(o=i[0])&&e.push(new Dc(o,a,u,f,l)),(o=i[1])&&e.push(new Dc(o,f,u,c,l)),(o=i[2])&&e.push(new Dc(o,a,l,f,s)),(o=i[3])&&e.push(new Dc(o,f,l,c,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Ic.x=function(t){return arguments.length?(this._x=t,this):this._x},Ic.y=function(t){return arguments.length?(this._y=t,this):this._y};var Xc=Math.PI*(3-Math.sqrt(5));function Gc(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Jc(t){return(t=Gc(Math.abs(t)))?t[1]:NaN}var Wc,Kc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qc(t){if(!(n=Kc.exec(t)))throw new Error("invalid format: "+t);var n;return new ts({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function ts(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ns(t,n){var e=Gc(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Qc.prototype=ts.prototype,ts.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var es={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return ns(100*t,n)},r:ns,s:function(t,n){var e=Gc(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Wc=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Gc(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function rs(t){return t}var is,os,as,us=Array.prototype.map,cs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ss(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?rs:(n=us.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(t.substring(i-=u,i+u)),!((c+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?rs:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(us.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"-":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function l(t){var n=(t=Qc(t)).fill,e=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,g=t.precision,y=t.trim,b=t.type;"n"===b?(v=!0,b="g"):es[b]||(void 0===g&&(g=12),y=!0,b="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var m="$"===h?i:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===h?o:/[%p]/.test(b)?c:"",x=es[b],w=/[defgprs%]/.test(b);function M(t){var i,o,c,h=m,M=_;if("c"===b)M=x(t)+M,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:x(Math.abs(t),g),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),C&&0==+t&&"+"!==l&&(C=!1),h=(C?"("===l?l:s:"-"===l||"("===l?"":l)+h,M=("s"===b?cs[8+Wc/3]:"")+M+(C&&"("===l?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){M=(46===c?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}v&&!d&&(t=r(t,1/0));var k=h.length+t.length+M.length,S=k<p?new Array(p-k+1).join(n):"";switch(v&&d&&(t=r(S+t,S.length?p-M.length:1/0),S=""),e){case"<":t=h+t+M+S;break;case"=":t=h+S+t+M;break;case"^":t=S.slice(0,k=S.length>>1)+h+t+M+S.slice(k);break;default:t=S+h+t+M}return u(t)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),M.toString=function(){return t+""},M}return{format:l,formatPrefix:function(t,n){var e=l(((t=Qc(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Jc(n)/3))),i=Math.pow(10,-r),o=cs[8+r/3];return function(t){return e(i*t)+o}}}}function fs(t){return is=ss(t),os=is.format,as=is.formatPrefix,is}function ls(t){return Math.max(0,-Jc(Math.abs(t)))}function hs(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Jc(n)/3)))-Jc(Math.abs(t)))}function ds(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Jc(n)-Jc(t))+1}function ps(){return new vs}function vs(){this.reset()}fs({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),vs.prototype={constructor:vs,reset:function(){this.s=this.t=0},add:function(t){ys(gs,t,this.t),ys(this,gs.s,this.s),this.s?this.t+=gs.t:this.s=gs.t},valueOf:function(){return this.s}};var gs=new vs;function ys(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var bs=1e-6,ms=1e-12,_s=Math.PI,xs=_s/2,ws=_s/4,Ms=2*_s,Cs=180/_s,ks=_s/180,Ss=Math.abs,Ns=Math.atan,As=Math.atan2,Es=Math.cos,Ts=Math.ceil,Ls=Math.exp,zs=Math.log,Rs=Math.pow,Ps=Math.sin,Ds=Math.sign||function(t){return t>0?1:t<0?-1:0},Hs=Math.sqrt,Os=Math.tan;function Us(t){return t>1?0:t<-1?_s:Math.acos(t)}function Bs(t){return t>1?xs:t<-1?-xs:Math.asin(t)}function qs(t){return(t=Ps(t/2))*t}function Is(){}function Fs(t,n){t&&Ys.hasOwnProperty(t.type)&&Ys[t.type](t,n)}var Vs={Feature:function(t,n){Fs(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Fs(e[r].geometry,n)}},Ys={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){js(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)js(e[r],n,0)},Polygon:function(t,n){$s(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)$s(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Fs(e[r],n)}};function js(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function $s(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)js(t[e],n,1);n.polygonEnd()}function Zs(t,n){t&&Vs.hasOwnProperty(t.type)?Vs[t.type](t,n):Fs(t,n)}var Xs,Gs,Js,Ws,Ks,Qs=ps(),tf=ps(),nf={point:Is,lineStart:Is,lineEnd:Is,polygonStart:function(){Qs.reset(),nf.lineStart=ef,nf.lineEnd=rf},polygonEnd:function(){var t=+Qs;tf.add(t<0?Ms+t:t),this.lineStart=this.lineEnd=this.point=Is},sphere:function(){tf.add(Ms)}};function ef(){nf.point=of}function rf(){af(Xs,Gs)}function of(t,n){nf.point=af,Xs=t,Gs=n,Js=t*=ks,Ws=Es(n=(n*=ks)/2+ws),Ks=Ps(n)}function af(t,n){var e=(t*=ks)-Js,r=e>=0?1:-1,i=r*e,o=Es(n=(n*=ks)/2+ws),a=Ps(n),u=Ks*a,c=Ws*o+u*Es(i),s=u*r*Ps(i);Qs.add(As(s,c)),Js=t,Ws=o,Ks=a}function uf(t){return[As(t[1],t[0]),Bs(t[2])]}function cf(t){var n=t[0],e=t[1],r=Es(e);return[r*Es(n),r*Ps(n),Ps(e)]}function sf(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ff(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function lf(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function hf(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function df(t){var n=Hs(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var pf,vf,gf,yf,bf,mf,_f,xf,wf,Mf,Cf,kf,Sf,Nf,Af,Ef,Tf,Lf,zf,Rf,Pf,Df,Hf,Of,Uf,Bf,qf=ps(),If={point:Ff,lineStart:Yf,lineEnd:jf,polygonStart:function(){If.point=$f,If.lineStart=Zf,If.lineEnd=Xf,qf.reset(),nf.polygonStart()},polygonEnd:function(){nf.polygonEnd(),If.point=Ff,If.lineStart=Yf,If.lineEnd=jf,Qs<0?(pf=-(gf=180),vf=-(yf=90)):qf>bs?yf=90:qf<-1e-6&&(vf=-90),Mf[0]=pf,Mf[1]=gf},sphere:function(){pf=-(gf=180),vf=-(yf=90)}};function Ff(t,n){wf.push(Mf=[pf=t,gf=t]),n<vf&&(vf=n),n>yf&&(yf=n)}function Vf(t,n){var e=cf([t*ks,n*ks]);if(xf){var r=ff(xf,e),i=ff([r[1],-r[0],0],r);df(i),i=uf(i);var o,a=t-bf,u=a>0?1:-1,c=i[0]*Cs*u,s=Ss(a)>180;s^(u*bf<c&&c<u*t)?(o=i[1]*Cs)>yf&&(yf=o):s^(u*bf<(c=(c+360)%360-180)&&c<u*t)?(o=-i[1]*Cs)<vf&&(vf=o):(n<vf&&(vf=n),n>yf&&(yf=n)),s?t<bf?Gf(pf,t)>Gf(pf,gf)&&(gf=t):Gf(t,gf)>Gf(pf,gf)&&(pf=t):gf>=pf?(t<pf&&(pf=t),t>gf&&(gf=t)):t>bf?Gf(pf,t)>Gf(pf,gf)&&(gf=t):Gf(t,gf)>Gf(pf,gf)&&(pf=t)}else wf.push(Mf=[pf=t,gf=t]);n<vf&&(vf=n),n>yf&&(yf=n),xf=e,bf=t}function Yf(){If.point=Vf}function jf(){Mf[0]=pf,Mf[1]=gf,If.point=Ff,xf=null}function $f(t,n){if(xf){var e=t-bf;qf.add(Ss(e)>180?e+(e>0?360:-360):e)}else mf=t,_f=n;nf.point(t,n),Vf(t,n)}function Zf(){nf.lineStart()}function Xf(){$f(mf,_f),nf.lineEnd(),Ss(qf)>bs&&(pf=-(gf=180)),Mf[0]=pf,Mf[1]=gf,xf=null}function Gf(t,n){return(n-=t)<0?n+360:n}function Jf(t,n){return t[0]-n[0]}function Wf(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var Kf={sphere:Is,point:Qf,lineStart:nl,lineEnd:il,polygonStart:function(){Kf.lineStart=ol,Kf.lineEnd=al},polygonEnd:function(){Kf.lineStart=nl,Kf.lineEnd=il}};function Qf(t,n){t*=ks;var e=Es(n*=ks);tl(e*Es(t),e*Ps(t),Ps(n))}function tl(t,n,e){++Cf,Sf+=(t-Sf)/Cf,Nf+=(n-Nf)/Cf,Af+=(e-Af)/Cf}function nl(){Kf.point=el}function el(t,n){t*=ks;var e=Es(n*=ks);Of=e*Es(t),Uf=e*Ps(t),Bf=Ps(n),Kf.point=rl,tl(Of,Uf,Bf)}function rl(t,n){t*=ks;var e=Es(n*=ks),r=e*Es(t),i=e*Ps(t),o=Ps(n),a=As(Hs((a=Uf*o-Bf*i)*a+(a=Bf*r-Of*o)*a+(a=Of*i-Uf*r)*a),Of*r+Uf*i+Bf*o);kf+=a,Ef+=a*(Of+(Of=r)),Tf+=a*(Uf+(Uf=i)),Lf+=a*(Bf+(Bf=o)),tl(Of,Uf,Bf)}function il(){Kf.point=Qf}function ol(){Kf.point=ul}function al(){cl(Df,Hf),Kf.point=Qf}function ul(t,n){Df=t,Hf=n,t*=ks,n*=ks,Kf.point=cl;var e=Es(n);Of=e*Es(t),Uf=e*Ps(t),Bf=Ps(n),tl(Of,Uf,Bf)}function cl(t,n){t*=ks;var e=Es(n*=ks),r=e*Es(t),i=e*Ps(t),o=Ps(n),a=Uf*o-Bf*i,u=Bf*r-Of*o,c=Of*i-Uf*r,s=Hs(a*a+u*u+c*c),f=Bs(s),l=s&&-f/s;zf+=l*a,Rf+=l*u,Pf+=l*c,kf+=f,Ef+=f*(Of+(Of=r)),Tf+=f*(Uf+(Uf=i)),Lf+=f*(Bf+(Bf=o)),tl(Of,Uf,Bf)}function sl(t){return function(){return t}}function fl(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function ll(t,n){return[Ss(t)>_s?t+Math.round(-t/Ms)*Ms:t,n]}function hl(t,n,e){return(t%=Ms)?n||e?fl(pl(t),vl(n,e)):pl(t):n||e?vl(n,e):ll}function dl(t){return function(n,e){return[(n+=t)>_s?n-Ms:n<-_s?n+Ms:n,e]}}function pl(t){var n=dl(t);return n.invert=dl(-t),n}function vl(t,n){var e=Es(t),r=Ps(t),i=Es(n),o=Ps(n);function a(t,n){var a=Es(n),u=Es(t)*a,c=Ps(t)*a,s=Ps(n),f=s*e+u*r;return[As(c*i-f*o,u*e-s*r),Bs(f*i+c*o)]}return a.invert=function(t,n){var a=Es(n),u=Es(t)*a,c=Ps(t)*a,s=Ps(n),f=s*i-c*o;return[As(c*i+s*o,u*e+f*r),Bs(f*e-u*r)]},a}function gl(t){function n(n){return(n=t(n[0]*ks,n[1]*ks))[0]*=Cs,n[1]*=Cs,n}return t=hl(t[0]*ks,t[1]*ks,t.length>2?t[2]*ks:0),n.invert=function(n){return(n=t.invert(n[0]*ks,n[1]*ks))[0]*=Cs,n[1]*=Cs,n},n}function yl(t,n,e,r,i,o){if(e){var a=Es(n),u=Ps(n),c=r*e;null==i?(i=n+r*Ms,o=n-c/2):(i=bl(a,i),o=bl(a,o),(r>0?i<o:i>o)&&(i+=r*Ms));for(var s,f=i;r>0?f>o:f<o;f-=c)s=uf([a,-u*Es(f),-u*Ps(f)]),t.point(s[0],s[1])}}function bl(t,n){(n=cf(n))[0]-=t,df(n);var e=Us(-n[1]);return((-n[2]<0?-e:e)+Ms-bs)%Ms}function ml(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:Is,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function _l(t,n){return Ss(t[0]-n[0])<bs&&Ss(t[1]-n[1])<bs}function xl(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function wl(t,n,e,r,i){var o,a,u=[],c=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(_l(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(e=new xl(r,t,null,!0)),c.push(e.o=new xl(r,null,e,!1)),u.push(e=new xl(a,t,null,!1)),c.push(e.o=new xl(a,null,e,!0))}})),u.length){for(c.sort(n),Ml(u),Ml(c),o=0,a=c.length;o<a;++o)c[o].e=e=!e;for(var s,f,l=u[0];;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=s.length;o<a;++o)i.point((f=s[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((f=s[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Ml(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}ll.invert=ll;var Cl=ps();function kl(t){return Ss(t[0])<=_s?t[0]:Ds(t[0])*((Ss(t[0])+_s)%Ms-_s)}function Sl(t,n){var e=kl(n),r=n[1],i=Ps(r),o=[Ps(e),-Es(e),0],a=0,u=0;Cl.reset(),1===i?r=xs+bs:-1===i&&(r=-xs-bs);for(var c=0,s=t.length;c<s;++c)if(l=(f=t[c]).length)for(var f,l,h=f[l-1],d=kl(h),p=h[1]/2+ws,v=Ps(p),g=Es(p),y=0;y<l;++y,d=m,v=x,g=w,h=b){var b=f[y],m=kl(b),_=b[1]/2+ws,x=Ps(_),w=Es(_),M=m-d,C=M>=0?1:-1,k=C*M,S=k>_s,N=v*x;if(Cl.add(As(N*C*Ps(k),g*w+N*Es(k))),a+=S?M+C*Ms:M,S^d>=e^m>=e){var A=ff(cf(h),cf(b));df(A);var E=ff(o,A);df(E);var T=(S^M>=0?-1:1)*Bs(E[2]);(r>T||r===T&&(A[0]||A[1]))&&(u+=S^M>=0?1:-1)}}return(a<-1e-6||a<bs&&Cl<-1e-6)^1&u}function Nl(t,n,e,r){return function(i){var o,a,u,c=n(i),s=ml(),f=n(s),l=!1,h={point:d,lineStart:v,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=b,h.lineEnd=m,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=g,a=pn(a);var t=Sl(o,r);a.length?(l||(i.polygonStart(),l=!0),wl(a,El,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){c.point(t,n)}function v(){h.point=p,c.lineStart()}function g(){h.point=d,c.lineEnd()}function y(t,n){u.push([t,n]),f.point(t,n)}function b(){f.lineStart(),u=[]}function m(){y(u[0][0],u[0][1]),f.lineEnd();var t,n,e,r,c=f.clean(),h=s.result(),d=h.length;if(u.pop(),o.push(u),u=null,d)if(1&c){if((n=(e=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Al))}return h}}function Al(t){return t.length>1}function El(t,n){return((t=t.x)[0]<0?t[1]-xs-bs:xs-t[1])-((n=n.x)[0]<0?n[1]-xs-bs:xs-n[1])}var Tl=Nl((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?_s:-_s,c=Ss(o-e);Ss(c-_s)<bs?(t.point(e,r=(r+a)/2>0?xs:-xs),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&c>=_s&&(Ss(e-i)<bs&&(e-=i*bs),Ss(o-u)<bs&&(o-=u*bs),r=function(t,n,e,r){var i,o,a=Ps(t-e);return Ss(a)>bs?Ns((Ps(n)*(o=Es(r))*Ps(e)-Ps(r)*(i=Es(n))*Ps(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*xs,r.point(-_s,i),r.point(0,i),r.point(_s,i),r.point(_s,0),r.point(_s,-i),r.point(0,-i),r.point(-_s,-i),r.point(-_s,0),r.point(-_s,i);else if(Ss(t[0]-n[0])>bs){var o=t[0]<n[0]?_s:-_s;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-_s,-xs]);function Ll(t){var n=Es(t),e=6*ks,r=n>0,i=Ss(n)>bs;function o(t,e){return Es(t)*Es(e)>n}function a(t,e,r){var i=[1,0,0],o=ff(cf(t),cf(e)),a=sf(o,o),u=o[0],c=a-u*u;if(!c)return!r&&t;var s=n*a/c,f=-n*u/c,l=ff(i,o),h=hf(i,s);lf(h,hf(o,f));var d=l,p=sf(h,d),v=sf(d,d),g=p*p-v*(sf(h,h)-1);if(!(g<0)){var y=Hs(g),b=hf(d,(-p-y)/v);if(lf(b,h),b=uf(b),!r)return b;var m,_=t[0],x=e[0],w=t[1],M=e[1];x<_&&(m=_,_=x,x=m);var C=x-_,k=Ss(C-_s)<bs;if(!k&&M<w&&(m=w,w=M,M=m),k||C<bs?k?w+M>0^b[1]<(Ss(b[0]-_)<bs?w:M):w<=b[1]&&b[1]<=M:C>_s^(_<=b[0]&&b[0]<=x)){var S=hf(d,(-p+y)/v);return lf(S,h),[b,uf(S)]}}}function u(n,e){var i=r?t:_s-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Nl(o,(function(t){var n,e,c,s,f;return{lineStart:function(){s=c=!1,f=1},point:function(l,h){var d,p=[l,h],v=o(l,h),g=r?v?0:u(l,h):v?u(l+(l<0?_s:-_s),h):0;if(!n&&(s=c=v)&&t.lineStart(),v!==c&&(!(d=a(n,p))||_l(n,d)||_l(p,d))&&(p[2]=1),v!==c)f=0,v?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^v){var y;g&e||!(y=a(p,n,!0))||(f=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!v||n&&_l(n,p)||t.point(p[0],p[1]),n=p,c=v,e=g},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return f|(s&&c)<<1}}}),(function(n,r,i,o){yl(o,t,e,i,n,r)}),r?[0,-t]:[-_s,t-_s])}var zl=1e9,Rl=-zl;function Pl(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,s){var f=0,l=0;if(null==i||(f=a(i,u))!==(l=a(o,u))||c(i,o)<0^u>0)do{s.point(0===f||3===f?t:e,f>1?r:n)}while((f=(f+u+4)%4)!==l);else s.point(o[0],o[1])}function a(r,i){return Ss(r[0]-t)<bs?i>0?0:3:Ss(r[0]-e)<bs?i>0?2:1:Ss(r[1]-n)<bs?i>0?1:0:i>0?3:2}function u(t,n){return c(t.x,n.x)}function c(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var c,s,f,l,h,d,p,v,g,y,b,m=a,_=ml(),x={point:w,lineStart:function(){x.point=M,s&&s.push(f=[]);y=!0,g=!1,p=v=NaN},lineEnd:function(){c&&(M(l,h),d&&g&&_.rejoin(),c.push(_.result()));x.point=w,g&&m.lineEnd()},polygonStart:function(){m=_,c=[],s=[],b=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=s.length;e<i;++e)for(var o,a,u=s[e],c=1,f=u.length,l=u[0],h=l[0],d=l[1];c<f;++c)o=h,a=d,h=(l=u[c])[0],d=l[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=b&&n,i=(c=pn(c)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&wl(c,u,n,o,a),a.polygonEnd());m=a,c=s=f=null}};function w(t,n){i(t,n)&&m.point(t,n)}function M(o,a){var u=i(o,a);if(s&&f.push([o,a]),y)l=o,h=a,d=u,y=!1,u&&(m.lineStart(),m.point(o,a));else if(u&&g)m.point(o,a);else{var c=[p=Math.max(Rl,Math.min(zl,p)),v=Math.max(Rl,Math.min(zl,v))],_=[o=Math.max(Rl,Math.min(zl,o)),a=Math.max(Rl,Math.min(zl,a))];!function(t,n,e,r,i,o){var a,u=t[0],c=t[1],s=0,f=1,l=n[0]-u,h=n[1]-c;if(a=e-u,l||!(a>0)){if(a/=l,l<0){if(a<s)return;a<f&&(f=a)}else if(l>0){if(a>f)return;a>s&&(s=a)}if(a=i-u,l||!(a<0)){if(a/=l,l<0){if(a>f)return;a>s&&(s=a)}else if(l>0){if(a<s)return;a<f&&(f=a)}if(a=r-c,h||!(a>0)){if(a/=h,h<0){if(a<s)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>s&&(s=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>s&&(s=a)}else if(h>0){if(a<s)return;a<f&&(f=a)}return s>0&&(t[0]=u+s*l,t[1]=c+s*h),f<1&&(n[0]=u+f*l,n[1]=c+f*h),!0}}}}}(c,_,t,n,e,r)?u&&(m.lineStart(),m.point(o,a),b=!1):(g||(m.lineStart(),m.point(c[0],c[1])),m.point(_[0],_[1]),u||m.lineEnd(),b=!1)}p=o,v=a,g=u}return x}}var Dl,Hl,Ol,Ul=ps(),Bl={sphere:Is,point:Is,lineStart:function(){Bl.point=Il,Bl.lineEnd=ql},lineEnd:Is,polygonStart:Is,polygonEnd:Is};function ql(){Bl.point=Bl.lineEnd=Is}function Il(t,n){Dl=t*=ks,Hl=Ps(n*=ks),Ol=Es(n),Bl.point=Fl}function Fl(t,n){t*=ks;var e=Ps(n*=ks),r=Es(n),i=Ss(t-Dl),o=Es(i),a=r*Ps(i),u=Ol*e-Hl*r*o,c=Hl*e+Ol*r*o;Ul.add(As(Hs(a*a+u*u),c)),Dl=t,Hl=e,Ol=r}function Vl(t){return Ul.reset(),Zs(t,Bl),+Ul}var Yl=[null,null],jl={type:"LineString",coordinates:Yl};function $l(t,n){return Yl[0]=t,Yl[1]=n,Vl(jl)}var Zl={Feature:function(t,n){return Gl(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(Gl(e[r].geometry,n))return!0;return!1}},Xl={Sphere:function(){return!0},Point:function(t,n){return Jl(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Jl(e[r],n))return!0;return!1},LineString:function(t,n){return Wl(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Wl(e[r],n))return!0;return!1},Polygon:function(t,n){return Kl(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Kl(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(Gl(e[r],n))return!0;return!1}};function Gl(t,n){return!(!t||!Xl.hasOwnProperty(t.type))&&Xl[t.type](t,n)}function Jl(t,n){return 0===$l(t,n)}function Wl(t,n){for(var e,r,i,o=0,a=t.length;o<a;o++){if(0===(r=$l(t[o],n)))return!0;if(o>0&&(i=$l(t[o],t[o-1]))>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<ms*i)return!0;e=r}return!1}function Kl(t,n){return!!Sl(t.map(Ql),th(n))}function Ql(t){return(t=t.map(th)).pop(),t}function th(t){return[t[0]*ks,t[1]*ks]}function nh(t,n,e){var r=rn(t,n-bs,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function eh(t,n,e){var r=rn(t,n-bs,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function rh(){var t,n,e,r,i,o,a,u,c,s,f,l,h=10,d=h,p=90,v=360,g=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return rn(Ts(r/p)*p,e,p).map(f).concat(rn(Ts(u/v)*v,a,v).map(l)).concat(rn(Ts(n/h)*h,t,h).filter((function(t){return Ss(t%p)>bs})).map(c)).concat(rn(Ts(o/d)*d,i,d).filter((function(t){return Ss(t%v)>bs})).map(s))}return y.lines=function(){return b().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(l(a).slice(1),f(e).reverse().slice(1),l(u).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],u=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),u>a&&(t=u,u=a,a=t),y.precision(g)):[[r,u],[e,a]]},y.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),y.precision(g)):[[n,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],v=+t[1],y):[p,v]},y.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],y):[h,d]},y.precision=function(h){return arguments.length?(g=+h,c=nh(o,i,90),s=eh(n,t,g),f=nh(u,a,90),l=eh(r,e,g),y):g},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function ih(t){return t}var oh,ah,uh,ch,sh=ps(),fh=ps(),lh={point:Is,lineStart:Is,lineEnd:Is,polygonStart:function(){lh.lineStart=hh,lh.lineEnd=vh},polygonEnd:function(){lh.lineStart=lh.lineEnd=lh.point=Is,sh.add(Ss(fh)),fh.reset()},result:function(){var t=sh/2;return sh.reset(),t}};function hh(){lh.point=dh}function dh(t,n){lh.point=ph,oh=uh=t,ah=ch=n}function ph(t,n){fh.add(ch*t-uh*n),uh=t,ch=n}function vh(){ph(oh,ah)}var gh=1/0,yh=gh,bh=-gh,mh=bh,_h={point:function(t,n){t<gh&&(gh=t);t>bh&&(bh=t);n<yh&&(yh=n);n>mh&&(mh=n)},lineStart:Is,lineEnd:Is,polygonStart:Is,polygonEnd:Is,result:function(){var t=[[gh,yh],[bh,mh]];return bh=mh=-(yh=gh=1/0),t}};var xh,wh,Mh,Ch,kh=0,Sh=0,Nh=0,Ah=0,Eh=0,Th=0,Lh=0,zh=0,Rh=0,Ph={point:Dh,lineStart:Hh,lineEnd:Bh,polygonStart:function(){Ph.lineStart=qh,Ph.lineEnd=Ih},polygonEnd:function(){Ph.point=Dh,Ph.lineStart=Hh,Ph.lineEnd=Bh},result:function(){var t=Rh?[Lh/Rh,zh/Rh]:Th?[Ah/Th,Eh/Th]:Nh?[kh/Nh,Sh/Nh]:[NaN,NaN];return kh=Sh=Nh=Ah=Eh=Th=Lh=zh=Rh=0,t}};function Dh(t,n){kh+=t,Sh+=n,++Nh}function Hh(){Ph.point=Oh}function Oh(t,n){Ph.point=Uh,Dh(Mh=t,Ch=n)}function Uh(t,n){var e=t-Mh,r=n-Ch,i=Hs(e*e+r*r);Ah+=i*(Mh+t)/2,Eh+=i*(Ch+n)/2,Th+=i,Dh(Mh=t,Ch=n)}function Bh(){Ph.point=Dh}function qh(){Ph.point=Fh}function Ih(){Vh(xh,wh)}function Fh(t,n){Ph.point=Vh,Dh(xh=Mh=t,wh=Ch=n)}function Vh(t,n){var e=t-Mh,r=n-Ch,i=Hs(e*e+r*r);Ah+=i*(Mh+t)/2,Eh+=i*(Ch+n)/2,Th+=i,Lh+=(i=Ch*t-Mh*n)*(Mh+t),zh+=i*(Ch+n),Rh+=3*i,Dh(Mh=t,Ch=n)}function Yh(t){this._context=t}Yh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ms)}},result:Is};var jh,$h,Zh,Xh,Gh,Jh=ps(),Wh={point:Is,lineStart:function(){Wh.point=Kh},lineEnd:function(){jh&&Qh($h,Zh),Wh.point=Is},polygonStart:function(){jh=!0},polygonEnd:function(){jh=null},result:function(){var t=+Jh;return Jh.reset(),t}};function Kh(t,n){Wh.point=Qh,$h=Xh=t,Zh=Gh=n}function Qh(t,n){Xh-=t,Gh-=n,Jh.add(Hs(Xh*Xh+Gh*Gh)),Xh=t,Gh=n}function td(){this._string=[]}function nd(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ed(t){return function(n){var e=new rd;for(var r in t)e[r]=t[r];return e.stream=n,e}}function rd(){}function id(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Zs(e,t.stream(_h)),n(_h.result()),null!=r&&t.clipExtent(r),t}function od(t,n,e){return id(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])}),e)}function ad(t,n,e){return od(t,[[0,0],n],e)}function ud(t,n,e){return id(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}function cd(t,n,e){return id(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}td.prototype={_radius:4.5,_circle:nd(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=nd(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},rd.prototype={constructor:rd,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var sd=Es(30*ks);function fd(t,n){return+n?function(t,n){function e(r,i,o,a,u,c,s,f,l,h,d,p,v,g){var y=s-r,b=f-i,m=y*y+b*b;if(m>4*n&&v--){var _=a+h,x=u+d,w=c+p,M=Hs(_*_+x*x+w*w),C=Bs(w/=M),k=Ss(Ss(w)-1)<bs||Ss(o-l)<bs?(o+l)/2:As(x,_),S=t(k,C),N=S[0],A=S[1],E=N-r,T=A-i,L=b*E-y*T;(L*L/m>n||Ss((y*E+b*T)/m-.5)>.3||a*h+u*d+c*p<sd)&&(e(r,i,o,a,u,c,N,A,k,_/=M,x/=M,w,v,g),g.point(N,A),e(N,A,k,_,x,w,s,f,l,h,d,p,v,g))}}return function(n){var r,i,o,a,u,c,s,f,l,h,d,p,v={point:g,lineStart:y,lineEnd:m,polygonStart:function(){n.polygonStart(),v.lineStart=_},polygonEnd:function(){n.polygonEnd(),v.lineStart=y}};function g(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){f=NaN,v.point=b,n.lineStart()}function b(r,i){var o=cf([r,i]),a=t(r,i);e(f,l,s,h,d,p,f=a[0],l=a[1],s=r,h=o[0],d=o[1],p=o[2],16,n),n.point(f,l)}function m(){v.point=g,n.lineEnd()}function _(){y(),v.point=x,v.lineEnd=w}function x(t,n){b(r=t,n),i=f,o=l,a=h,u=d,c=p,v.point=b}function w(){e(f,l,s,h,d,p,i,o,r,a,u,c,16,n),v.lineEnd=m,m()}return v}}(t,n):function(t){return ed({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var ld=ed({point:function(t,n){this.stream.point(t*ks,n*ks)}});function hd(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}function dd(t,n,e,r,i,o){var a=Es(o),u=Ps(o),c=a*t,s=u*t,f=a/t,l=u/t,h=(u*e-a*n)/t,d=(u*n+a*e)/t;function p(t,o){return[c*(t*=r)-s*(o*=i)+n,e-s*t-c*o]}return p.invert=function(t,n){return[r*(f*t-l*n+h),i*(d-l*t-f*n)]},p}function pd(t){return vd((function(){return t}))()}function vd(t){var n,e,r,i,o,a,u,c,s,f,l=150,h=480,d=250,p=0,v=0,g=0,y=0,b=0,m=0,_=1,x=1,w=null,M=Tl,C=null,k=ih,S=.5;function N(t){return c(t[0]*ks,t[1]*ks)}function A(t){return(t=c.invert(t[0],t[1]))&&[t[0]*Cs,t[1]*Cs]}function E(){var t=dd(l,0,0,_,x,m).apply(null,n(p,v)),r=(m?dd:hd)(l,h-t[0],d-t[1],_,x,m);return e=hl(g,y,b),u=fl(n,r),c=fl(e,u),a=fd(u,S),T()}function T(){return s=f=null,N}return N.stream=function(t){return s&&f===t?s:s=ld(function(t){return ed({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(a(k(f=t)))))},N.preclip=function(t){return arguments.length?(M=t,w=void 0,T()):M},N.postclip=function(t){return arguments.length?(k=t,C=r=i=o=null,T()):k},N.clipAngle=function(t){return arguments.length?(M=+t?Ll(w=t*ks):(w=null,Tl),T()):w*Cs},N.clipExtent=function(t){return arguments.length?(k=null==t?(C=r=i=o=null,ih):Pl(C=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),T()):null==C?null:[[C,r],[i,o]]},N.scale=function(t){return arguments.length?(l=+t,E()):l},N.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],E()):[h,d]},N.center=function(t){return arguments.length?(p=t[0]%360*ks,v=t[1]%360*ks,E()):[p*Cs,v*Cs]},N.rotate=function(t){return arguments.length?(g=t[0]%360*ks,y=t[1]%360*ks,b=t.length>2?t[2]%360*ks:0,E()):[g*Cs,y*Cs,b*Cs]},N.angle=function(t){return arguments.length?(m=t%360*ks,E()):m*Cs},N.reflectX=function(t){return arguments.length?(_=t?-1:1,E()):_<0},N.reflectY=function(t){return arguments.length?(x=t?-1:1,E()):x<0},N.precision=function(t){return arguments.length?(a=fd(u,S=t*t),T()):Hs(S)},N.fitExtent=function(t,n){return od(N,t,n)},N.fitSize=function(t,n){return ad(N,t,n)},N.fitWidth=function(t,n){return ud(N,t,n)},N.fitHeight=function(t,n){return cd(N,t,n)},function(){return n=t.apply(this,arguments),N.invert=n.invert&&A,E()}}function gd(t){var n=0,e=_s/3,r=vd(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*ks,e=t[1]*ks):[n*Cs,e*Cs]},i}function yd(t,n){var e=Ps(t),r=(e+Ps(n))/2;if(Ss(r)<bs)return function(t){var n=Es(t);function e(t,e){return[t*n,Ps(e)/n]}return e.invert=function(t,e){return[t/n,Bs(e*n)]},e}(t);var i=1+e*(2*r-e),o=Hs(i)/r;function a(t,n){var e=Hs(i-2*r*Ps(n))/r;return[e*Ps(t*=r),o-e*Es(t)]}return a.invert=function(t,n){var e=o-n,a=As(t,Ss(e))*Ds(e);return e*r<0&&(a-=_s*Ds(t)*Ds(e)),[a/r,Bs((i-(t*t+e*e)*r*r)/(2*r))]},a}function bd(){return gd(yd).scale(155.424).center([0,33.6442])}function md(){return bd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function _d(t){return function(n,e){var r=Es(n),i=Es(e),o=t(r*i);return[o*i*Ps(n),o*Ps(e)]}}function xd(t){return function(n,e){var r=Hs(n*n+e*e),i=t(r),o=Ps(i),a=Es(i);return[As(n*o,r*a),Bs(r&&e*o/r)]}}var wd=_d((function(t){return Hs(2/(1+t))}));wd.invert=xd((function(t){return 2*Bs(t/2)}));var Md=_d((function(t){return(t=Us(t))&&t/Ps(t)}));function Cd(t,n){return[t,zs(Os((xs+n)/2))]}function kd(t){var n,e,r,i=pd(t),o=i.center,a=i.scale,u=i.translate,c=i.clipExtent,s=null;function f(){var o=_s*a(),u=i(gl(i.rotate()).invert([0,0]));return c(null==s?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Cd?[[Math.max(u[0]-o,s),n],[Math.min(u[0]+o,e),r]]:[[s,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),f()):a()},i.translate=function(t){return arguments.length?(u(t),f()):u()},i.center=function(t){return arguments.length?(o(t),f()):o()},i.clipExtent=function(t){return arguments.length?(null==t?s=n=e=r=null:(s=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),f()):null==s?null:[[s,n],[e,r]]},f()}function Sd(t){return Os((xs+t)/2)}function Nd(t,n){var e=Es(t),r=t===n?Ps(t):zs(e/Es(n))/zs(Sd(n)/Sd(t)),i=e*Rs(Sd(t),r)/r;if(!r)return Cd;function o(t,n){i>0?n<-xs+bs&&(n=-xs+bs):n>xs-bs&&(n=xs-bs);var e=i/Rs(Sd(n),r);return[e*Ps(r*t),i-e*Es(r*t)]}return o.invert=function(t,n){var e=i-n,o=Ds(r)*Hs(t*t+e*e),a=As(t,Ss(e))*Ds(e);return e*r<0&&(a-=_s*Ds(t)*Ds(e)),[a/r,2*Ns(Rs(i/o,1/r))-xs]},o}function Ad(t,n){return[t,n]}function Ed(t,n){var e=Es(t),r=t===n?Ps(t):(e-Es(n))/(n-t),i=e/r+t;if(Ss(r)<bs)return Ad;function o(t,n){var e=i-n,o=r*t;return[e*Ps(o),i-e*Es(o)]}return o.invert=function(t,n){var e=i-n,o=As(t,Ss(e))*Ds(e);return e*r<0&&(o-=_s*Ds(t)*Ds(e)),[o/r,i-Ds(r)*Hs(t*t+e*e)]},o}Md.invert=xd((function(t){return t})),Cd.invert=function(t,n){return[t,2*Ns(Ls(n))-xs]},Ad.invert=Ad;var Td=1.340264,Ld=-.081106,zd=893e-6,Rd=.003796,Pd=Hs(3)/2;function Dd(t,n){var e=Bs(Pd*Ps(n)),r=e*e,i=r*r*r;return[t*Es(e)/(Pd*(Td+3*Ld*r+i*(7*zd+9*Rd*r))),e*(Td+Ld*r+i*(zd+Rd*r))]}function Hd(t,n){var e=Es(n),r=Es(t)*e;return[e*Ps(t)/r,Ps(n)/r]}function Od(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function Ud(t,n){return[Es(n)*Ps(t),Ps(n)]}function Bd(t,n){var e=Es(n),r=1+Es(t)*e;return[e*Ps(t)/r,Ps(n)/r]}function qd(t,n){return[zs(Os((xs+n)/2)),-t]}function Id(t,n){return t.parent===n.parent?1:2}function Fd(t,n){return t+n.x}function Vd(t,n){return Math.max(t,n.y)}function Yd(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function jd(t,n){var e,r,i,o,a,u=new Gd(t),c=+t.value&&(u.value=t.value),s=[u];for(null==n&&(n=$d);e=s.pop();)if(c&&(e.value=+e.data.value),(i=n(e.data))&&(a=i.length))for(e.children=new Array(a),o=a-1;o>=0;--o)s.push(r=e.children[o]=new Gd(i[o])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(Xd)}function $d(t){return t.children}function Zd(t){t.data=t.data.data}function Xd(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Gd(t){this.data=t,this.depth=this.height=0,this.parent=null}Dd.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(Td+Ld*i+o*(zd+Rd*i))-n)/(Td+3*Ld*i+o*(7*zd+9*Rd*i)))*r)*i*i,!(Ss(e)<ms));++a);return[Pd*t*(Td+3*Ld*i+o*(7*zd+9*Rd*i))/Es(r),Bs(Ps(r)/Pd)]},Hd.invert=xd(Ns),Od.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Ss(e)>bs&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Ud.invert=xd(Bs),Bd.invert=xd((function(t){return 2*Ns(t)})),qd.invert=function(t,n){return[-n,2*Ns(Ls(t))-xs]},Gd.prototype=jd.prototype={constructor:Gd,count:function(){return this.eachAfter(Yd)},each:function(t){var n,e,r,i,o=this,a=[o];do{for(n=a.reverse(),a=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r])}while(a.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter((function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();for(;t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each((function(n){t.push(n)})),t},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},copy:function(){return jd(this).eachBefore(Zd)}};var Jd=Array.prototype.slice;function Wd(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(Jd.call(t))).length,o=[];r<i;)n=t[r],e&&tp(e,n)?++r:(e=ep(o=Kd(o,n)),r=0);return e}function Kd(t,n){var e,r;if(np(n,t))return[n];for(e=0;e<t.length;++e)if(Qd(n,t[e])&&np(rp(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Qd(rp(t[e],t[r]),n)&&Qd(rp(t[e],n),t[r])&&Qd(rp(t[r],n),t[e])&&np(ip(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Qd(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function tp(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function np(t,n){for(var e=0;e<n.length;++e)if(!tp(t,n[e]))return!1;return!0}function ep(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return rp(t[0],t[1]);case 3:return ip(t[0],t[1],t[2])}}function rp(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,u=n.r,c=o-e,s=a-r,f=u-i,l=Math.sqrt(c*c+s*s);return{x:(e+o+c/l*f)/2,y:(r+a+s/l*f)/2,r:(l+i+u)/2}}function ip(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,u=n.y,c=n.r,s=e.x,f=e.y,l=e.r,h=r-a,d=r-s,p=i-u,v=i-f,g=c-o,y=l-o,b=r*r+i*i-o*o,m=b-a*a-u*u+c*c,_=b-s*s-f*f+l*l,x=d*p-h*v,w=(p*_-v*m)/(2*x)-r,M=(v*g-p*y)/x,C=(d*m-h*_)/(2*x)-i,k=(h*y-d*g)/x,S=M*M+k*k-1,N=2*(o+w*M+C*k),A=w*w+C*C-o*o,E=-(S?(N+Math.sqrt(N*N-4*S*A))/(2*S):A/N);return{x:r+w+M*E,y:i+C+k*E,r:E}}function op(t,n,e){var r,i,o,a,u=t.x-n.x,c=t.y-n.y,s=u*u+c*c;s?(i=n.r+e.r,i*=i,a=t.r+e.r,i>(a*=a)?(r=(s+a-i)/(2*s),o=Math.sqrt(Math.max(0,a/s-r*r)),e.x=t.x-r*u-o*c,e.y=t.y-r*c+o*u):(r=(s+i-a)/(2*s),o=Math.sqrt(Math.max(0,i/s-r*r)),e.x=n.x+r*u-o*c,e.y=n.y+r*c+o*u)):(e.x=n.x+e.r,e.y=n.y)}function ap(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function up(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function cp(t){this._=t,this.next=null,this.previous=null}function sp(t){if(!(i=t.length))return 0;var n,e,r,i,o,a,u,c,s,f,l;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;op(e,n,r=t[2]),n=new cp(n),e=new cp(e),r=new cp(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(u=3;u<i;++u){op(n._,e._,r=t[u]),r=new cp(r),c=e.next,s=n.previous,f=e._.r,l=n._.r;do{if(f<=l){if(ap(c._,r._)){e=c,n.next=e,e.previous=n,--u;continue t}f+=c._.r,c=c.next}else{if(ap(s._,r._)){(n=s).next=e,e.previous=n,--u;continue t}l+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=up(n);(r=r.next)!==e;)(a=up(r))<o&&(n=r,o=a);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=Wd(n),u=0;u<i;++u)(n=t[u]).x-=r.x,n.y-=r.y;return r.r}function fp(t){return null==t?null:lp(t)}function lp(t){if("function"!=typeof t)throw new Error;return t}function hp(){return 0}function dp(t){return function(){return t}}function pp(t){return Math.sqrt(t.value)}function vp(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function gp(t,n){return function(e){if(r=e.children){var r,i,o,a=r.length,u=t(e)*n||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=sp(r),u)for(i=0;i<a;++i)r[i].r-=u;e.r=o+u}}}function yp(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function bp(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function mp(t,n,e,r,i){for(var o,a=t.children,u=-1,c=a.length,s=t.value&&(r-n)/t.value;++u<c;)(o=a[u]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*s}var _p={depth:-1},xp={};function wp(t){return t.id}function Mp(t){return t.parentId}function Cp(t,n){return t.parent===n.parent?1:2}function kp(t){var n=t.children;return n?n[0]:t.t}function Sp(t){var n=t.children;return n?n[n.length-1]:t.t}function Np(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Ap(t,n,e){return t.a.parent===n.parent?t.a:e}function Ep(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function Tp(t,n,e,r,i){for(var o,a=t.children,u=-1,c=a.length,s=t.value&&(i-e)/t.value;++u<c;)(o=a[u]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*s}Ep.prototype=Object.create(Gd.prototype);var Lp=(1+Math.sqrt(5))/2;function zp(t,n,e,r,i,o){for(var a,u,c,s,f,l,h,d,p,v,g,y=[],b=n.children,m=0,_=0,x=b.length,w=n.value;m<x;){c=i-e,s=o-r;do{f=b[_++].value}while(!f&&_<x);for(l=h=f,g=f*f*(v=Math.max(s/c,c/s)/(w*t)),p=Math.max(h/g,g/l);_<x;++_){if(f+=u=b[_].value,u<l&&(l=u),u>h&&(h=u),g=f*f*v,(d=Math.max(h/g,g/l))>p){f-=u;break}p=d}y.push(a={value:f,dice:c<s,children:b.slice(m,_)}),a.dice?mp(a,e,r,i,w?r+=s*f/w:o):Tp(a,e,r,w?e+=c*f/w:i,o),w-=f,m=_}return y}var Rp=function t(n){function e(t,e,r,i,o){zp(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Lp);var Pp=function t(n){function e(t,e,r,i,o){if((a=t._squarify)&&a.ratio===n)for(var a,u,c,s,f,l=-1,h=a.length,d=t.value;++l<h;){for(c=(u=a[l]).children,s=u.value=0,f=c.length;s<f;++s)u.value+=c[s].value;u.dice?mp(u,e,r,i,r+=(o-r)*u.value/d):Tp(u,e,r,e+=(i-e)*u.value/d,o),d-=u.value}else t._squarify=a=zp(n,t,e,r,i,o),a.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Lp);function Dp(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function Hp(t,n){return t[0]-n[0]||t[1]-n[1]}function Op(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&Dp(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function Up(){return Math.random()}var Bp=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(Up),qp=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(Up),Ip=function t(n){function e(){var t=qp.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(Up),Fp=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(Up),Vp=function t(n){function e(t){var e=Fp.source(n)(t);return function(){return e()/t}}return e.source=t,e}(Up),Yp=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(Up);function jp(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function $p(t,n){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(n).domain(t)}return this}var Zp=Array.prototype,Xp=Zp.map,Gp=Zp.slice,Jp={name:"implicit"};function Wp(){var t=Au(),n=[],e=[],r=Jp;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Jp)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Au();for(var r,o,a=-1,u=e.length;++a<u;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=Gp.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Wp(n,e).unknown(r)},jp.apply(i,arguments),i}function Kp(){var t,n,e=Wp().unknown(void 0),r=e.domain,i=e.range,o=[0,1],a=!1,u=0,c=0,s=.5;function f(){var e=r().length,f=o[1]<o[0],l=o[f-0],h=o[1-f];t=(h-l)/Math.max(1,e-u+2*c),a&&(t=Math.floor(t)),l+=(h-l-t*(e-u))*s,n=t*(1-u),a&&(l=Math.round(l),n=Math.round(n));var d=rn(e).map((function(n){return l+t*n}));return i(f?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),f()):r()},e.range=function(t){return arguments.length?(o=[+t[0],+t[1]],f()):o.slice()},e.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,f()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(a=!!t,f()):a},e.padding=function(t){return arguments.length?(u=Math.min(1,c=+t),f()):u},e.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),f()):u},e.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},e.align=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),f()):s},e.copy=function(){return Kp(r(),o).round(a).paddingInner(u).paddingOuter(c).align(s)},jp.apply(f(),arguments)}function Qp(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Qp(n())},t}function tv(t){return+t}var nv=[0,1];function ev(t){return t}function rv(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function iv(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function ov(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=rv(i,r),o=e(a,o)):(r=rv(r,i),o=e(o,a)),function(t){return o(r(t))}}function av(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=rv(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=jt(t,n,1,r)-1;return o[e](i[e](n))}}function uv(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function cv(){var t,n,e,r,i,o,a=nv,u=nv,c=Di,s=ev;function f(){return r=Math.min(a.length,u.length)>2?av:ov,i=o=null,l}function l(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,c)))(t(s(n)))}return l.invert=function(e){return s(n((o||(o=r(u,a.map(t),Ti)))(e)))},l.domain=function(t){return arguments.length?(a=Xp.call(t,tv),s===ev||(s=iv(a)),f()):a.slice()},l.range=function(t){return arguments.length?(u=Gp.call(t),f()):u.slice()},l.rangeRound=function(t){return u=Gp.call(t),c=Hi,f()},l.clamp=function(t){return arguments.length?(s=t?iv(a):ev,l):s!==ev},l.interpolate=function(t){return arguments.length?(c=t,f()):c},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,f()}}function sv(t,n){return cv()(t,n)}function fv(t,n,e,r){var i,o=fn(t,n,e);switch((r=Qc(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=hs(o,a))||(r.precision=i),as(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=ds(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=ls(o))||(r.precision=i-2*("%"===r.type))}return os(r)}function lv(t){var n=t.domain;return t.ticks=function(t){var e=n();return cn(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return fv(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,a=i.length-1,u=i[o],c=i[a];return c<u&&(r=u,u=c,c=r,r=o,o=a,a=r),(r=sn(u,c,e))>0?r=sn(u=Math.floor(u/r)*r,c=Math.ceil(c/r)*r,e):r<0&&(r=sn(u=Math.ceil(u*r)/r,c=Math.floor(c*r)/r,e)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(c/r)*r,n(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(c*r)/r,n(i)),t},t}function hv(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function dv(t){return Math.log(t)}function pv(t){return Math.exp(t)}function vv(t){return-Math.log(-t)}function gv(t){return-Math.exp(-t)}function yv(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bv(t){return function(n){return-t(-n)}}function mv(t){var n,e,r=t(dv,pv),i=r.domain,o=10;function a(){return n=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}(o),e=function(t){return 10===t?yv:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}(o),i()[0]<0?(n=bv(n),e=bv(e),t(vv,gv)):t(dv,pv),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),u=a[0],c=a[a.length-1];(r=c<u)&&(h=u,u=c,c=h);var s,f,l,h=n(u),d=n(c),p=null==t?10:+t,v=[];if(!(o%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,u>0){for(;h<d;++h)for(f=1,s=e(h);f<o;++f)if(!((l=s*f)<u)){if(l>c)break;v.push(l)}}else for(;h<d;++h)for(f=o-1,s=e(h);f>=1;--f)if(!((l=s*f)<u)){if(l>c)break;v.push(l)}}else v=cn(h,d,Math.min(d-h,p)).map(e);return r?v.reverse():v},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=os(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/e(Math.round(n(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(hv(i(),{floor:function(t){return e(Math.floor(n(t)))},ceil:function(t){return e(Math.ceil(n(t)))}}))},r}function _v(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function xv(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function wv(t){var n=1,e=t(_v(n),xv(n));return e.constant=function(e){return arguments.length?t(_v(n=+e),xv(n)):n},lv(e)}function Mv(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Cv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function kv(t){return t<0?-t*t:t*t}function Sv(t){var n=t(ev,ev),e=1;function r(){return 1===e?t(ev,ev):.5===e?t(Cv,kv):t(Mv(e),Mv(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},lv(n)}function Nv(){var t=Sv(cv());return t.copy=function(){return uv(t,Nv()).exponent(t.exponent())},jp.apply(t,arguments),t}var Av=new Date,Ev=new Date;function Tv(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return u},i.filter=function(e){return Tv((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return Av.setTime(+n),Ev.setTime(+r),t(Av),t(Ev),Math.floor(e(Av,Ev))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var Lv=Tv((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));Lv.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Tv((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):Lv:null};var zv=Lv.range,Rv=1e3,Pv=6e4,Dv=36e5,Hv=864e5,Ov=6048e5,Uv=Tv((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+n*Rv)}),(function(t,n){return(n-t)/Rv}),(function(t){return t.getUTCSeconds()})),Bv=Uv.range,qv=Tv((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rv)}),(function(t,n){t.setTime(+t+n*Pv)}),(function(t,n){return(n-t)/Pv}),(function(t){return t.getMinutes()})),Iv=qv.range,Fv=Tv((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rv-t.getMinutes()*Pv)}),(function(t,n){t.setTime(+t+n*Dv)}),(function(t,n){return(n-t)/Dv}),(function(t){return t.getHours()})),Vv=Fv.range,Yv=Tv((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Pv)/Hv}),(function(t){return t.getDate()-1})),jv=Yv.range;function $v(t){return Tv((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Pv)/Ov}))}var Zv=$v(0),Xv=$v(1),Gv=$v(2),Jv=$v(3),Wv=$v(4),Kv=$v(5),Qv=$v(6),tg=Zv.range,ng=Xv.range,eg=Gv.range,rg=Jv.range,ig=Wv.range,og=Kv.range,ag=Qv.range,ug=Tv((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),cg=ug.range,sg=Tv((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));sg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Tv((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var fg=sg.range,lg=Tv((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*Pv)}),(function(t,n){return(n-t)/Pv}),(function(t){return t.getUTCMinutes()})),hg=lg.range,dg=Tv((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+n*Dv)}),(function(t,n){return(n-t)/Dv}),(function(t){return t.getUTCHours()})),pg=dg.range,vg=Tv((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/Hv}),(function(t){return t.getUTCDate()-1})),gg=vg.range;function yg(t){return Tv((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/Ov}))}var bg=yg(0),mg=yg(1),_g=yg(2),xg=yg(3),wg=yg(4),Mg=yg(5),Cg=yg(6),kg=bg.range,Sg=mg.range,Ng=_g.range,Ag=xg.range,Eg=wg.range,Tg=Mg.range,Lg=Cg.range,zg=Tv((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Rg=zg.range,Pg=Tv((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Pg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Tv((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var Dg=Pg.range;function Hg(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Og(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ug(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function Bg(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,s=Wg(i),f=Kg(i),l=Wg(o),h=Kg(o),d=Wg(a),p=Kg(a),v=Wg(u),g=Kg(u),y=Wg(c),b=Kg(c),m={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:my,e:my,f:Cy,g:Dy,G:Oy,H:_y,I:xy,j:wy,L:My,m:ky,M:Sy,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ab,s:ub,S:Ny,u:Ay,U:Ey,V:Ly,w:zy,W:Ry,x:null,X:null,y:Py,Y:Hy,Z:Uy,"%":ob},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:By,e:By,f:Yy,g:nb,G:rb,H:qy,I:Iy,j:Fy,L:Vy,m:jy,M:$y,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ab,s:ub,S:Zy,u:Xy,U:Gy,V:Wy,w:Ky,W:Qy,x:null,X:null,y:tb,Y:eb,Z:ib,"%":ob},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=b[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=g[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return C(t,n,e,r)},d:sy,e:sy,f:vy,g:oy,G:iy,H:ly,I:ly,j:fy,L:py,m:cy,M:hy,p:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.p=f[r[0].toLowerCase()],e+r[0].length):-1},q:uy,Q:yy,s:by,S:dy,u:ty,U:ny,V:ey,w:Qg,W:ry,x:function(t,n,r){return C(t,e,n,r)},X:function(t,n,e){return C(t,r,n,e)},y:oy,Y:iy,Z:ay,"%":gy};function w(t,n){return function(e){var r,i,o,a=[],u=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++u<s;)37===t.charCodeAt(u)&&(a.push(t.slice(c,u)),null!=(i=jg[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),c=u+1);return a.push(t.slice(c,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=Ug(1900,void 0,1);if(C(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Og(Ug(o.y,0,1))).getUTCDay(),r=i>4||0===i?mg.ceil(r):mg(r),r=vg.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Hg(Ug(o.y,0,1))).getDay(),r=i>4||0===i?Xv.ceil(r):Xv(r),r=Yv.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Og(Ug(o.y,0,1)).getUTCDay():Hg(Ug(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Og(o)):Hg(o)}}function C(t,n,e,r){for(var i,o,a=0,u=n.length,c=e.length;a<u;){if(r>=c)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in jg?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return m.x=w(e,m),m.X=w(r,m),m.c=w(n,m),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),{format:function(t){var n=w(t+="",m);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}var qg,Ig,Fg,Vg,Yg,jg={"-":"",_:" ",0:"0"},$g=/^\s*\d+/,Zg=/^%/,Xg=/[\\^$*+?|[\]().{}]/g;function Gg(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Jg(t){return t.replace(Xg,"\\$&")}function Wg(t){return new RegExp("^(?:"+t.map(Jg).join("|")+")","i")}function Kg(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Qg(t,n,e){var r=$g.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function ty(t,n,e){var r=$g.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function ny(t,n,e){var r=$g.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function ey(t,n,e){var r=$g.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function ry(t,n,e){var r=$g.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function iy(t,n,e){var r=$g.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function oy(t,n,e){var r=$g.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function ay(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function uy(t,n,e){var r=$g.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function cy(t,n,e){var r=$g.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function sy(t,n,e){var r=$g.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function fy(t,n,e){var r=$g.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ly(t,n,e){var r=$g.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function hy(t,n,e){var r=$g.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function dy(t,n,e){var r=$g.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function py(t,n,e){var r=$g.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function vy(t,n,e){var r=$g.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function gy(t,n,e){var r=Zg.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function yy(t,n,e){var r=$g.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function by(t,n,e){var r=$g.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function my(t,n){return Gg(t.getDate(),n,2)}function _y(t,n){return Gg(t.getHours(),n,2)}function xy(t,n){return Gg(t.getHours()%12||12,n,2)}function wy(t,n){return Gg(1+Yv.count(sg(t),t),n,3)}function My(t,n){return Gg(t.getMilliseconds(),n,3)}function Cy(t,n){return My(t,n)+"000"}function ky(t,n){return Gg(t.getMonth()+1,n,2)}function Sy(t,n){return Gg(t.getMinutes(),n,2)}function Ny(t,n){return Gg(t.getSeconds(),n,2)}function Ay(t){var n=t.getDay();return 0===n?7:n}function Ey(t,n){return Gg(Zv.count(sg(t)-1,t),n,2)}function Ty(t){var n=t.getDay();return n>=4||0===n?Wv(t):Wv.ceil(t)}function Ly(t,n){return t=Ty(t),Gg(Wv.count(sg(t),t)+(4===sg(t).getDay()),n,2)}function zy(t){return t.getDay()}function Ry(t,n){return Gg(Xv.count(sg(t)-1,t),n,2)}function Py(t,n){return Gg(t.getFullYear()%100,n,2)}function Dy(t,n){return Gg((t=Ty(t)).getFullYear()%100,n,2)}function Hy(t,n){return Gg(t.getFullYear()%1e4,n,4)}function Oy(t,n){var e=t.getDay();return Gg((t=e>=4||0===e?Wv(t):Wv.ceil(t)).getFullYear()%1e4,n,4)}function Uy(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Gg(n/60|0,"0",2)+Gg(n%60,"0",2)}function By(t,n){return Gg(t.getUTCDate(),n,2)}function qy(t,n){return Gg(t.getUTCHours(),n,2)}function Iy(t,n){return Gg(t.getUTCHours()%12||12,n,2)}function Fy(t,n){return Gg(1+vg.count(Pg(t),t),n,3)}function Vy(t,n){return Gg(t.getUTCMilliseconds(),n,3)}function Yy(t,n){return Vy(t,n)+"000"}function jy(t,n){return Gg(t.getUTCMonth()+1,n,2)}function $y(t,n){return Gg(t.getUTCMinutes(),n,2)}function Zy(t,n){return Gg(t.getUTCSeconds(),n,2)}function Xy(t){var n=t.getUTCDay();return 0===n?7:n}function Gy(t,n){return Gg(bg.count(Pg(t)-1,t),n,2)}function Jy(t){var n=t.getUTCDay();return n>=4||0===n?wg(t):wg.ceil(t)}function Wy(t,n){return t=Jy(t),Gg(wg.count(Pg(t),t)+(4===Pg(t).getUTCDay()),n,2)}function Ky(t){return t.getUTCDay()}function Qy(t,n){return Gg(mg.count(Pg(t)-1,t),n,2)}function tb(t,n){return Gg(t.getUTCFullYear()%100,n,2)}function nb(t,n){return Gg((t=Jy(t)).getUTCFullYear()%100,n,2)}function eb(t,n){return Gg(t.getUTCFullYear()%1e4,n,4)}function rb(t,n){var e=t.getUTCDay();return Gg((t=e>=4||0===e?wg(t):wg.ceil(t)).getUTCFullYear()%1e4,n,4)}function ib(){return"+0000"}function ob(){return"%"}function ab(t){return+t}function ub(t){return Math.floor(+t/1e3)}function cb(t){return qg=Bg(t),Ig=qg.format,Fg=qg.parse,Vg=qg.utcFormat,Yg=qg.utcParse,qg}cb({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var sb="%Y-%m-%dT%H:%M:%S.%LZ";var fb=Date.prototype.toISOString?function(t){return t.toISOString()}:Vg(sb);var lb=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:Yg(sb),hb=1e3,db=6e4,pb=36e5,vb=864e5,gb=2592e6,yb=31536e6;function bb(t){return new Date(t)}function mb(t){return t instanceof Date?+t:+new Date(+t)}function _b(t,n,e,r,i,o,a,u,c){var s=sv(ev,ev),f=s.invert,l=s.domain,h=c(".%L"),d=c(":%S"),p=c("%I:%M"),v=c("%I %p"),g=c("%a %d"),y=c("%b %d"),b=c("%B"),m=c("%Y"),_=[[a,1,hb],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,db],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,pb],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,vb],[r,2,1728e5],[e,1,6048e5],[n,1,gb],[n,3,7776e6],[t,1,yb]];function x(u){return(a(u)<u?h:o(u)<u?d:i(u)<u?p:r(u)<u?v:n(u)<u?e(u)<u?g:y:t(u)<u?b:m)(u)}function w(n,e,r,i){if(null==n&&(n=10),"number"==typeof n){var o=Math.abs(r-e)/n,a=Vt((function(t){return t[2]})).right(_,o);a===_.length?(i=fn(e/yb,r/yb,n),n=t):a?(i=(a=_[o/_[a-1][2]<_[a][2]/o?a-1:a])[1],n=a[0]):(i=Math.max(fn(e,r,n),1),n=u)}return null==i?n:n.every(i)}return s.invert=function(t){return new Date(f(t))},s.domain=function(t){return arguments.length?l(Xp.call(t,mb)):l().map(bb)},s.ticks=function(t,n){var e,r=l(),i=r[0],o=r[r.length-1],a=o<i;return a&&(e=i,i=o,o=e),e=(e=w(t,i,o,n))?e.range(i,o+1):[],a?e.reverse():e},s.tickFormat=function(t,n){return null==n?x:c(n)},s.nice=function(t,n){var e=l();return(t=w(t,e[0],e[e.length-1],n))?l(hv(e,t)):s},s.copy=function(){return uv(s,_b(t,n,e,r,i,o,a,u,c))},s}function xb(){var t,n,e,r,i,o=0,a=1,u=ev,c=!1;function s(n){return isNaN(n=+n)?i:u(0===e?.5:(n=(r(n)-t)*e,c?Math.max(0,Math.min(1,n)):n))}return s.domain=function(i){return arguments.length?(t=r(o=+i[0]),n=r(a=+i[1]),e=t===n?0:1/(n-t),s):[o,a]},s.clamp=function(t){return arguments.length?(c=!!t,s):c},s.interpolator=function(t){return arguments.length?(u=t,s):u},s.unknown=function(t){return arguments.length?(i=t,s):i},function(i){return r=i,t=i(o),n=i(a),e=t===n?0:1/(n-t),s}}function wb(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Mb(){var t=Sv(xb());return t.copy=function(){return wb(t,Mb()).exponent(t.exponent())},$p.apply(t,arguments)}function Cb(){var t,n,e,r,i,o,a,u=0,c=.5,s=1,f=ev,l=!1;function h(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-n)*(t<n?r:i),f(l?Math.max(0,Math.min(1,t)):t))}return h.domain=function(a){return arguments.length?(t=o(u=+a[0]),n=o(c=+a[1]),e=o(s=+a[2]),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h):[u,c,s]},h.clamp=function(t){return arguments.length?(l=!!t,h):l},h.interpolator=function(t){return arguments.length?(f=t,h):f},h.unknown=function(t){return arguments.length?(a=t,h):a},function(a){return o=a,t=a(u),n=a(c),e=a(s),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h}}function kb(){var t=Sv(Cb());return t.copy=function(){return wb(t,kb()).exponent(t.exponent())},$p.apply(t,arguments)}function Sb(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}var Nb=Sb("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ab=Sb("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Eb=Sb("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Tb=Sb("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Lb=Sb("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),zb=Sb("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Rb=Sb("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Pb=Sb("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Db=Sb("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Hb=Sb("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Ob(t){return Ci(t[t.length-1])}var Ub=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Sb),Bb=Ob(Ub),qb=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Sb),Ib=Ob(qb),Fb=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Sb),Vb=Ob(Fb),Yb=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Sb),jb=Ob(Yb),$b=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Sb),Zb=Ob($b),Xb=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Sb),Gb=Ob(Xb),Jb=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Sb),Wb=Ob(Jb),Kb=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Sb),Qb=Ob(Kb),tm=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Sb),nm=Ob(tm),em=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Sb),rm=Ob(em),im=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Sb),om=Ob(im),am=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Sb),um=Ob(am),cm=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Sb),sm=Ob(cm),fm=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Sb),lm=Ob(fm),hm=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Sb),dm=Ob(hm),pm=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Sb),vm=Ob(pm),gm=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Sb),ym=Ob(gm),bm=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Sb),mm=Ob(bm),_m=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Sb),xm=Ob(_m),wm=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Sb),Mm=Ob(wm),Cm=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Sb),km=Ob(Cm),Sm=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Sb),Nm=Ob(Sm),Am=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Sb),Em=Ob(Am),Tm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Sb),Lm=Ob(Tm),zm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Sb),Rm=Ob(zm),Pm=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Sb),Dm=Ob(Pm),Hm=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Sb),Om=Ob(Hm);var Um=io(hi(300,.5,0),hi(-240,.5,1)),Bm=io(hi(-100,.75,.35),hi(80,1.5,.8)),qm=io(hi(260,.75,.35),hi(80,1.5,.8)),Im=hi();var Fm=Er(),Vm=Math.PI/3,Ym=2*Math.PI/3;function jm(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var $m=jm(Sb("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Zm=jm(Sb("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Xm=jm(Sb("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Gm=jm(Sb("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Jm(t){return function(){return t}}var Wm=Math.abs,Km=Math.atan2,Qm=Math.cos,t_=Math.max,n_=Math.min,e_=Math.sin,r_=Math.sqrt,i_=1e-12,o_=Math.PI,a_=o_/2,u_=2*o_;function c_(t){return t>1?0:t<-1?o_:Math.acos(t)}function s_(t){return t>=1?a_:t<=-1?-a_:Math.asin(t)}function f_(t){return t.innerRadius}function l_(t){return t.outerRadius}function h_(t){return t.startAngle}function d_(t){return t.endAngle}function p_(t){return t&&t.padAngle}function v_(t,n,e,r,i,o,a,u){var c=e-t,s=r-n,f=a-i,l=u-o,h=l*c-f*s;if(!(h*h<i_))return[t+(h=(f*(n-o)-l*(t-i))/h)*c,n+h*s]}function g_(t,n,e,r,i,o,a){var u=t-e,c=n-r,s=(a?o:-o)/r_(u*u+c*c),f=s*c,l=-s*u,h=t+f,d=n+l,p=e+f,v=r+l,g=(h+p)/2,y=(d+v)/2,b=p-h,m=v-d,_=b*b+m*m,x=i-o,w=h*v-p*d,M=(m<0?-1:1)*r_(t_(0,x*x*_-w*w)),C=(w*m-b*M)/_,k=(-w*b-m*M)/_,S=(w*m+b*M)/_,N=(-w*b+m*M)/_,A=C-g,E=k-y,T=S-g,L=N-y;return A*A+E*E>T*T+L*L&&(C=S,k=N),{cx:C,cy:k,x01:-f,y01:-l,x11:C*(i/x-1),y11:k*(i/x-1)}}function y_(t){this._context=t}function b_(t){return new y_(t)}function m_(t){return t[0]}function __(t){return t[1]}function x_(){var t=m_,n=__,e=Jm(!0),r=null,i=b_,o=null;function a(a){var u,c,s,f=a.length,l=!1;for(null==r&&(o=i(s=_u())),u=0;u<=f;++u)!(u<f&&e(c=a[u],u,a))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(c,u,a),+n(c,u,a));if(s)return o=null,s+""||null}return a.x=function(n){return arguments.length?(t="function"==typeof n?n:Jm(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:Jm(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:Jm(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function w_(){var t=m_,n=null,e=Jm(0),r=__,i=Jm(!0),o=null,a=b_,u=null;function c(c){var s,f,l,h,d,p=c.length,v=!1,g=new Array(p),y=new Array(p);for(null==o&&(u=a(d=_u())),s=0;s<=p;++s){if(!(s<p&&i(h=c[s],s,c))===v)if(v=!v)f=s,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),l=s-1;l>=f;--l)u.point(g[l],y[l]);u.lineEnd(),u.areaEnd()}v&&(g[s]=+t(h,s,c),y[s]=+e(h,s,c),u.point(n?+n(h,s,c):g[s],r?+r(h,s,c):y[s]))}if(d)return u=null,d+""||null}function s(){return x_().defined(i).curve(a).context(o)}return c.x=function(e){return arguments.length?(t="function"==typeof e?e:Jm(+e),n=null,c):t},c.x0=function(n){return arguments.length?(t="function"==typeof n?n:Jm(+n),c):t},c.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Jm(+t),c):n},c.y=function(t){return arguments.length?(e="function"==typeof t?t:Jm(+t),r=null,c):e},c.y0=function(t){return arguments.length?(e="function"==typeof t?t:Jm(+t),c):e},c.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Jm(+t),c):r},c.lineX0=c.lineY0=function(){return s().x(t).y(e)},c.lineY1=function(){return s().x(t).y(r)},c.lineX1=function(){return s().x(n).y(e)},c.defined=function(t){return arguments.length?(i="function"==typeof t?t:Jm(!!t),c):i},c.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),c):o},c}function M_(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function C_(t){return t}y_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var k_=N_(b_);function S_(t){this._curve=t}function N_(t){function n(n){return new S_(t(n))}return n._curve=t,n}function A_(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(N_(t)):n()._curve},t}function E_(){return A_(x_().curve(k_))}function T_(){var t=w_().curve(k_),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return A_(e())},delete t.lineX0,t.lineEndAngle=function(){return A_(r())},delete t.lineX1,t.lineInnerRadius=function(){return A_(i())},delete t.lineY0,t.lineOuterRadius=function(){return A_(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(N_(t)):n()._curve},t}function L_(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}S_.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var z_=Array.prototype.slice;function R_(t){return t.source}function P_(t){return t.target}function D_(t){var n=R_,e=P_,r=m_,i=__,o=null;function a(){var a,u=z_.call(arguments),c=n.apply(this,u),s=e.apply(this,u);if(o||(o=a=_u()),t(o,+r.apply(this,(u[0]=c,u)),+i.apply(this,u),+r.apply(this,(u[0]=s,u)),+i.apply(this,u)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(n=t,a):n},a.target=function(t){return arguments.length?(e=t,a):e},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Jm(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Jm(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function H_(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function O_(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function U_(t,n,e,r,i){var o=L_(n,e),a=L_(n,e=(e+i)/2),u=L_(r,e),c=L_(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],c[0],c[1])}var B_={draw:function(t,n){var e=Math.sqrt(n/o_);t.moveTo(e,0),t.arc(0,0,e,0,u_)}},q_={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},I_=Math.sqrt(1/3),F_=2*I_,V_={draw:function(t,n){var e=Math.sqrt(n/F_),r=e*I_;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},Y_=Math.sin(o_/10)/Math.sin(7*o_/10),j_=Math.sin(u_/10)*Y_,$_=-Math.cos(u_/10)*Y_,Z_={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=j_*e,i=$_*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var a=u_*o/5,u=Math.cos(a),c=Math.sin(a);t.lineTo(c*e,-u*e),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},X_={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},G_=Math.sqrt(3),J_={draw:function(t,n){var e=-Math.sqrt(n/(3*G_));t.moveTo(0,2*e),t.lineTo(-G_*e,-e),t.lineTo(G_*e,-e),t.closePath()}},W_=-.5,K_=Math.sqrt(3)/2,Q_=1/Math.sqrt(12),tx=3*(Q_/2+1),nx={draw:function(t,n){var e=Math.sqrt(n/tx),r=e/2,i=e*Q_,o=r,a=e*Q_+e,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(W_*r-K_*i,K_*r+W_*i),t.lineTo(W_*o-K_*a,K_*o+W_*a),t.lineTo(W_*u-K_*c,K_*u+W_*c),t.lineTo(W_*r+K_*i,W_*i-K_*r),t.lineTo(W_*o+K_*a,W_*a-K_*o),t.lineTo(W_*u+K_*c,W_*c-K_*u),t.closePath()}},ex=[B_,q_,V_,X_,Z_,J_,nx];function rx(){}function ix(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function ox(t){this._context=t}function ax(t){this._context=t}function ux(t){this._context=t}function cx(t,n){this._basis=new ox(t),this._beta=n}ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ix(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ix(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},ax.prototype={areaStart:rx,areaEnd:rx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:ix(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},ux.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:ix(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},cx.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,u=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*a),this._beta*n[c]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var sx=function t(n){function e(t){return 1===n?new ox(t):new cx(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function fx(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function lx(t,n){this._context=t,this._k=(1-n)/6}lx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:fx(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:fx(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var hx=function t(n){function e(t){return new lx(t,n)}return e.tension=function(n){return t(+n)},e}(0);function dx(t,n){this._context=t,this._k=(1-n)/6}dx.prototype={areaStart:rx,areaEnd:rx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:fx(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var px=function t(n){function e(t){return new dx(t,n)}return e.tension=function(n){return t(+n)},e}(0);function vx(t,n){this._context=t,this._k=(1-n)/6}vx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fx(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var gx=function t(n){function e(t){return new vx(t,n)}return e.tension=function(n){return t(+n)},e}(0);function yx(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>i_){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>i_){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/f,a=(a*s+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function bx(t,n){this._context=t,this._alpha=n}bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:yx(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var mx=function t(n){function e(t){return n?new bx(t,n):new lx(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function _x(t,n){this._context=t,this._alpha=n}_x.prototype={areaStart:rx,areaEnd:rx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:yx(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var xx=function t(n){function e(t){return n?new _x(t,n):new dx(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function wx(t,n){this._context=t,this._alpha=n}wx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yx(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Mx=function t(n){function e(t){return n?new wx(t,n):new vx(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Cx(t){this._context=t}function kx(t){return t<0?-1:1}function Sx(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(kx(o)+kx(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function Nx(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Ax(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function Ex(t){this._context=t}function Tx(t){this._context=new Lx(t)}function Lx(t){this._context=t}function zx(t){this._context=t}function Rx(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function Px(t,n){this._context=t,this._t=n}function Dx(t,n){if((i=t.length)>1)for(var e,r,i,o=1,a=t[n[0]],u=a.length;o<i;++o)for(r=a,a=t[n[o]],e=0;e<u;++e)a[e][1]+=a[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function Hx(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function Ox(t,n){return t[n]}function Ux(t){var n=t.map(Bx);return Hx(t).sort((function(t,e){return n[t]-n[e]}))}function Bx(t){for(var n,e=-1,r=0,i=t.length,o=-1/0;++e<i;)(n=+t[e][1])>o&&(o=n,r=e);return r}function qx(t){var n=t.map(Ix);return Hx(t).sort((function(t,e){return n[t]-n[e]}))}function Ix(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function Fx(t){return function(){return t}}function Vx(t){return t[0]}function Yx(t){return t[1]}function jx(){this._=null}function $x(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Zx(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function Xx(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Gx(t){for(;t.L;)t=t.L;return t}function Jx(t,n,e,r){var i=[null,null],o=_w.push(i)-1;return i.left=t,i.right=n,e&&Kx(i,t,n,e),r&&Kx(i,n,t,r),bw[t.index].halfedges.push(o),bw[n.index].halfedges.push(o),i}function Wx(t,n,e){var r=[n,e];return r.left=t,r}function Kx(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function Qx(t,n,e,r,i){var o,a=t[0],u=t[1],c=a[0],s=a[1],f=0,l=1,h=u[0]-c,d=u[1]-s;if(o=n-c,h||!(o>0)){if(o/=h,h<0){if(o<f)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>f&&(f=o)}if(o=r-c,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>f&&(f=o)}else if(h>0){if(o<f)return;o<l&&(l=o)}if(o=e-s,d||!(o>0)){if(o/=d,d<0){if(o<f)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>f&&(f=o)}if(o=i-s,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>f&&(f=o)}else if(d>0){if(o<f)return;o<l&&(l=o)}return!(f>0||l<1)||(f>0&&(t[0]=[c+f*h,s+f*d]),l<1&&(t[1]=[c+l*h,s+l*d]),!0)}}}}}function tw(t,n,e,r,i){var o=t[1];if(o)return!0;var a,u,c=t[0],s=t.left,f=t.right,l=s[0],h=s[1],d=f[0],p=f[1],v=(l+d)/2,g=(h+p)/2;if(p===h){if(v<n||v>=r)return;if(l>d){if(c){if(c[1]>=i)return}else c=[v,e];o=[v,i]}else{if(c){if(c[1]<e)return}else c=[v,i];o=[v,e]}}else if(u=g-(a=(l-d)/(p-h))*v,a<-1||a>1)if(l>d){if(c){if(c[1]>=i)return}else c=[(e-u)/a,e];o=[(i-u)/a,i]}else{if(c){if(c[1]<e)return}else c=[(i-u)/a,i];o=[(e-u)/a,e]}else if(h<p){if(c){if(c[0]>=r)return}else c=[n,a*n+u];o=[r,a*r+u]}else{if(c){if(c[0]<n)return}else c=[r,a*r+u];o=[n,a*n+u]}return t[0]=c,t[1]=o,!0}function nw(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function ew(t,n){return n[+(n.left!==t.site)]}function rw(t,n){return n[+(n.left===t.site)]}Cx.prototype={areaStart:rx,areaEnd:rx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},Ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ax(this,this._t0,Nx(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Ax(this,Nx(this,e=Sx(this,t,n)),e);break;default:Ax(this,this._t0,e=Sx(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(Tx.prototype=Object.create(Ex.prototype)).point=function(t,n){Ex.prototype.point.call(this,n,t)},Lx.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},zx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=Rx(t),i=Rx(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},Px.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},jx.prototype={constructor:jx,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Gx(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(Zx(this,e),e=(t=e).U),e.C=!1,r.C=!0,Xx(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(Xx(this,e),e=(t=e).U),e.C=!1,r.C=!0,Zx(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?Gx(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=a,a.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,Zx(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Xx(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,Zx(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,Xx(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Zx(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,Xx(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var iw,ow=[];function aw(){$x(this),this.x=this.y=this.arc=this.site=this.cy=null}function uw(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i[0],u=i[1],c=r[0]-a,s=r[1]-u,f=o[0]-a,l=o[1]-u,h=2*(c*l-s*f);if(!(h>=-ww)){var d=c*c+s*s,p=f*f+l*l,v=(l*d-s*p)/h,g=(c*p-f*d)/h,y=ow.pop()||new aw;y.arc=t,y.site=i,y.x=v+a,y.y=(y.cy=g+u)+Math.sqrt(v*v+g*g),t.circle=y;for(var b=null,m=mw._;m;)if(y.y<m.y||y.y===m.y&&y.x<=m.x){if(!m.L){b=m.P;break}m=m.L}else{if(!m.R){b=m;break}m=m.R}mw.insert(b,y),b||(iw=y)}}}}function cw(t){var n=t.circle;n&&(n.P||(iw=n.N),mw.remove(n),ow.push(n),$x(n),t.circle=null)}var sw=[];function fw(){$x(this),this.edge=this.site=this.circle=null}function lw(t){var n=sw.pop()||new fw;return n.site=t,n}function hw(t){cw(t),yw.remove(t),sw.push(t),$x(t)}function dw(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,a=t.N,u=[t];hw(t);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<xw&&Math.abs(r-c.circle.cy)<xw;)o=c.P,u.unshift(c),hw(c),c=o;u.unshift(c),cw(c);for(var s=a;s.circle&&Math.abs(e-s.circle.x)<xw&&Math.abs(r-s.circle.cy)<xw;)a=s.N,u.push(s),hw(s),s=a;u.push(s),cw(s);var f,l=u.length;for(f=1;f<l;++f)s=u[f],c=u[f-1],Kx(s.edge,c.site,s.site,i);c=u[0],(s=u[l-1]).edge=Jx(c.site,s.site,null,i),uw(c),uw(s)}function pw(t){for(var n,e,r,i,o=t[0],a=t[1],u=yw._;u;)if((r=vw(u,a)-o)>xw)u=u.L;else{if(!((i=o-gw(u,a))>xw)){r>-xw?(n=u.P,e=u):i>-xw?(n=u,e=u.N):n=e=u;break}if(!u.R){n=u;break}u=u.R}!function(t){bw[t.index]={site:t,halfedges:[]}}(t);var c=lw(t);if(yw.insert(n,c),n||e){if(n===e)return cw(n),e=lw(n.site),yw.insert(c,e),c.edge=e.edge=Jx(n.site,c.site),uw(n),void uw(e);if(e){cw(n),cw(e);var s=n.site,f=s[0],l=s[1],h=t[0]-f,d=t[1]-l,p=e.site,v=p[0]-f,g=p[1]-l,y=2*(h*g-d*v),b=h*h+d*d,m=v*v+g*g,_=[(g*b-d*m)/y+f,(h*m-v*b)/y+l];Kx(e.edge,s,p,_),c.edge=Jx(s,t,null,_),e.edge=Jx(t,p,null,_),uw(n),uw(e)}else c.edge=Jx(n.site,c.site)}}function vw(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(e=a.site)[0],c=e[1],s=c-n;if(!s)return u;var f=u-r,l=1/o-1/s,h=f/s;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*s)-c+s/2+i-o/2)))/l+r:(r+u)/2}function gw(t,n){var e=t.N;if(e)return vw(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var yw,bw,mw,_w,xw=1e-6,ww=1e-12;function Mw(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function Cw(t,n){return n[1]-t[1]||n[0]-t[0]}function kw(t,n){var e,r,i,o=t.sort(Cw).pop();for(_w=[],bw=new Array(t.length),yw=new jx,mw=new jx;;)if(i=iw,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(pw(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;dw(i.arc)}if(function(){for(var t,n,e,r,i=0,o=bw.length;i<o;++i)if((t=bw[i])&&(r=(n=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(e=0;e<r;++e)a[e]=e,u[e]=nw(t,_w[n[e]]);for(a.sort((function(t,n){return u[n]-u[t]})),e=0;e<r;++e)u[e]=n[a[e]];for(e=0;e<r;++e)n[e]=u[e]}}(),n){var a=+n[0][0],u=+n[0][1],c=+n[1][0],s=+n[1][1];!function(t,n,e,r){for(var i,o=_w.length;o--;)tw(i=_w[o],t,n,e,r)&&Qx(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>xw||Math.abs(i[0][1]-i[1][1])>xw)||delete _w[o]}(a,u,c,s),function(t,n,e,r){var i,o,a,u,c,s,f,l,h,d,p,v,g=bw.length,y=!0;for(i=0;i<g;++i)if(o=bw[i]){for(a=o.site,u=(c=o.halfedges).length;u--;)_w[c[u]]||c.splice(u,1);for(u=0,s=c.length;u<s;)p=(d=rw(o,_w[c[u]]))[0],v=d[1],l=(f=ew(o,_w[c[++u%s]]))[0],h=f[1],(Math.abs(p-l)>xw||Math.abs(v-h)>xw)&&(c.splice(u,0,_w.push(Wx(a,d,Math.abs(p-t)<xw&&r-v>xw?[t,Math.abs(l-t)<xw?h:r]:Math.abs(v-r)<xw&&e-p>xw?[Math.abs(h-r)<xw?l:e,r]:Math.abs(p-e)<xw&&v-n>xw?[e,Math.abs(l-e)<xw?h:n]:Math.abs(v-n)<xw&&p-t>xw?[Math.abs(h-n)<xw?l:t,n]:null))-1),++s);s&&(y=!1)}if(y){var b,m,_,x=1/0;for(i=0,y=null;i<g;++i)(o=bw[i])&&(_=(b=(a=o.site)[0]-t)*b+(m=a[1]-n)*m)<x&&(x=_,y=o);if(y){var w=[t,n],M=[t,r],C=[e,r],k=[e,n];y.halfedges.push(_w.push(Wx(a=y.site,w,M))-1,_w.push(Wx(a,M,C))-1,_w.push(Wx(a,C,k))-1,_w.push(Wx(a,k,w))-1)}}for(i=0;i<g;++i)(o=bw[i])&&(o.halfedges.length||delete bw[i])}(a,u,c,s)}this.edges=_w,this.cells=bw,yw=mw=_w=bw=null}function Sw(t){return function(){return t}}function Nw(t,n,e){this.target=t,this.type=n,this.transform=e}function Aw(t,n,e){this.k=t,this.x=n,this.y=e}kw.prototype={constructor:kw,polygons:function(){var t=this.edges;return this.cells.map((function(n){var e=n.halfedges.map((function(e){return ew(n,t[e])}));return e.data=n.site.data,e}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(e,r){if(o=(i=e.halfedges).length)for(var i,o,a,u=e.site,c=-1,s=n[i[o-1]],f=s.left===u?s.right:s.left;++c<o;)a=f,f=(s=n[i[c]]).left===u?s.right:s.left,a&&f&&r<a.index&&r<f.index&&Mw(u,a,f)<0&&t.push([u.data,a.data,f.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,e){for(var r,i,o=this,a=o._found||0,u=o.cells.length;!(i=o.cells[a]);)if(++a>=u)return null;var c=t-i.site[0],s=n-i.site[1],f=c*c+s*s;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(e){var r=o.edges[e],u=r.left;if(u!==i.site&&u||(u=r.right)){var c=t-u[0],s=n-u[1],l=c*c+s*s;l<f&&(f=l,a=u.index)}}))}while(null!==a);return o._found=r,null==e||f<=e*e?i.site:null}},Aw.prototype={constructor:Aw,scale:function(t){return 1===t?this:new Aw(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Aw(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ew=new Aw(1,0,0);function Tw(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Ew;return t.__zoom}function Lw(){Te.stopImmediatePropagation()}function zw(){Te.preventDefault(),Te.stopImmediatePropagation()}function Rw(){return!Te.ctrlKey&&!Te.button}function Pw(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Dw(){return this.__zoom||Ew}function Hw(){return-Te.deltaY*(1===Te.deltaMode?.05:Te.deltaMode?1:.002)}function Ow(){return navigator.maxTouchPoints||"ontouchstart"in this}function Uw(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}Tw.prototype=Aw.prototype;var Bw=Object.freeze({__proto__:null,version:"5.16.0",bisect:jt,bisectRight:jt,bisectLeft:$t,ascending:Ft,bisector:Vt,cross:function(t,n,e){var r,i,o,a,u=t.length,c=n.length,s=new Array(u*c);for(null==e&&(e=Zt),r=o=0;r<u;++r)for(a=t[r],i=0;i<c;++i,++o)s[o]=e(a,n[i]);return s},descending:function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},deviation:Jt,extent:Wt,histogram:function(){var t=en,n=Wt,e=ln;function r(r){var i,o,a=r.length,u=new Array(a);for(i=0;i<a;++i)u[i]=t(r[i],i,r);var c=n(u),s=c[0],f=c[1],l=e(u,s,f);Array.isArray(l)||(l=fn(s,f,l),l=rn(Math.ceil(s/l)*l,f,l));for(var h=l.length;l[0]<=s;)l.shift(),--h;for(;l[h-1]>f;)l.pop(),--h;var d,p=new Array(h+1);for(i=0;i<=h;++i)(d=p[i]=[]).x0=i>0?l[i-1]:s,d.x1=i<h?l[i]:f;for(i=0;i<a;++i)s<=(o=u[i])&&o<=f&&p[jt(l,o,0,h)].push(r[i]);return p}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:nn(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:nn([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?nn(Qt.call(t)):nn(t),r):e},r},thresholdFreedmanDiaconis:function(t,n,e){return t=tn.call(t,Xt).sort(Ft),Math.ceil((e-n)/(2*(hn(t,.75)-hn(t,.25))*Math.pow(t.length,-1/3)))},thresholdScott:function(t,n,e){return Math.ceil((e-n)/(3.5*Jt(t)*Math.pow(t.length,-1/3)))},thresholdSturges:ln,max:dn,mean:function(t,n){var e,r=t.length,i=r,o=-1,a=0;if(null==n)for(;++o<r;)isNaN(e=Xt(t[o]))?--i:a+=e;else for(;++o<r;)isNaN(e=Xt(n(t[o],o,t)))?--i:a+=e;if(i)return a/i},median:function(t,n){var e,r=t.length,i=-1,o=[];if(null==n)for(;++i<r;)isNaN(e=Xt(t[i]))||o.push(e);else for(;++i<r;)isNaN(e=Xt(n(t[i],i,t)))||o.push(e);return hn(o.sort(Ft),.5)},merge:pn,min:vn,pairs:function(t,n){null==n&&(n=Zt);for(var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);e<r;)o[e]=n(i,i=t[++e]);return o},permute:function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},quantile:hn,range:rn,scan:function(t,n){if(e=t.length){var e,r,i=0,o=0,a=t[o];for(null==n&&(n=Ft);++i<e;)(n(r=t[i],a)<0||0!==n(a,a))&&(a=r,o=i);return 0===n(a,a)?o:void 0}},shuffle:function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},sum:function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},ticks:cn,tickIncrement:sn,tickStep:fn,transpose:gn,variance:Gt,zip:function(){return gn(arguments)},axisTop:function(t){return Sn(1,t)},axisRight:function(t){return Sn(2,t)},axisBottom:function(t){return Sn(3,t)},axisLeft:function(t){return Sn(4,t)},brush:function(){return ou(Za)},brushX:function(){return ou(ja)},brushY:function(){return ou($a)},brushSelection:function(t){var n=t.__brush;return n?n.dim.output(n.selection):null},chord:function(){var t=0,n=null,e=null,r=null;function i(i){var o,a,u,c,s,f,l=i.length,h=[],d=rn(l),p=[],v=[],g=v.groups=new Array(l),y=new Array(l*l);for(o=0,s=-1;++s<l;){for(a=0,f=-1;++f<l;)a+=i[s][f];h.push(a),p.push(rn(l)),o+=a}for(n&&d.sort((function(t,e){return n(h[t],h[e])})),e&&p.forEach((function(t,n){t.sort((function(t,r){return e(i[n][t],i[n][r])}))})),c=(o=lu(0,fu-t*l)/o)?t:fu/l,a=0,s=-1;++s<l;){for(u=a,f=-1;++f<l;){var b=d[s],m=p[b][f],_=i[b][m],x=a,w=a+=_*o;y[m*l+b]={index:b,subindex:m,startAngle:x,endAngle:w,value:_}}g[b]={index:b,startAngle:u,endAngle:a,value:h[b]},a+=c}for(s=-1;++s<l;)for(f=s-1;++f<l;){var M=y[f*l+s],C=y[s*l+f];(M.value||C.value)&&v.push(M.value<C.value?{source:C,target:M}:{source:M,target:C})}return r?v.sort(r):v}return i.padAngle=function(n){return arguments.length?(t=lu(0,n),i):t},i.sortGroups=function(t){return arguments.length?(n=t,i):n},i.sortSubgroups=function(t){return arguments.length?(e=t,i):e},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=hu(t))._=t,i):r&&r._},i},ribbon:function(){var t=xu,n=wu,e=Mu,r=Cu,i=ku,o=null;function a(){var a,u=du.call(arguments),c=t.apply(this,u),s=n.apply(this,u),f=+e.apply(this,(u[0]=c,u)),l=r.apply(this,u)-su,h=i.apply(this,u)-su,d=f*au(l),p=f*uu(l),v=+e.apply(this,(u[0]=s,u)),g=r.apply(this,u)-su,y=i.apply(this,u)-su;if(o||(o=a=_u()),o.moveTo(d,p),o.arc(0,0,f,l,h),l===g&&h===y||(o.quadraticCurveTo(0,0,v*au(g),v*uu(g)),o.arc(0,0,v,g,y)),o.quadraticCurveTo(0,0,d,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(e="function"==typeof t?t:pu(+t),a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:pu(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:pu(+t),a):i},a.source=function(n){return arguments.length?(t=n,a):t},a.target=function(t){return arguments.length?(n=t,a):n},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a},nest:function(){var t,n,e,r=[],i=[];function o(e,i,a,u){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var c,s,f,l=-1,h=e.length,d=r[i++],p=Au(),v=a();++l<h;)(f=p.get(c=d(s=e[l])+""))?f.push(s):p.set(c,[s]);return p.each((function(t,n){u(v,n,o(t,i,a,u))})),v}function a(t,e){if(++e>r.length)return t;var o,u=i[e-1];return null!=n&&e>=r.length?o=t.entries():(o=[],t.each((function(t,n){o.push({key:n,values:a(t,e)})}))),null!=u?o.sort((function(t,n){return u(t.key,n.key)})):o}return e={object:function(t){return o(t,0,Eu,Tu)},map:function(t){return o(t,0,Lu,zu)},entries:function(t){return a(o(t,0,Lu,zu),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}},set:Du,map:Au,keys:function(t){var n=[];for(var e in t)n.push(e);return n},values:function(t){var n=[];for(var e in t)n.push(t[e]);return n},entries:function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},color:kr,rgb:Er,hsl:Hr,lab:Zr,hcl:ti,lch:function(t,n,e,r){return 1===arguments.length?Qr(t):new ni(e,n,t,null==r?1:r)},gray:function(t,n){return new Xr(t,0,0,null==n?1:n)},cubehelix:hi,contours:Yu,contourDensity:function(){var t=Zu,n=Xu,e=Gu,r=960,i=500,o=20,a=2,u=3*o,c=r+2*u>>a,s=i+2*u>>a,f=Uu(20);function l(r){var i=new Float32Array(c*s),l=new Float32Array(c*s);r.forEach((function(r,o,f){var l=+t(r,o,f)+u>>a,h=+n(r,o,f)+u>>a,d=+e(r,o,f);l>=0&&l<c&&h>=0&&h<s&&(i[l+h*c]+=d)})),ju({width:c,height:s,data:i},{width:c,height:s,data:l},o>>a),$u({width:c,height:s,data:l},{width:c,height:s,data:i},o>>a),ju({width:c,height:s,data:i},{width:c,height:s,data:l},o>>a),$u({width:c,height:s,data:l},{width:c,height:s,data:i},o>>a),ju({width:c,height:s,data:i},{width:c,height:s,data:l},o>>a),$u({width:c,height:s,data:l},{width:c,height:s,data:i},o>>a);var d=f(i);if(!Array.isArray(d)){var p=dn(i);d=fn(0,p,d),(d=rn(0,Math.floor(p/d)*d,d)).shift()}return Yu().thresholds(d).size([c,s])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(v)}function v(t){t[0]=t[0]*Math.pow(2,a)-u,t[1]=t[1]*Math.pow(2,a)-u}function g(){return c=r+2*(u=3*o)>>a,s=i+2*u>>a,l}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:Uu(+n),l):t},l.y=function(t){return arguments.length?(n="function"==typeof t?t:Uu(+t),l):n},l.weight=function(t){return arguments.length?(e="function"==typeof t?t:Uu(+t),l):e},l.size=function(t){if(!arguments.length)return[r,i];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(n>=0||n>=0))throw new Error("invalid size");return r=n,i=e,g()},l.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),g()},l.thresholds=function(t){return arguments.length?(f="function"==typeof t?t:Array.isArray(t)?Uu(Hu.call(t)):Uu(t),l):f},l.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),g()},l},dispatch:An,drag:function(){var t,n,e,r,i=rr,o=ir,a=or,u=ar,c={},s=An("start","drag","end"),f=0,l=0;function h(t){t.on("mousedown.drag",d).filter(u).on("touchstart.drag",g).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var a=m("mouse",o.apply(this,arguments),Ge,this,arguments);a&&(Ve(Te.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),Qe(Te.view),We(),e=!1,t=Te.clientX,n=Te.clientY,a("start"))}}function p(){if(Ke(),!e){var r=Te.clientX-t,i=Te.clientY-n;e=r*r+i*i>l}c.mouse("drag")}function v(){Ve(Te.view).on("mousemove.drag mouseup.drag",null),tr(Te.view,e),Ke(),c.mouse("end")}function g(){if(i.apply(this,arguments)){var t,n,e=Te.changedTouches,r=o.apply(this,arguments),a=e.length;for(t=0;t<a;++t)(n=m(e[t].identifier,r,Je,this,arguments))&&(We(),n("start"))}}function y(){var t,n,e=Te.changedTouches,r=e.length;for(t=0;t<r;++t)(n=c[e[t].identifier])&&(Ke(),n("drag"))}function b(){var t,n,e=Te.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=c[e[t].identifier])&&(We(),n("end"))}function m(t,n,e,r,i){var o,u,l,d=e(n,t),p=s.copy();if(He(new er(h,"beforestart",o,t,f,d[0],d[1],0,0,p),(function(){return null!=(Te.subject=o=a.apply(r,i))&&(u=o.x-d[0]||0,l=o.y-d[1]||0,!0)})))return function a(s){var v,g=d;switch(s){case"start":c[t]=a,v=f++;break;case"end":delete c[t],--f;case"drag":d=e(n,t),v=f}He(new er(h,s,o,t,v,d[0]+u,d[1]+l,d[0]-g[0],d[1]-g[1],p),p.apply,p,[s,r,i])}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:nr(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:nr(t),h):o},h.subject=function(t){return arguments.length?(a="function"==typeof t?t:nr(t),h):a},h.touchable=function(t){return arguments.length?(u="function"==typeof t?t:nr(!!t),h):u},h.on=function(){var t=s.on.apply(s,arguments);return t===s?h:t},h.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,h):Math.sqrt(l)},h},dragDisable:Qe,dragEnable:tr,dsvFormat:ec,csvParse:ic,csvParseRows:oc,csvFormat:ac,csvFormatBody:uc,csvFormatRows:cc,csvFormatRow:sc,csvFormatValue:fc,tsvParse:hc,tsvParseRows:dc,tsvFormat:pc,tsvFormatBody:vc,tsvFormatRows:gc,tsvFormatRow:yc,tsvFormatValue:bc,autoType:function(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;mc&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t},easeLinear:function(t){return+t},easeQuad:sa,easeQuadIn:function(t){return t*t},easeQuadOut:function(t){return t*(2-t)},easeQuadInOut:sa,easeCubic:fa,easeCubicIn:function(t){return t*t*t},easeCubicOut:function(t){return--t*t*t+1},easeCubicInOut:fa,easePoly:da,easePolyIn:la,easePolyOut:ha,easePolyInOut:da,easeSin:ga,easeSinIn:function(t){return 1==+t?1:1-Math.cos(t*va)},easeSinOut:function(t){return Math.sin(t*va)},easeSinInOut:ga,easeExp:ba,easeExpIn:function(t){return ya(1-+t)},easeExpOut:function(t){return 1-ya(t)},easeExpInOut:ba,easeCircle:ma,easeCircleIn:function(t){return 1-Math.sqrt(1-t*t)},easeCircleOut:function(t){return Math.sqrt(1- --t*t)},easeCircleInOut:ma,easeBounce:wa,easeBounceIn:function(t){return 1-wa(1-t)},easeBounceOut:wa,easeBounceInOut:function(t){return((t*=2)<=1?1-wa(1-t):wa(t-1)+1)/2},easeBack:Sa,easeBackIn:Ca,easeBackOut:ka,easeBackInOut:Sa,easeElastic:Ea,easeElasticIn:Aa,easeElasticOut:Ea,easeElasticInOut:Ta,blob:function(t,n){return fetch(t,n).then(_c)},buffer:function(t,n){return fetch(t,n).then(xc)},dsv:function(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=ec(t);return Mc(n,e).then((function(t){return i.parse(t,r)}))},csv:kc,tsv:Sc,image:function(t,n){return new Promise((function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t}))},json:function(t,n){return fetch(t,n).then(Nc)},text:Mc,xml:Ec,html:Tc,svg:Lc,forceCenter:function(t,n){var e;function r(){var r,i,o=e.length,a=0,u=0;for(r=0;r<o;++r)a+=(i=e[r]).x,u+=i.y;for(a=a/o-t,u=u/o-n,r=0;r<o;++r)(i=e[r]).x-=a,i.y-=u}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r},forceCollide:function(t){var n,e,r=1,i=1;function o(){for(var t,o,u,c,s,f,l,h=n.length,d=0;d<i;++d)for(o=Uc(n,Fc,Vc).visitAfter(a),t=0;t<h;++t)u=n[t],f=e[u.index],l=f*f,c=u.x+u.vx,s=u.y+u.vy,o.visit(p);function p(t,n,e,i,o){var a=t.data,h=t.r,d=f+h;if(!a)return n>c+d||i<c-d||e>s+d||o<s-d;if(a.index>u.index){var p=c-a.x-a.vx,v=s-a.y-a.vy,g=p*p+v*v;g<d*d&&(0===p&&(g+=(p=Rc())*p),0===v&&(g+=(v=Rc())*v),g=(d-(g=Math.sqrt(g)))/g*r,u.vx+=(p*=g)*(d=(h*=h)/(l+h)),u.vy+=(v*=g)*d,a.vx-=p*(d=1-d),a.vy-=v*d)}}}function a(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function u(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=zc(null==t?1:+t)),o.initialize=function(t){n=t,u()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(n){return arguments.length?(t="function"==typeof n?n:zc(+n),u(),o):t},o},forceLink:function(t){var n,e,r,i,o,a=Yc,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=zc(30),s=1;function f(r){for(var i=0,a=t.length;i<s;++i)for(var u,c,f,l,h,d,p,v=0;v<a;++v)c=(u=t[v]).source,l=(f=u.target).x+f.vx-c.x-c.vx||Rc(),h=f.y+f.vy-c.y-c.vy||Rc(),l*=d=((d=Math.sqrt(l*l+h*h))-e[v])/d*r*n[v],h*=d,f.vx-=l*(p=o[v]),f.vy-=h*p,c.vx+=l*(p=1-p),c.vy+=h*p}function l(){if(r){var u,c,s=r.length,f=t.length,l=Au(r,a);for(u=0,i=new Array(s);u<f;++u)(c=t[u]).index=u,"object"!=typeof c.source&&(c.source=jc(l,c.source)),"object"!=typeof c.target&&(c.target=jc(l,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(u=0,o=new Array(f);u<f;++u)c=t[u],o[u]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);n=new Array(f),h(),e=new Array(f),d()}}function h(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+c(t[n],n,t)}return null==t&&(t=[]),f.initialize=function(t){r=t,l()},f.links=function(n){return arguments.length?(t=n,l(),f):t},f.id=function(t){return arguments.length?(a=t,f):a},f.iterations=function(t){return arguments.length?(s=+t,f):s},f.strength=function(t){return arguments.length?(u="function"==typeof t?t:zc(+t),h(),f):u},f.distance=function(t){return arguments.length?(c="function"==typeof t?t:zc(+t),d(),f):c},f},forceManyBody:function(){var t,n,e,r,i=zc(-30),o=1,a=1/0,u=.81;function c(r){var i,o=t.length,a=Uc(t,$c,Zc).visitAfter(f);for(e=r,i=0;i<o;++i)n=t[i],a.visit(l)}function s(){if(t){var n,e,o=t.length;for(r=new Array(o),n=0;n<o;++n)e=t[n],r[e.index]=+i(e,n,t)}}function f(t){var n,e,i,o,a,u=0,c=0;if(t.length){for(i=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(u+=n.value,c+=e,i+=e*n.x,o+=e*n.y);t.x=i/c,t.y=o/c}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=r[n.data.index]}while(n=n.next)}t.value=u}function l(t,i,c,s){if(!t.value)return!0;var f=t.x-n.x,l=t.y-n.y,h=s-i,d=f*f+l*l;if(h*h/u<d)return d<a&&(0===f&&(d+=(f=Rc())*f),0===l&&(d+=(l=Rc())*l),d<o&&(d=Math.sqrt(o*d)),n.vx+=f*t.value*e/d,n.vy+=l*t.value*e/d),!0;if(!(t.length||d>=a)){(t.data!==n||t.next)&&(0===f&&(d+=(f=Rc())*f),0===l&&(d+=(l=Rc())*l),d<o&&(d=Math.sqrt(o*d)));do{t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=f*h,n.vy+=l*h)}while(t=t.next)}}return c.initialize=function(n){t=n,s()},c.strength=function(t){return arguments.length?(i="function"==typeof t?t:zc(+t),s(),c):i},c.distanceMin=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c},forceRadial:function(t,n,e){var r,i,o,a=zc(.1);function u(t){for(var a=0,u=r.length;a<u;++a){var c=r[a],s=c.x-n||1e-6,f=c.y-e||1e-6,l=Math.sqrt(s*s+f*f),h=(o[a]-l)*i[a]*t/l;c.vx+=s*h,c.vy+=f*h}}function c(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+a(r[n],n,r)}}return"function"!=typeof t&&(t=zc(+t)),null==n&&(n=0),null==e&&(e=0),u.initialize=function(t){r=t,c()},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:zc(+t),c(),u):a},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:zc(+n),c(),u):t},u.x=function(t){return arguments.length?(n=+t,u):n},u.y=function(t){return arguments.length?(e=+t,u):e},u},forceSimulation:function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=Au(),c=mo(f),s=An("tick","end");function f(){l(),s.call("tick",n),e<r&&(c.stop(),s.call("end",n))}function l(r){var c,s,f=t.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(e+=(o-e)*i,u.each((function(t){t(e)})),c=0;c<f;++c)null==(s=t[c]).fx?s.x+=s.vx*=a:(s.x=s.fx,s.vx=0),null==s.fy?s.y+=s.vy*=a:(s.y=s.fy,s.vy=0);return n}function h(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(e),o=e*Xc;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:l,restart:function(){return c.restart(f),n},stop:function(){return c.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),u.each(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},force:function(t,e){return arguments.length>1?(null==e?u.remove(t):u.set(t,d(e)),n):u.get(t)},find:function(n,e,r){var i,o,a,u,c,s=0,f=t.length;for(null==r?r=1/0:r*=r,s=0;s<f;++s)(a=(i=n-(u=t[s]).x)*i+(o=e-u.y)*o)<r&&(c=u,r=a);return c},on:function(t,e){return arguments.length>1?(s.on(t,e),n):s.on(t)}}},forceX:function(t){var n,e,r,i=zc(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=zc(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:zc(+t),a(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:zc(+n),a(),o):t},o},forceY:function(t){var n,e,r,i=zc(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=zc(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:zc(+t),a(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:zc(+n),a(),o):t},o},formatDefaultLocale:fs,get format(){return os},get formatPrefix(){return as},formatLocale:ss,formatSpecifier:Qc,FormatSpecifier:ts,precisionFixed:ls,precisionPrefix:hs,precisionRound:ds,geoArea:function(t){return tf.reset(),Zs(t,nf),2*tf},geoBounds:function(t){var n,e,r,i,o,a,u;if(yf=gf=-(pf=vf=1/0),wf=[],Zs(t,If),e=wf.length){for(wf.sort(Jf),n=1,o=[r=wf[0]];n<e;++n)Wf(r,(i=wf[n])[0])||Wf(r,i[1])?(Gf(r[0],i[1])>Gf(r[0],r[1])&&(r[1]=i[1]),Gf(i[0],r[1])>Gf(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=Gf(r[1],i[0]))>a&&(a=u,pf=i[0],gf=r[1])}return wf=Mf=null,pf===1/0||vf===1/0?[[NaN,NaN],[NaN,NaN]]:[[pf,vf],[gf,yf]]},geoCentroid:function(t){Cf=kf=Sf=Nf=Af=Ef=Tf=Lf=zf=Rf=Pf=0,Zs(t,Kf);var n=zf,e=Rf,r=Pf,i=n*n+e*e+r*r;return i<ms&&(n=Ef,e=Tf,r=Lf,kf<bs&&(n=Sf,e=Nf,r=Af),(i=n*n+e*e+r*r)<ms)?[NaN,NaN]:[As(e,n)*Cs,Bs(r/Hs(i))*Cs]},geoCircle:function(){var t,n,e=sl([0,0]),r=sl(90),i=sl(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=Cs,e[1]*=Cs}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*ks,c=i.apply(this,arguments)*ks;return t=[],n=hl(-a[0]*ks,-a[1]*ks,0).invert,yl(o,u,c,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}return a.center=function(t){return arguments.length?(e="function"==typeof t?t:sl([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:sl(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:sl(+t),a):i},a},geoClipAntimeridian:Tl,geoClipCircle:Ll,geoClipExtent:function(){var t,n,e,r=0,i=0,o=960,a=500;return e={stream:function(e){return t&&n===e?t:t=Pl(r,i,o,a)(n=e)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=n=null,e):[[r,i],[o,a]]}}},geoClipRectangle:Pl,geoContains:function(t,n){return(t&&Zl.hasOwnProperty(t.type)?Zl[t.type]:Gl)(t,n)},geoDistance:$l,geoGraticule:rh,geoGraticule10:function(){return rh()()},geoInterpolate:function(t,n){var e=t[0]*ks,r=t[1]*ks,i=n[0]*ks,o=n[1]*ks,a=Es(r),u=Ps(r),c=Es(o),s=Ps(o),f=a*Es(e),l=a*Ps(e),h=c*Es(i),d=c*Ps(i),p=2*Bs(Hs(qs(o-r)+a*c*qs(i-e))),v=Ps(p),g=p?function(t){var n=Ps(t*=p)/v,e=Ps(p-t)/v,r=e*f+n*h,i=e*l+n*d,o=e*u+n*s;return[As(i,r)*Cs,As(o,Hs(r*r+i*i))*Cs]}:function(){return[e*Cs,r*Cs]};return g.distance=p,g},geoLength:Vl,geoPath:function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Zs(t,e(r))),r.result()}return o.area=function(t){return Zs(t,e(lh)),lh.result()},o.measure=function(t){return Zs(t,e(Wh)),Wh.result()},o.bounds=function(t){return Zs(t,e(_h)),_h.result()},o.centroid=function(t){return Zs(t,e(Ph)),Ph.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,ih):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new td):new Yh(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)},geoAlbers:md,geoAlbersUsa:function(){var t,n,e,r,i,o,a=md(),u=bd().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=bd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,n){o=[t,n]}};function f(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function l(){return t=n=null,f}return f.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:a).invert(t)},f.stream=function(e){return t&&n===e?t:t=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([a.stream(n=e),u.stream(e),c.stream(e)])},f.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),c.precision(t),l()):a.precision()},f.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),c.scale(t),f.translate(a.translate())):a.scale()},f.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],f=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,f-.238*n],[o+.455*n,f+.238*n]]).stream(s),r=u.translate([o-.307*n,f+.201*n]).clipExtent([[o-.425*n+bs,f+.12*n+bs],[o-.214*n-bs,f+.234*n-bs]]).stream(s),i=c.translate([o-.205*n,f+.212*n]).clipExtent([[o-.214*n+bs,f+.166*n+bs],[o-.115*n-bs,f+.234*n-bs]]).stream(s),l()},f.fitExtent=function(t,n){return od(f,t,n)},f.fitSize=function(t,n){return ad(f,t,n)},f.fitWidth=function(t,n){return ud(f,t,n)},f.fitHeight=function(t,n){return cd(f,t,n)},f.scale(1070)},geoAzimuthalEqualArea:function(){return pd(wd).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:wd,geoAzimuthalEquidistant:function(){return pd(Md).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:Md,geoConicConformal:function(){return gd(Nd).scale(109.5).parallels([30,30])},geoConicConformalRaw:Nd,geoConicEqualArea:bd,geoConicEqualAreaRaw:yd,geoConicEquidistant:function(){return gd(Ed).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:Ed,geoEqualEarth:function(){return pd(Dd).scale(177.158)},geoEqualEarthRaw:Dd,geoEquirectangular:function(){return pd(Ad).scale(152.63)},geoEquirectangularRaw:Ad,geoGnomonic:function(){return pd(Hd).scale(144.049).clipAngle(60)},geoGnomonicRaw:Hd,geoIdentity:function(){var t,n,e,r,i,o,a,u=1,c=0,s=0,f=1,l=1,h=0,d=null,p=1,v=1,g=ed({point:function(t,n){var e=m([t,n]);this.stream.point(e[0],e[1])}}),y=ih;function b(){return p=u*f,v=u*l,o=a=null,m}function m(e){var r=e[0]*p,i=e[1]*v;if(h){var o=i*t-r*n;r=r*t+i*n,i=o}return[r+c,i+s]}return m.invert=function(e){var r=e[0]-c,i=e[1]-s;if(h){var o=i*t+r*n;r=r*t-i*n,i=o}return[r/p,i/v]},m.stream=function(t){return o&&a===t?o:o=g(y(a=t))},m.postclip=function(t){return arguments.length?(y=t,d=e=r=i=null,b()):y},m.clipExtent=function(t){return arguments.length?(y=null==t?(d=e=r=i=null,ih):Pl(d=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),b()):null==d?null:[[d,e],[r,i]]},m.scale=function(t){return arguments.length?(u=+t,b()):u},m.translate=function(t){return arguments.length?(c=+t[0],s=+t[1],b()):[c,s]},m.angle=function(e){return arguments.length?(n=Ps(h=e%360*ks),t=Es(h),b()):h*Cs},m.reflectX=function(t){return arguments.length?(f=t?-1:1,b()):f<0},m.reflectY=function(t){return arguments.length?(l=t?-1:1,b()):l<0},m.fitExtent=function(t,n){return od(m,t,n)},m.fitSize=function(t,n){return ad(m,t,n)},m.fitWidth=function(t,n){return ud(m,t,n)},m.fitHeight=function(t,n){return cd(m,t,n)},m},geoProjection:pd,geoProjectionMutator:vd,geoMercator:function(){return kd(Cd).scale(961/Ms)},geoMercatorRaw:Cd,geoNaturalEarth1:function(){return pd(Od).scale(175.295)},geoNaturalEarth1Raw:Od,geoOrthographic:function(){return pd(Ud).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:Ud,geoStereographic:function(){return pd(Bd).scale(250).clipAngle(142)},geoStereographicRaw:Bd,geoTransverseMercator:function(){var t=kd(qd),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:qd,geoRotation:gl,geoStream:Zs,geoTransform:function(t){return{stream:ed(t)}},cluster:function(){var t=Id,n=1,e=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(n){var e=n.children;e?(n.x=function(t){return t.reduce(Fd,0)/t.length}(e),n.y=function(t){return 1+t.reduce(Vd,0)}(e)):(n.x=o?a+=t(n,o):0,n.y=0,o=n)}));var u=function(t){for(var n;n=t.children;)t=n[0];return t}(i),c=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),s=u.x-t(u,c)/2,f=c.x+t(c,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-s)/(f-s)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},hierarchy:jd,pack:function(){var t=null,n=1,e=1,r=hp;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(vp(t)).eachAfter(gp(r,.5)).eachBefore(yp(1)):i.eachBefore(vp(pp)).eachAfter(gp(hp,1)).eachAfter(gp(r,i.r/Math.min(n,e))).eachBefore(yp(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=fp(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:dp(+t),i):r},i},packSiblings:function(t){return sp(t),t},packEnclose:Wd,partition:function(){var t=1,n=1,e=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(function(t,n){return function(r){r.children&&mp(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,o=r.y0,a=r.x1-e,u=r.y1-e;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(n,o)),r&&i.eachBefore(bp),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},stratify:function(){var t=wp,n=Mp;function e(e){var r,i,o,a,u,c,s,f=e.length,l=new Array(f),h={};for(i=0;i<f;++i)r=e[i],u=l[i]=new Gd(r),null!=(c=t(r,i,e))&&(c+="")&&(h[s="$"+(u.id=c)]=s in h?xp:u);for(i=0;i<f;++i)if(u=l[i],null!=(c=n(e[i],i,e))&&(c+="")){if(!(a=h["$"+c]))throw new Error("missing: "+c);if(a===xp)throw new Error("ambiguous: "+c);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=_p,o.eachBefore((function(t){t.depth=t.parent.depth+1,--f})).eachBefore(Xd),o.parent=null,f>0)throw new Error("cycle");return o}return e.id=function(n){return arguments.length?(t=lp(n),e):t},e.parentId=function(t){return arguments.length?(n=lp(t),e):n},e},tree:function(){var t=Cp,n=1,e=1,r=null;function i(i){var c=function(t){for(var n,e,r,i,o,a=new Ep(t,0),u=[a];n=u.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(e=n.children[i]=new Ep(r[i],i)),e.parent=n;return(a.parent=new Ep(null,0)).children=[a],a}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)i.eachBefore(u);else{var s=i,f=i,l=i;i.eachBefore((function(t){t.x<s.x&&(s=t),t.x>f.x&&(f=t),t.depth>l.depth&&(l=t)}));var h=s===f?1:t(s,f)/2,d=h-s.x,p=n/(f.x+h+d),v=e/(l.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*v}))}return i}function o(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,o=n,a=n,u=e,c=o.parent.children[0],s=o.m,f=a.m,l=u.m,h=c.m;u=Sp(u),o=kp(o),u&&o;)c=kp(c),(a=Sp(a)).a=n,(i=u.z+l-o.z-s+t(u._,o._))>0&&(Np(Ap(u,n,r),n,i),s+=i,f+=i),l+=u.m,s+=o.m,h+=c.m,f+=a.m;u&&!Sp(a)&&(a.t=u,a.m+=l-f),o&&!kp(c)&&(c.t=o,c.m+=s-h,r=n)}return r}(n,i,n.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},treemap:function(){var t=Rp,n=!1,e=1,r=1,i=[0],o=hp,a=hp,u=hp,c=hp,s=hp;function f(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(l),i=[0],n&&t.eachBefore(bp),t}function l(n){var e=i[n.depth],r=n.x0+e,f=n.y0+e,l=n.x1-e,h=n.y1-e;l<r&&(r=l=(r+l)/2),h<f&&(f=h=(f+h)/2),n.x0=r,n.y0=f,n.x1=l,n.y1=h,n.children&&(e=i[n.depth+1]=o(n)/2,r+=s(n)-e,f+=a(n)-e,(l-=u(n)-e)<r&&(r=l=(r+l)/2),(h-=c(n)-e)<f&&(f=h=(f+h)/2),t(n,r,f,l,h))}return f.round=function(t){return arguments.length?(n=!!t,f):n},f.size=function(t){return arguments.length?(e=+t[0],r=+t[1],f):[e,r]},f.tile=function(n){return arguments.length?(t=lp(n),f):t},f.padding=function(t){return arguments.length?f.paddingInner(t).paddingOuter(t):f.paddingInner()},f.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:dp(+t),f):o},f.paddingOuter=function(t){return arguments.length?f.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):f.paddingTop()},f.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:dp(+t),f):a},f.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:dp(+t),f):u},f.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:dp(+t),f):c},f.paddingLeft=function(t){return arguments.length?(s="function"==typeof t?t:dp(+t),f):s},f},treemapBinary:function(t,n,e,r,i){var o,a,u=t.children,c=u.length,s=new Array(c+1);for(s[0]=a=o=0;o<c;++o)s[o+1]=a+=u[o].value;!function t(n,e,r,i,o,a,c){if(n>=e-1){var f=u[n];return f.x0=i,f.y0=o,f.x1=a,void(f.y1=c)}var l=s[n],h=r/2+l,d=n+1,p=e-1;for(;d<p;){var v=d+p>>>1;s[v]<h?d=v+1:p=v}h-s[d-1]<s[d]-h&&n+1<d&&--d;var g=s[d]-l,y=r-g;if(a-i>c-o){var b=(i*y+a*g)/r;t(n,d,g,i,o,b,c),t(d,e,y,b,o,a,c)}else{var m=(o*y+c*g)/r;t(n,d,g,i,o,a,m),t(d,e,y,i,m,a,c)}}(0,c,t.value,n,e,r,i)},treemapDice:mp,treemapSlice:Tp,treemapSliceDice:function(t,n,e,r,i){(1&t.depth?Tp:mp)(t,n,e,r,i)},treemapSquarify:Rp,treemapResquarify:Pp,interpolate:Di,interpolateArray:function(t,n){return(Ni(n)?Si:Ai)(t,n)},interpolateBasis:vi,interpolateBasisClosed:gi,interpolateDate:Ei,interpolateDiscrete:function(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}},interpolateHue:function(t,n){var e=mi(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}},interpolateNumber:Ti,interpolateNumberArray:Si,interpolateObject:Li,interpolateRound:Hi,interpolateString:Pi,interpolateTransformCss:ji,interpolateTransformSvg:$i,interpolateZoom:Gi,interpolateRgb:wi,interpolateRgbBasis:Ci,interpolateRgbBasisClosed:ki,interpolateHsl:Wi,interpolateHslLong:Ki,interpolateLab:function(t,n){var e=xi((t=Zr(t)).l,(n=Zr(n)).l),r=xi(t.a,n.a),i=xi(t.b,n.b),o=xi(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}},interpolateHcl:to,interpolateHclLong:no,interpolateCubehelix:ro,interpolateCubehelixLong:io,piecewise:function(t,n){for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}},quantize:function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},path:_u,polygonArea:function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},polygonCentroid:function(t){for(var n,e,r=-1,i=t.length,o=0,a=0,u=t[i-1],c=0;++r<i;)n=u,u=t[r],c+=e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o/(c*=3),a/c]},polygonHull:function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(Hp),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Op(r),a=Op(i),u=a[0]===o[0],c=a[a.length-1]===o[o.length-1],s=[];for(n=o.length-1;n>=0;--n)s.push(t[r[o[n]][2]]);for(n=+u;n<a.length-c;++n)s.push(t[r[a[n]][2]]);return s},polygonContains:function(t,n){for(var e,r,i=t.length,o=t[i-1],a=n[0],u=n[1],c=o[0],s=o[1],f=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>u!=s>u&&a<(c-e)*(u-r)/(s-r)+e&&(f=!f),c=e,s=r;return f},polygonLength:function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],a=o[0],u=o[1],c=0;++r<i;)n=a,e=u,n-=a=(o=t[r])[0],e-=u=o[1],c+=Math.sqrt(n*n+e*e);return c},quadtree:Uc,randomUniform:Bp,randomNormal:qp,randomLogNormal:Ip,randomBates:Vp,randomIrwinHall:Fp,randomExponential:Yp,scaleBand:Kp,scalePoint:function(){return Qp(Kp.apply(null,arguments).paddingInner(1))},scaleIdentity:function t(n){var e;function r(t){return isNaN(t=+t)?e:t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(n=Xp.call(t,tv),r):n.slice()},r.unknown=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return t(n).unknown(e)},n=arguments.length?Xp.call(n,tv):[0,1],lv(r)},scaleLinear:function t(){var n=sv(ev,ev);return n.copy=function(){return uv(n,t())},jp.apply(n,arguments),lv(n)},scaleLog:function t(){var n=mv(cv()).domain([1,10]);return n.copy=function(){return uv(n,t()).base(n.base())},jp.apply(n,arguments),n},scaleSymlog:function t(){var n=wv(cv());return n.copy=function(){return uv(n,t()).constant(n.constant())},jp.apply(n,arguments)},scaleOrdinal:Wp,scaleImplicit:Jp,scalePow:Nv,scaleSqrt:function(){return Nv.apply(null,arguments).exponent(.5)},scaleQuantile:function t(){var n,e=[],r=[],i=[];function o(){var t=0,n=Math.max(1,r.length);for(i=new Array(n-1);++t<n;)i[t-1]=hn(e,t/n);return a}function a(t){return isNaN(t=+t)?n:r[jt(i,t)]}return a.invertExtent=function(t){var n=r.indexOf(t);return n<0?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,i=t.length;r<i;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(Ft),o()},a.range=function(t){return arguments.length?(r=Gp.call(t),o()):r.slice()},a.unknown=function(t){return arguments.length?(n=t,a):n},a.quantiles=function(){return i.slice()},a.copy=function(){return t().domain(e).range(r).unknown(n)},jp.apply(a,arguments)},scaleQuantize:function t(){var n,e=0,r=1,i=1,o=[.5],a=[0,1];function u(t){return t<=t?a[jt(o,t,0,i)]:n}function c(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*e)/(i+1);return u}return u.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],c()):[e,r]},u.range=function(t){return arguments.length?(i=(a=Gp.call(t)).length-1,c()):a.slice()},u.invertExtent=function(t){var n=a.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,o[0]]:n>=i?[o[i-1],r]:[o[n-1],o[n]]},u.unknown=function(t){return arguments.length?(n=t,u):u},u.thresholds=function(){return o.slice()},u.copy=function(){return t().domain([e,r]).range(a).unknown(n)},jp.apply(lv(u),arguments)},scaleThreshold:function t(){var n,e=[.5],r=[0,1],i=1;function o(t){return t<=t?r[jt(e,t,0,i)]:n}return o.domain=function(t){return arguments.length?(e=Gp.call(t),i=Math.min(e.length,r.length-1),o):e.slice()},o.range=function(t){return arguments.length?(r=Gp.call(t),i=Math.min(e.length,r.length-1),o):r.slice()},o.invertExtent=function(t){var n=r.indexOf(t);return[e[n-1],e[n]]},o.unknown=function(t){return arguments.length?(n=t,o):n},o.copy=function(){return t().domain(e).range(r).unknown(n)},jp.apply(o,arguments)},scaleTime:function(){return jp.apply(_b(sg,ug,Zv,Yv,Fv,qv,Uv,Lv,Ig).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return jp.apply(_b(Pg,zg,bg,vg,dg,lg,Uv,Lv,Vg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},scaleSequential:function t(){var n=lv(xb()(ev));return n.copy=function(){return wb(n,t())},$p.apply(n,arguments)},scaleSequentialLog:function t(){var n=mv(xb()).domain([1,10]);return n.copy=function(){return wb(n,t()).base(n.base())},$p.apply(n,arguments)},scaleSequentialPow:Mb,scaleSequentialSqrt:function(){return Mb.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function t(){var n=wv(xb());return n.copy=function(){return wb(n,t()).constant(n.constant())},$p.apply(n,arguments)},scaleSequentialQuantile:function t(){var n=[],e=ev;function r(t){if(!isNaN(t=+t))return e((jt(n,t)-1)/(n.length-1))}return r.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var e,i=0,o=t.length;i<o;++i)null==(e=t[i])||isNaN(e=+e)||n.push(e);return n.sort(Ft),r},r.interpolator=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return t(e).domain(n)},$p.apply(r,arguments)},scaleDiverging:function t(){var n=lv(Cb()(ev));return n.copy=function(){return wb(n,t())},$p.apply(n,arguments)},scaleDivergingLog:function t(){var n=mv(Cb()).domain([.1,1,10]);return n.copy=function(){return wb(n,t()).base(n.base())},$p.apply(n,arguments)},scaleDivergingPow:kb,scaleDivergingSqrt:function(){return kb.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function t(){var n=wv(Cb());return n.copy=function(){return wb(n,t()).constant(n.constant())},$p.apply(n,arguments)},tickFormat:fv,schemeCategory10:Nb,schemeAccent:Ab,schemeDark2:Eb,schemePaired:Tb,schemePastel1:Lb,schemePastel2:zb,schemeSet1:Rb,schemeSet2:Pb,schemeSet3:Db,schemeTableau10:Hb,interpolateBrBG:Bb,schemeBrBG:Ub,interpolatePRGn:Ib,schemePRGn:qb,interpolatePiYG:Vb,schemePiYG:Fb,interpolatePuOr:jb,schemePuOr:Yb,interpolateRdBu:Zb,schemeRdBu:$b,interpolateRdGy:Gb,schemeRdGy:Xb,interpolateRdYlBu:Wb,schemeRdYlBu:Jb,interpolateRdYlGn:Qb,schemeRdYlGn:Kb,interpolateSpectral:nm,schemeSpectral:tm,interpolateBuGn:rm,schemeBuGn:em,interpolateBuPu:om,schemeBuPu:im,interpolateGnBu:um,schemeGnBu:am,interpolateOrRd:sm,schemeOrRd:cm,interpolatePuBuGn:lm,schemePuBuGn:fm,interpolatePuBu:dm,schemePuBu:hm,interpolatePuRd:vm,schemePuRd:pm,interpolateRdPu:ym,schemeRdPu:gm,interpolateYlGnBu:mm,schemeYlGnBu:bm,interpolateYlGn:xm,schemeYlGn:_m,interpolateYlOrBr:Mm,schemeYlOrBr:wm,interpolateYlOrRd:km,schemeYlOrRd:Cm,interpolateBlues:Nm,schemeBlues:Sm,interpolateGreens:Em,schemeGreens:Am,interpolateGreys:Lm,schemeGreys:Tm,interpolatePurples:Rm,schemePurples:zm,interpolateReds:Dm,schemeReds:Pm,interpolateOranges:Om,schemeOranges:Hm,interpolateCividis:function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},interpolateCubehelixDefault:Um,interpolateRainbow:function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Im.h=360*t-100,Im.s=1.5-1.5*n,Im.l=.8-.9*n,Im+""},interpolateWarm:Bm,interpolateCool:qm,interpolateSinebow:function(t){var n;return t=(.5-t)*Math.PI,Fm.r=255*(n=Math.sin(t))*n,Fm.g=255*(n=Math.sin(t+Vm))*n,Fm.b=255*(n=Math.sin(t+Ym))*n,Fm+""},interpolateTurbo:function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},interpolateViridis:$m,interpolateMagma:Zm,interpolateInferno:Xm,interpolatePlasma:Gm,create:function(t){return Ve(Un(t).call(document.documentElement))},creator:Un,local:je,matcher:Vn,mouse:Ge,namespace:Dn,namespaces:Pn,clientPoint:Xe,select:Ve,selectAll:function(t){return"string"==typeof t?new Ie([document.querySelectorAll(t)],[document.documentElement]):new Ie([null==t?[]:t],qe)},selection:Fe,selector:qn,selectorAll:Fn,style:oe,touch:Je,touches:function(t,n){null==n&&(n=Ze().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=Xe(t,n[e]);return i},window:ne,get event(){return Te},customEvent:He,arc:function(){var t=f_,n=l_,e=Jm(0),r=null,i=h_,o=d_,a=p_,u=null;function c(){var c,s,f=+t.apply(this,arguments),l=+n.apply(this,arguments),h=i.apply(this,arguments)-a_,d=o.apply(this,arguments)-a_,p=Wm(d-h),v=d>h;if(u||(u=c=_u()),l<f&&(s=l,l=f,f=s),l>i_)if(p>u_-i_)u.moveTo(l*Qm(h),l*e_(h)),u.arc(0,0,l,h,d,!v),f>i_&&(u.moveTo(f*Qm(d),f*e_(d)),u.arc(0,0,f,d,h,v));else{var g,y,b=h,m=d,_=h,x=d,w=p,M=p,C=a.apply(this,arguments)/2,k=C>i_&&(r?+r.apply(this,arguments):r_(f*f+l*l)),S=n_(Wm(l-f)/2,+e.apply(this,arguments)),N=S,A=S;if(k>i_){var E=s_(k/f*e_(C)),T=s_(k/l*e_(C));(w-=2*E)>i_?(_+=E*=v?1:-1,x-=E):(w=0,_=x=(h+d)/2),(M-=2*T)>i_?(b+=T*=v?1:-1,m-=T):(M=0,b=m=(h+d)/2)}var L=l*Qm(b),z=l*e_(b),R=f*Qm(x),P=f*e_(x);if(S>i_){var D,H=l*Qm(m),O=l*e_(m),U=f*Qm(_),B=f*e_(_);if(p<o_&&(D=v_(L,z,U,B,H,O,R,P))){var q=L-D[0],I=z-D[1],F=H-D[0],V=O-D[1],Y=1/e_(c_((q*F+I*V)/(r_(q*q+I*I)*r_(F*F+V*V)))/2),j=r_(D[0]*D[0]+D[1]*D[1]);N=n_(S,(f-j)/(Y-1)),A=n_(S,(l-j)/(Y+1))}}M>i_?A>i_?(g=g_(U,B,L,z,l,A,v),y=g_(H,O,R,P,l,A,v),u.moveTo(g.cx+g.x01,g.cy+g.y01),A<S?u.arc(g.cx,g.cy,A,Km(g.y01,g.x01),Km(y.y01,y.x01),!v):(u.arc(g.cx,g.cy,A,Km(g.y01,g.x01),Km(g.y11,g.x11),!v),u.arc(0,0,l,Km(g.cy+g.y11,g.cx+g.x11),Km(y.cy+y.y11,y.cx+y.x11),!v),u.arc(y.cx,y.cy,A,Km(y.y11,y.x11),Km(y.y01,y.x01),!v))):(u.moveTo(L,z),u.arc(0,0,l,b,m,!v)):u.moveTo(L,z),f>i_&&w>i_?N>i_?(g=g_(R,P,H,O,f,-N,v),y=g_(L,z,U,B,f,-N,v),u.lineTo(g.cx+g.x01,g.cy+g.y01),N<S?u.arc(g.cx,g.cy,N,Km(g.y01,g.x01),Km(y.y01,y.x01),!v):(u.arc(g.cx,g.cy,N,Km(g.y01,g.x01),Km(g.y11,g.x11),!v),u.arc(0,0,f,Km(g.cy+g.y11,g.cx+g.x11),Km(y.cy+y.y11,y.cx+y.x11),v),u.arc(y.cx,y.cy,N,Km(y.y11,y.x11),Km(y.y01,y.x01),!v))):u.arc(0,0,f,x,_,v):u.lineTo(R,P)}else u.moveTo(0,0);if(u.closePath(),c)return u=null,c+""||null}return c.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-o_/2;return[Qm(r)*e,e_(r)*e]},c.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:Jm(+n),c):t},c.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Jm(+t),c):n},c.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Jm(+t),c):e},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Jm(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Jm(+t),c):i},c.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Jm(+t),c):o},c.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Jm(+t),c):a},c.context=function(t){return arguments.length?(u=null==t?null:t,c):u},c},area:w_,line:x_,pie:function(){var t=C_,n=M_,e=null,r=Jm(0),i=Jm(u_),o=Jm(0);function a(a){var u,c,s,f,l,h=a.length,d=0,p=new Array(h),v=new Array(h),g=+r.apply(this,arguments),y=Math.min(u_,Math.max(-u_,i.apply(this,arguments)-g)),b=Math.min(Math.abs(y)/h,o.apply(this,arguments)),m=b*(y<0?-1:1);for(u=0;u<h;++u)(l=v[p[u]=u]=+t(a[u],u,a))>0&&(d+=l);for(null!=n?p.sort((function(t,e){return n(v[t],v[e])})):null!=e&&p.sort((function(t,n){return e(a[t],a[n])})),u=0,s=d?(y-h*m)/d:0;u<h;++u,g=f)c=p[u],f=g+((l=v[c])>0?l*s:0)+m,v[c]={data:a[c],index:u,value:l,startAngle:g,endAngle:f,padAngle:b};return v}return a.value=function(n){return arguments.length?(t="function"==typeof n?n:Jm(+n),a):t},a.sortValues=function(t){return arguments.length?(n=t,e=null,a):n},a.sort=function(t){return arguments.length?(e=t,n=null,a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Jm(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Jm(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Jm(+t),a):o},a},areaRadial:T_,radialArea:T_,lineRadial:E_,radialLine:E_,pointRadial:L_,linkHorizontal:function(){return D_(H_)},linkVertical:function(){return D_(O_)},linkRadial:function(){var t=D_(U_);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},symbol:function(){var t=Jm(B_),n=Jm(64),e=null;function r(){var r;if(e||(e=r=_u()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(n){return arguments.length?(t="function"==typeof n?n:Jm(n),r):t},r.size=function(t){return arguments.length?(n="function"==typeof t?t:Jm(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r},symbols:ex,symbolCircle:B_,symbolCross:q_,symbolDiamond:V_,symbolSquare:X_,symbolStar:Z_,symbolTriangle:J_,symbolWye:nx,curveBasisClosed:function(t){return new ax(t)},curveBasisOpen:function(t){return new ux(t)},curveBasis:function(t){return new ox(t)},curveBundle:sx,curveCardinalClosed:px,curveCardinalOpen:gx,curveCardinal:hx,curveCatmullRomClosed:xx,curveCatmullRomOpen:Mx,curveCatmullRom:mx,curveLinearClosed:function(t){return new Cx(t)},curveLinear:b_,curveMonotoneX:function(t){return new Ex(t)},curveMonotoneY:function(t){return new Tx(t)},curveNatural:function(t){return new zx(t)},curveStep:function(t){return new Px(t,.5)},curveStepAfter:function(t){return new Px(t,1)},curveStepBefore:function(t){return new Px(t,0)},stack:function(){var t=Jm([]),n=Hx,e=Dx,r=Ox;function i(i){var o,a,u=t.apply(this,arguments),c=i.length,s=u.length,f=new Array(s);for(o=0;o<s;++o){for(var l,h=u[o],d=f[o]=new Array(c),p=0;p<c;++p)d[p]=l=[0,+r(i[p],h,p,i)],l.data=i[p];d.key=h}for(o=0,a=n(f);o<s;++o)f[a[o]].index=o;return e(f,a),f}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:Jm(z_.call(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Jm(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?Hx:"function"==typeof t?t:Jm(z_.call(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?Dx:t,i):e},i},stackOffsetExpand:function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,a=t[0].length;o<a;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}Dx(t,n)}},stackOffsetDiverging:function(t,n){if((u=t.length)>0)for(var e,r,i,o,a,u,c=0,s=t[n[0]].length;c<s;++c)for(o=a=0,e=0;e<u;++e)(i=(r=t[n[e]][c])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)},stackOffsetNone:Dx,stackOffsetSilhouette:function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<e;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}Dx(t,n)}},stackOffsetWiggle:function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,a=1;a<r;++a){for(var u=0,c=0,s=0;u<i;++u){for(var f=t[n[u]],l=f[a][1]||0,h=(l-(f[a-1][1]||0))/2,d=0;d<u;++d){var p=t[n[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}c+=l,s+=h*l}e[a-1][1]+=e[a-1][0]=o,c&&(o-=s/c)}e[a-1][1]+=e[a-1][0]=o,Dx(t,n)}},stackOrderAppearance:Ux,stackOrderAscending:qx,stackOrderDescending:function(t){return qx(t).reverse()},stackOrderInsideOut:function(t){var n,e,r=t.length,i=t.map(Ix),o=Ux(t),a=0,u=0,c=[],s=[];for(n=0;n<r;++n)e=o[n],a<u?(a+=i[e],c.push(e)):(u+=i[e],s.push(e));return s.reverse().concat(c)},stackOrderNone:Hx,stackOrderReverse:function(t){return Hx(t).reverse()},timeInterval:Tv,timeMillisecond:Lv,timeMilliseconds:zv,utcMillisecond:Lv,utcMilliseconds:zv,timeSecond:Uv,timeSeconds:Bv,utcSecond:Uv,utcSeconds:Bv,timeMinute:qv,timeMinutes:Iv,timeHour:Fv,timeHours:Vv,timeDay:Yv,timeDays:jv,timeWeek:Zv,timeWeeks:tg,timeSunday:Zv,timeSundays:tg,timeMonday:Xv,timeMondays:ng,timeTuesday:Gv,timeTuesdays:eg,timeWednesday:Jv,timeWednesdays:rg,timeThursday:Wv,timeThursdays:ig,timeFriday:Kv,timeFridays:og,timeSaturday:Qv,timeSaturdays:ag,timeMonth:ug,timeMonths:cg,timeYear:sg,timeYears:fg,utcMinute:lg,utcMinutes:hg,utcHour:dg,utcHours:pg,utcDay:vg,utcDays:gg,utcWeek:bg,utcWeeks:kg,utcSunday:bg,utcSundays:kg,utcMonday:mg,utcMondays:Sg,utcTuesday:_g,utcTuesdays:Ng,utcWednesday:xg,utcWednesdays:Ag,utcThursday:wg,utcThursdays:Eg,utcFriday:Mg,utcFridays:Tg,utcSaturday:Cg,utcSaturdays:Lg,utcMonth:zg,utcMonths:Rg,utcYear:Pg,utcYears:Dg,timeFormatDefaultLocale:cb,get timeFormat(){return Ig},get timeParse(){return Fg},get utcFormat(){return Vg},get utcParse(){return Yg},timeFormatLocale:Bg,isoFormat:fb,isoParse:lb,now:go,timer:mo,timerFlush:_o,timeout:Co,interval:function(t,n,e){var r=new bo,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?go():+e,r.restart((function o(a){a+=i,r.restart(o,i+=n,e),t(a)}),n,e),r)},transition:aa,active:function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>1&&e.name===n)return new oa([[t]],Ra,n,+r);return null},interrupt:Lo,voronoi:function(){var t=Vx,n=Yx,e=null;function r(r){return new kw(r.map((function(e,i){var o=[Math.round(t(e,i,r)/xw)*xw,Math.round(n(e,i,r)/xw)*xw];return o.index=i,o.data=e,o})),e)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"==typeof n?n:Fx(+n),r):t},r.y=function(t){return arguments.length?(n="function"==typeof t?t:Fx(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r},zoom:function(){var t,n,e=Rw,r=Pw,i=Uw,o=Hw,a=Ow,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],s=250,f=Gi,l=An("start","zoom","end"),h=500,d=0;function p(t){t.property("__zoom",Dw).on("wheel.zoom",x).on("mousedown.zoom",w).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",C).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,n){return(n=Math.max(u[0],Math.min(u[1],n)))===t.k?t:new Aw(n,t.x,t.y)}function g(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Aw(t.k,r,i)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,n,e){t.on("start.zoom",(function(){m(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){m(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=m(t,i),a=r.apply(t,i),u=null==e?y(a):"function"==typeof e?e.apply(t,i):e,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),s=t.__zoom,l="function"==typeof n?n.apply(t,i):n,h=f(s.invert(u).concat(c/s.k),l.invert(u).concat(c/l.k));return function(t){if(1===t)t=l;else{var n=h(t),e=c/n[2];t=new Aw(e,u[0]-n[0]*e,u[1]-n[1]*e)}o.zoom(null,t)}}))}function m(t,n,e){return!e&&t.__zooming||new _(t,n)}function _(t,n){this.that=t,this.args=n,this.active=0,this.extent=r.apply(t,n),this.taps=0}function x(){if(e.apply(this,arguments)){var t=m(this,arguments),n=this.__zoom,r=Math.max(u[0],Math.min(u[1],n.k*Math.pow(2,o.apply(this,arguments)))),a=Ge(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=n.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[a,n.invert(a)],Lo(this),t.start()}zw(),t.wheel=setTimeout(s,150),t.zoom("mouse",i(g(v(n,r),t.mouse[0],t.mouse[1]),t.extent,c))}function s(){t.wheel=null,t.end()}}function w(){if(!n&&e.apply(this,arguments)){var t=m(this,arguments,!0),r=Ve(Te.view).on("mousemove.zoom",s,!0).on("mouseup.zoom",f,!0),o=Ge(this),a=Te.clientX,u=Te.clientY;Qe(Te.view),Lw(),t.mouse=[o,this.__zoom.invert(o)],Lo(this),t.start()}function s(){if(zw(),!t.moved){var n=Te.clientX-a,e=Te.clientY-u;t.moved=n*n+e*e>d}t.zoom("mouse",i(g(t.that.__zoom,t.mouse[0]=Ge(t.that),t.mouse[1]),t.extent,c))}function f(){r.on("mousemove.zoom mouseup.zoom",null),tr(Te.view,t.moved),zw(),t.end()}}function M(){if(e.apply(this,arguments)){var t=this.__zoom,n=Ge(this),o=t.invert(n),a=t.k*(Te.shiftKey?.5:2),u=i(g(v(t,a),n,o),r.apply(this,arguments),c);zw(),s>0?Ve(this).transition().duration(s).call(b,u,n):Ve(this).call(p.transform,u)}}function C(){if(e.apply(this,arguments)){var n,r,i,o,a=Te.touches,u=a.length,c=m(this,arguments,Te.changedTouches.length===u);for(Lw(),r=0;r<u;++r)o=[o=Je(this,a,(i=a[r]).identifier),this.__zoom.invert(o),i.identifier],c.touch0?c.touch1||c.touch0[2]===o[2]||(c.touch1=o,c.taps=0):(c.touch0=o,n=!0,c.taps=1+!!t);t&&(t=clearTimeout(t)),n&&(c.taps<2&&(t=setTimeout((function(){t=null}),h)),Lo(this),c.start())}}function k(){if(this.__zooming){var n,e,r,o,a=m(this,arguments),u=Te.changedTouches,s=u.length;for(zw(),t&&(t=clearTimeout(t)),a.taps=0,n=0;n<s;++n)r=Je(this,u,(e=u[n]).identifier),a.touch0&&a.touch0[2]===e.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===e.identifier&&(a.touch1[0]=r);if(e=a.that.__zoom,a.touch1){var f=a.touch0[0],l=a.touch0[1],h=a.touch1[0],d=a.touch1[1],p=(p=h[0]-f[0])*p+(p=h[1]-f[1])*p,y=(y=d[0]-l[0])*y+(y=d[1]-l[1])*y;e=v(e,Math.sqrt(p/y)),r=[(f[0]+h[0])/2,(f[1]+h[1])/2],o=[(l[0]+d[0])/2,(l[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(g(e,r,o),a.extent,c))}}function S(){if(this.__zooming){var t,e,r=m(this,arguments),i=Te.changedTouches,o=i.length;for(Lw(),n&&clearTimeout(n),n=setTimeout((function(){n=null}),h),t=0;t<o;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=Ve(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return p.transform=function(t,n,e){var r=t.selection?t.selection():t;r.property("__zoom",Dw),t!==r?b(t,n,e):r.interrupt().each((function(){m(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},p.scaleBy=function(t,n,e){p.scaleTo(t,(function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e}),e)},p.scaleTo=function(t,n,e){p.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==e?y(t):"function"==typeof e?e.apply(this,arguments):e,u=o.invert(a),s="function"==typeof n?n.apply(this,arguments):n;return i(g(v(o,s),a,u),t,c)}),e)},p.translateBy=function(t,n,e){p.transform(t,(function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),c)}))},p.translateTo=function(t,n,e,o){p.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,u=null==o?y(t):"function"==typeof o?o.apply(this,arguments):o;return i(Ew.translate(u[0],u[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,c)}),o)},_.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){He(new Nw(p,t,this.that.__zoom),l.apply,l,[t,this.that,this.args])}},p.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:Sw(+t),p):o},p.filter=function(t){return arguments.length?(e="function"==typeof t?t:Sw(!!t),p):e},p.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Sw(!!t),p):a},p.extent=function(t){return arguments.length?(r="function"==typeof t?t:Sw([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):r},p.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],p):[u[0],u[1]]},p.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],p):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},p.constrain=function(t){return arguments.length?(i=t,p):i},p.duration=function(t){return arguments.length?(s=+t,p):s},p.interpolate=function(t){return arguments.length?(f=t,p):f},p.on=function(){var t=l.on.apply(l,arguments);return t===l?p:t},p.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,p):Math.sqrt(d)},p},zoomTransform:Tw,zoomIdentity:Ew}),qw=Math.PI/180,Iw=180/Math.PI;function Fw(t,n,e){return n/=255,e/=255,{x:100*(.4124*(t=(t/=255)>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)),y:100*(.2126*t+.7152*n+.0722*e),z:100*(.0193*t+.1192*n+.9505*e)}}function Vw(t,n,e){return{l:.7328*t+.4296*n-.1624*e,m:-.7036*t+1.6975*n+.0061*e,s:.003*t+.0136*n+.9834*e}}function Yw(t,n,e){return{lh:.7409792*t+.218025*n+.0410058*e,mh:.2853532*t+.6242014*n+.0904454*e,sh:-.009628*t-.005698*n+1.015326*e}}function jw(t,n){var e=Math.pow(n*t/100,.42);return 400*e/(27.13+e)+.1}function $w(t,n){return 100/n*Math.pow(27.13*Math.abs(t-.1)/(400-Math.abs(t-.1)),1/.42)}var Zw=function(){var t={D65_X:95.047,D65_Y:100,D65_Z:108.883,la:64/Math.PI/5,yb:20,f:1,c:.69,nc:1};t.D65_LMS=Vw(t.D65_X,t.D65_Y,t.D65_Z),t.n=t.yb/t.D65_Y,t.z=1.48+Math.sqrt(t.n);var n=1/(5*t.la+1);return t.fl=.2*Math.pow(n,4)*(5*t.la)+.1*Math.pow(1-Math.pow(n,4),2)*Math.pow(5*t.la,1/3),t.nbb=.725*Math.pow(1/t.n,.2),t.ncb=t.nbb,t.d=t.f*(1-1/3.6*Math.exp((-t.la-42)/92)),t.achromaticResponseToWhite=function(){var n=t.D65_LMS.l,e=t.D65_LMS.m,r=t.D65_LMS.s,i=Yw(n*(t.D65_Y*t.d/n+(1-t.d)),e*(t.D65_Y*t.d/e+(1-t.d)),r*(t.D65_Y*t.d/r+(1-t.d))),o=i.lh,a=i.mh,u=i.sh;return(2*jw(o,t.fl)+jw(a,t.fl)+.05*jw(u,t.fl)-.305)*t.nbb}(),t}();function Xw(t,n,e){var r={},i=Vw(Zw.D65_X,Zw.D65_Y,Zw.D65_Z);function o(t,n){var e=Zw.D65_Y,r=Zw.d;return t*(e*r/n+(1-r))}var a,u=Yw(o(t,i.l),o(n,i.m),o(e,i.s)),c=u.lh,s=u.mh,f=u.sh,l=jw(c,Zw.fl),h=jw(s,Zw.fl),d=jw(f,Zw.fl),p=l-12*h/11+d/11,v=1/9*(l+h-2*d);r.h=180/Math.PI*Math.atan2(v,p),r.h<0&&(r.h+=360),r.h<20.14?(a=(r.h+122.47)/1.2+(20.14-r.h)/.8,r.H=300+(r.h+122.47)/1.2*100/a):r.h<90?(a=(r.h-20.14)/.8+(90-r.h)/.7,r.H=(r.h-20.14)/.8*100/a):r.h<164.25?(a=(r.h-90)/.7+(164.25-r.h)/1,r.H=100+(r.h-90)/.7*100/a):r.h<237.53?(a=(r.h-164.25)/1+(237.53-r.h)/1.2,r.H=200+(r.h-164.25)/1*100/a):(a=(r.h-237.53)/1.2+(360-r.h+20.14)/.8,r.H=300+(r.h-237.53)/1.2*100/a);var g=(2*l+h+.05*d-.305)*Zw.nbb;r.J=100*Math.pow(g/Zw.achromaticResponseToWhite,Zw.c*Zw.z);var y=.25*(Math.cos(r.h*Math.PI/180+2)+3.8),b=5e4/13*Zw.nc*Zw.ncb*y*Math.sqrt(p*p+v*v)/(l+h+1.05*d);return r.C=Math.pow(b,.9)*Math.sqrt(r.J/100)*Math.pow(1.64-Math.pow(.29,Zw.n),.73),r.Q=4/Zw.c*Math.sqrt(r.J/100)*(Zw.achromaticResponseToWhite+4)*Math.pow(Zw.fl,.25),r.M=r.C*Math.pow(Zw.fl,.25),r.s=100*Math.sqrt(r.M/r.Q),r}function Gw(t,n,e){var r,i,o=Math.pow(n/(Math.sqrt(t/100)*Math.pow(1.64-Math.pow(.29,Zw.n),.73)),1/.9),a=1/4*(Math.cos(e*Math.PI/180+2)+3.8),u=Math.pow(t/100,1/(Zw.c*Zw.z))*Zw.achromaticResponseToWhite,c=5e4/13*Zw.nc*Zw.ncb*a/o,s=u/Zw.nbb+.305,f=1.05,l=e*Math.PI/180;Math.abs(Math.sin(l))>=Math.abs(Math.cos(l))?r=(i=3.05*s*(460/1403)/(c/Math.sin(l)+220/1403*3.05*(Math.cos(l)/Math.sin(l))-27/1403+f*(6300/1403)))*(Math.cos(l)/Math.sin(l)):i=(r=3.05*s*(460/1403)/(c/Math.cos(l)+220/1403*3.05-Math.sin(l)/Math.cos(l)*-4.695652173913044))*(Math.sin(l)/Math.cos(l));var h=function(t,n,e,r){var i=t/r+.305;return{l:.32787*i+.32145*n+.20527*e,m:.32787*i-.63507*n-.18603*e,s:.32787*i-.15681*n-4.49038*e}}(u,r,i,Zw.nbb),d=h.l,p=h.m,v=h.s,g=function(t,n,e){return{x:1.910197*t-1.112124*n+.201908*e,y:.37095*t+.629054*n-8e-6*e,z:e}}($w(d,Zw.fl),$w(p,Zw.fl),$w(v,Zw.fl)),y=Vw(g.x,g.y,g.z),b=Vw(Zw.D65_X,Zw.D65_Y,Zw.D65_Z),m=function(t,n,e){return{x:1.096124*t-.278869*n+.182745*e,y:.454369*t+.473533*n+.072098*e,z:-.009628*t-.005698*n+1.015326*e}}(y.l/(Zw.D65_Y*Zw.d/b.l+(1-Zw.d)),y.m/(Zw.D65_Y*Zw.d/b.m+(1-Zw.d)),y.s/(Zw.D65_Y*Zw.d/b.s+(1-Zw.d)));return function(t,n,e){var r=-.969266*(t/=100)+1.8760108*(n/=100)+.041556*(e/=100),i=.0556434*t+-.2040259*n+1.0572252*e;function o(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}return{r:o(3.2404542*t+-1.5371385*n-.4985314*e),g:o(r),b:o(i)}}(m.x,m.y,m.z)}function Jw(t){if(t instanceof Kw)return new Kw(t.J,t.C,t.h,t.opacity);t instanceof Er||(t=Er(t));var n=Fw(t.r,t.g,t.b),e=Vw(n.x,n.y,n.z),r=Xw(e.l,e.m,e.s);return new Kw(r.J,r.C,r.h,t.opacity)}function Ww(t,n,e,r){return 1===arguments.length?Jw(t):new Kw(t,n,e,null==r?1:r)}function Kw(t,n,e,r){this.J=+t,this.C=+n,this.h=+e,this.opacity=+r}var Qw=Kw.prototype=Ww.prototype=Object.create(kr.prototype);Qw.constructor=Kw,Qw.brighter=function(t){return new Kw(this.J+18*(null===t?1:t),this.C,this.h,this.opacity)},Qw.darker=function(t){return new Kw(this.J-18*(null===t?1:t),this.C,this.h,this.opacity)},Qw.rgb=function(){var t=Gw(this.J,this.C,this.h);return Er(t.r,t.g,t.b,this.opacity)};var tM={k_l:1,c1:.007,c2:.0228};function nM(t){if(t instanceof rM)return new rM(t.J,t.a,t.b,t.opacity);t instanceof Er||(t=Er(t));var n=Fw(t.r,t.g,t.b),e=Vw(n.x,n.y,n.z),r=Xw(e.l,e.m,e.s),i=tM,o=(1+100*i.c1)*r.J/(1+i.c1*r.J);o/=i.k_l;var a=1/i.c2*Math.log(1+i.c2*r.M);return new rM(o,a*Math.cos(qw*r.h),a*Math.sin(qw*r.h),t.opacity)}function eM(t,n,e,r){return r=null==r?1:r,1===arguments.length?nM(t):new rM(t,n,e,r)}function rM(t,n,e,r){this.J=t,this.a=n,this.b=e,this.opacity=r}var iM,oM=rM.prototype=eM.prototype=Object.create(kr.prototype);oM.constructor=Kw,oM.brighter=function(t){return new rM(this.J+18*(null===t?1:t),this.a,this.b,this.opacity)},oM.darker=function(t){return new rM(this.J-18*(null===t?1:t),this.a,this.b,this.opacity)},oM.rgb=function(){var t=tM,n=this.J,e=this.a,r=this.b,i=Math.sqrt(e*e+r*r),o=(Math.exp(i*t.c2)-1)/t.c2,a=Iw*Math.atan2(r,e);a<0&&(a=360+a);var u=o/Math.pow(Zw.fl,.25),c=Gw(n/(1+t.c1*(100-n)),u,a);return Er(c.r,c.g,c.b,this.opacity)},oM.de=(iM=tM,function(t){t instanceof rM||(t=nM(t));var n=iM.k_l,e=Math.abs(this.J-t.J),r=Math.abs(this.a-t.a),i=Math.abs(this.b-t.b);return Math.sqrt(e/n*(e/n)+r*r+i*i)});var aM=Object.freeze({__proto__:null,jch:Ww,jab:eM,interpolateJab:function(t,n){function e(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):function(t){return function(){return t}}(isNaN(t)?n:t)}t=nM(t),n=nM(n);var r=e(t.J,n.J),i=e(t.a,n.a),o=e(t.b,n.b),a=e(t.opacity,n.opacity);return function(n){return t.J=r(n),t.a=i(n),t.b=o(n),t.opacity=a(n),t+""}}}),uM=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],cM=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],sM=.19783000664283,fM=.46831999493879,lM=903.2962962,hM=.0088564516,dM=1/.7;function pM(t){return function(){return t}}function vM(t,n){return n.intercept/(Math.sin(t)-n.slope*Math.cos(t))}function gM(t,n){for(var e=n/360*Math.PI*2,r=function(t){var n,e=[],r=Math.pow(t+16,3)/1560896;n=r>hM?r:t/lM;for(var i=0;i<3;)for(var o=i++,a=uM[o][0],u=uM[o][1],c=uM[o][2],s=0;s<2;){var f=s++,l=(284517*a-94839*c)*n,h=(838422*c+769860*u+731718*a)*t*n-769860*f*t,d=(632260*c-126452*u)*n+126452*f;e.push({slope:l/d,intercept:h/d})}return e}(t),i=17976931348623157e292,o=0;o<r.length;){var a=r[o];++o;var u=vM(e,a);u>=0&&(i=Math.min(i,u))}return i}function yM(t,n){for(var e=0,r=0,i=t.length;r<i;){var o=r++;e+=t[o]*n[o]}return e}function bM(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92}function mM(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,.4166666666666667)-.055}function _M(t){var n=t[0],e=t[1],r=t[2];if(0==n)return[0,0,0];var i=e/(13*n)+sM,o=r/(13*n)+fM,a=function(t){return t<=8?1*t/lM:1*Math.pow((t+16)/116,3)}(n),u=0-9*a*i/((i-4)*o-i*o);return[u,a,(9*a-15*o*a-o*u)/(3*o)]}function xM(t){var n=t[0],e=t[1],r=n+15*e+3*t[2],i=4*n,o=9*e;0!=r?(i/=r,o/=r):(i=NaN,o=NaN);var a=function(t){return t<=hM?t/1*lM:116*Math.pow(t/1,.3333333333333333)-16}(e);return 0==a?[0,0,0]:[a,13*a*(i-sM),13*a*(o-fM)]}function wM(t){if(t instanceof CM)return new CM(t.l,t.u,t.v,t.opacity);t instanceof Er||(t=Er(t));var n,e,r=function(t){var n=t[0],e=t[1],r=t[2];return n>99.9999999?{l:r,u:0,v:100}:n<1e-8?{l:r,u:0,v:0}:{l:r,u:e/gM(n,r)*100,v:n}}(function(t){var n,e=t[0],r=t[1],i=t[2],o=Math.sqrt(r*r+i*i);return o<1e-8?n=0:(n=180*Math.atan2(i,r)/Math.PI)<0&&(n=360+n),[e,o,n]}(xM((n=[t.r/255,t.g/255,t.b/255],e=[bM(n[0]),bM(n[1]),bM(n[2])],[yM(cM[0],e),yM(cM[1],e),yM(cM[2],e)]))));return new CM(r.l.toPrecision(7),r.u.toPrecision(7),r.v.toPrecision(7),t.opacity)}function MM(t,n,e,r){return 1===arguments.length?wM(t):new CM(t,n,e,null==r?1:r)}function CM(t,n,e,r){this.l=+t,this.u=+n,this.v=+e,this.opacity=+r}var kM=CM.prototype=MM.prototype=Object.create(kr.prototype);function SM(t,n){return function(e){return t+e*n}}function NM(t,n){var e=n-t;return e?SM(t,e):pM(isNaN(t)?n:t)}function AM(t){return function(n,e){var r=t((n=MM(n)).l,(e=MM(e)).l),i=NM(n.u,e.u),o=NM(n.v,e.v),a=NM(n.opacity,e.opacity);return function(t){return n.l=r(t),n.u=i(t),n.v=o(t),n.opacity=a(t),n+""}}}kM.constructor=CM,kM.brighter=function(t){return t=null==t?dM:Math.pow(dM,t),new CM(this.l,this.u,this.v*t,this.opacity)},kM.darker=function(t){return t=null==t?.7:Math.pow(.7,t),new CM(this.l,this.u,this.v*t,this.opacity)},kM.rgb=function(){var t,n,e=isNaN(this.l)?0:this.l,r=isNaN(this.u)?0:this.u,i=isNaN(this.v)?0:this.v,o=this.opacity,a=(t=_M(function(t){var n=t[0],e=t[1],r=t[2]/360*2*Math.PI;return[n,Math.cos(r)*e,Math.sin(r)*e]}(function(t){var n=t[0],e=t[1],r=t[2];return r>99.9999999?[100,0,n]:r<1e-8?[0,0,n]:[r,gM(r,n)/100*e,n]}([e,r,i]))),{r:(n=[mM(yM(uM[0],t)),mM(yM(uM[1],t)),mM(yM(uM[2],t))])[0],g:n[1],b:n[2]});return function(t,n,e,r){return Er(255*t,255*n,255*e,r||1)}(a.r,a.g,a.b,o)},kM.displayable=function(){return(0<=this.l&&this.l<=360||isNaN(this.l))&&0<=this.u&&this.u<=100&&0<=this.v&&this.v<=100&&0<=this.opacity&&this.opacity<=1};var EM=AM((function(t,n){var e=n-t;return e?SM(t,e>180||e<-180?e-360*Math.round(e/360):e):pM(isNaN(t)?n:t)})),TM=AM(NM),LM=Object.freeze({__proto__:null,hsluv:MM,interpolateHsluv:EM,interpolateHsluvLong:TM}),zM=1/.7;function RM(t){if(t instanceof DM)return new DM(t.h,t.s,t.v,t.opacity);t instanceof Er||(t=Er(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=o-i,u=NaN;return a&&(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,u*=60),new DM(u,a/o,o,t.opacity)}function PM(t,n,e,r){return 1===arguments.length?RM(t):new DM(t,n,e,null==r?1:r)}function DM(t,n,e,r){this.h=+t,this.s=+n,this.v=+e,this.opacity=+r}var HM=DM.prototype=PM.prototype=Object.create(kr.prototype);function OM(t,n,e,r,i){return Er(255*(t+r),255*(n+r),255*(e+r),i)}function UM(t){return function(){return t}}function BM(t,n){return function(e){return t+e*n}}function qM(t,n){var e=n-t;return e?BM(t,e):UM(isNaN(t)?n:t)}function IM(t){return function(n,e){var r=t((n=PM(n)).h,(e=PM(e)).h),i=qM(n.s,e.s),o=qM(n.v,e.v),a=qM(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.v=o(t),n.opacity=a(t),n+""}}}HM.constructor=DM,HM.brighter=function(t){return t=null==t?zM:Math.pow(zM,t),new DM(this.h,this.s,this.v*t,this.opacity)},HM.darker=function(t){return t=null==t?.7:Math.pow(.7,t),new DM(this.h,this.s,this.v*t,this.opacity)},HM.rgb=function(){var t=isNaN(this.h)?0:this.h%360+360*(this.h<0),n=isNaN(this.h)||isNaN(this.s)?0:this.s,e=this.v,r=this.opacity,i=e*n,o=i*(1-Math.abs(t/60%2-1)),a=e-i;return t<60?OM(i,o,0,a,r):t<120?OM(o,i,0,a,r):t<180?OM(0,i,o,a,r):t<240?OM(0,o,i,a,r):t<300?OM(o,0,i,a,r):OM(i,0,o,a,r)},HM.displayable=function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.v&&this.v<=1&&0<=this.opacity&&this.opacity<=1};var FM=IM((function(t,n){var e=n-t;return e?BM(t,e>180||e<-180?e-360*Math.round(e/360):e):UM(isNaN(t)?n:t)})),VM=IM(qM),YM=Object.freeze({__proto__:null,hsv:PM,interpolateHsv:FM,interpolateHsvLong:VM});function jM(t){if(t.__esModule)return t;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}var $M=jM(Bw),ZM=jM(aM),XM=jM(LM),GM=jM(YM);const JM={...$M,...ZM,...XM,...GM};JM.interpolateJch=(t,n)=>{const e=(t,n)=>{const e=n-t;return e?((t,n)=>e=>t+e*n)(t,e):(t=>()=>t)(isNaN(t)?n:t)};t=$M.jch(t),n=$M.jch(n);const r=Math.abs(t.h-n.h),i=Math.abs(t.h-(n.h+360)),o=Math.abs(t.h-(n.h-360));i<r&&i<o&&(n.h+=360),o<r&&o<i&&(n.h-=360);const a=$M.hcl(t+"").c,u=$M.hcl(n+"").c;a||(t.h=n.h),u||(n.h=t.h);const c=e(t.J,n.J),s=e(t.C,n.C),f=e(t.h,n.h),l=e(t.opacity,n.opacity);return n=>(t.J=c(n),t.C=s(n),t.h=f(n),t.opacity=l(n),t+"")};var WM,KM=JM,QM=(function(t,n){const e=(t,n,e,r,i)=>t*(t*(-3*n+9*e-9*r+3*i)+6*n-12*e+6*r)-3*n+3*e;n.bezlen=(t,n,r,i,o,a,u,c,s)=>{null==s&&(s=1);for(var f=(s=s>1?1:s<0?0:s)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<12;p++){var v=f*l[p]+f,g=e(v,t,r,o,u),y=e(v,n,i,a,c),b=g*g+y*y;d+=h[p]*Math.sqrt(b)}return f*d};const r=n.findDotsAtSegment=(t,n,e,r,i,o,a,u,c)=>{const s=1-c,f=s*s,l=f*s,h=c*c*c;return{x:l*t+3*f*c*e+3*s*c*c*i+h*a,y:l*n+3*f*c*r+3*s*c*c*o+h*u}};n.catmullRom2bezier=(t,n)=>{const e=[];let r={x:+t[0],y:+t[1]};for(let i=0,o=t.length;o-2*!n>i;i+=2){const a=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];n?i?o-4==i?a[3]={x:+t[0],y:+t[1]}:o-2==i&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[o-2],y:+t[o-1]}:o-4==i?a[3]=a[2]:i||(a[0]={x:+t[i],y:+t[i+1]}),e.push([r.x,r.y,(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y]),r=a[2]}return e},n.prepareCurve=(t,n,e,i,o,a,u,c)=>{const s=Math.floor(.75*bezlen(t,n,e,i,o,a,u,c)),f=new Map;for(let l=0;l<=s;l++){const h=l/s;f.set(h,r(t,n,e,i,o,a,u,c,h))}return t=>{const n=Array.from(f.keys());let e=f.get(n[0]);const r=f.get(n[n.length-1]);if(t<e.x||t>r.x)return null;for(let r=0;r<n.length;r++){const i=f.get(n[r]);if(i.x>=t){const n=e.x,o=i.x,a=e.y,u=i.y;return r?(t-n)*(u-a)/(o-n)+a:u}e=i}}}}(WM={exports:{}},WM.exports),WM.exports);const{catmullRom2bezier:tC,prepareCurve:nC}=QM;const eC={CAM02:{name:"jab",channels:["J","a","b"],interpolator:KM.interpolateJab,function:KM.jab},CAM02p:{name:"jch",channels:["J","C","h"],interpolator:KM.interpolateJch,function:KM.jch},LCH:{name:"lch",channels:["h","c","l"],interpolator:KM.interpolateHcl,white:KM.hcl(NaN,0,100),black:KM.hcl(NaN,0,0),function:KM.hcl},LAB:{name:"lab",channels:["l","a","b"],interpolator:KM.interpolateLab,function:KM.lab},HSL:{name:"hsl",channels:["h","s","l"],interpolator:KM.interpolateHsl,function:KM.hsl},HSLuv:{name:"hsluv",channels:["l","u","v"],interpolator:KM.interpolateHsluv,white:KM.hsluv(NaN,NaN,100),black:KM.hsluv(NaN,NaN,0),function:KM.hsluv},RGB:{name:"rgb",channels:["r","g","b"],interpolator:KM.interpolateRgb,function:KM.rgb},HSV:{name:"hsv",channels:["h","s","v"],interpolator:KM.interpolateHsv,function:KM.hsv},HEX:{name:"hex",channels:["r","g","b"],interpolator:KM.interpolateRgb,function:KM.rgb}};function rC(t){const n=KM.hsluv(t);return[n.l,n.u,n.v]}function iC({swatches:t,colorKeys:n,colorspace:e="LAB",shift:r=1,fullScale:i=!0,smooth:o=!1}={}){const a=eC[e];if(!a)throw new Error(`Colorspace “${e}” not supported`);let u=n.map((n=>t-t*(KM.hsluv(n).v/100))).sort(((t,n)=>t-n)).concat(t);u.unshift(0);let c=KM.scalePow().exponent(r).domain([1,t]).range([1,t]);c=u.map((t=>c(t)<0?0:c(t))),u=c;let s=n.map(((t,n)=>({colorKeys:rC(t),index:n}))).sort(((t,n)=>n.colorKeys[2]-t.colorKeys[2])).map((t=>n[t.index]));n.map(((t,n)=>({colorKeys:rC(t),index:n}))).sort(((t,n)=>t.colorKeys[2]-n.colorKeys[2])).map((t=>n[t.index]));let f,l=[];l=i?[a.white||"#fff",...s,a.black||"#000"]:s;const h=l;if(l=l.map((t=>KM[a.name](t))),"hcl"==a.name&&l.forEach((t=>t.c=isNaN(t.c)?0:t.c)),"jch"==a.name)for(let t=0;t<h.length;t++){KM.hcl(h[t]).c||(l[t].h=NaN)}f=o?function(t,n,e){const r=e.channels.map((()=>[]));if(t.forEach(((t,i)=>r.forEach(((r,o)=>r.push(n[i],t[e.channels[o]]))))),"hcl"==e.name){const t=r[1];for(let n=1;n<t.length;n+=2)isNaN(t[n])&&(t[n]=0)}r.forEach((t=>{const n=[];for(let e=1;e<t.length;e+=2){if(!isNaN(t[e])){n.forEach((n=>t[n]=t[e])),n.length=0;break}n.push(e)}if(n.length){const e=KM.jch("#ccc").h;n.forEach((n=>t[n]=e))}n.length=0;for(let e=t.length-1;e>0;e-=2){if(!isNaN(t[e])){n.forEach((n=>t[n]=t[e]));break}n.push(e)}for(let n=1;n<t.length;n+=2)isNaN(t[n])&&(t.splice(n-1,2),n-=2);if(e.name in{hcl:1,hsl:1,hsluv:1,hsv:1,jch:1}){let n=t[1],e=0;for(let r=3;r<t.length;r+=2){const i=t[r]+e,o=Math.abs(n-i),a=Math.abs(n-(i+360)),u=Math.abs(n-(i-360));a<o&&a<u&&(e+=360),u<o&&u<a&&(e-=360),t[r]+=e,n=t[r]}}}));const i=r.map((t=>tC(t).map((t=>nC(...t)))));return t=>{const n=i.map((n=>{for(let e=0;e<n.length;e++){const r=n[e](t);if(null!=r)return r}}));return"jch"==e.name&&n[1]<0&&(n[1]=0),KM[e.name](...n)+""}}(l,u,a):KM.scaleLinear().range(l).domain(u).interpolate(a.interpolator);let d=KM.range(t).map((t=>f(t))).filter((t=>null!=t)),p=[];for(let t=0;t<d.length;t++)p.push(KM.rgb(d[t]).formatHex());return{colorKeys:n,colorspace:e,shift:r,colors:d,scale:f,colorsHex:p}}function oC({colorKeys:t,colorspace:n="LAB",smooth:e}={}){let r=iC({swatches:1e3,colorKeys:t,colorspace:n,shift:1,smooth:e}).colorsHex;return function(t,n){var e=[],r={};for(var i in t)r[t[i][n]]=t[i];for(i in r)e.push(r[i]);return e}(r.map(((t,n)=>({value:Math.round(rC(t)[2]),index:n}))),"value").map((t=>r[t.index]))}function aC({colorKeys:t,base:n,ratios:e,colorspace:r="LAB",smooth:i=!1,output:o="HEX"}={}){if(!n)throw new Error("Base is undefined");if(!t)throw new Error("Color Keys are undefined");for(let n=0;n<t.length;n++){if(t[n].length<6)throw new Error("Color Key must be greater than 6 and include hash # if hex.");if(6==t[n].length&&0!=t[n].charAt(0))throw new Error("Color Key missing hash #")}if(!e)throw new Error("Ratios are undefined");if(!eC[o])throw new Error(`Colorspace “${o}” not supported`);let a=iC({swatches:3e3,colorKeys:t,colorspace:r,shift:1,smooth:i}),u=KM.hsluv(n).v/100,c=KM.range(3e3).map((t=>{let e=fC([KM.rgb(a.scale(t)).r,KM.rgb(a.scale(t)).g,KM.rgb(a.scale(t)).b],[KM.rgb(n).r,KM.rgb(n).g,KM.rgb(n).b],u).toFixed(2);return Number(e)})).filter((t=>null!=t)),s=[];e=e.map(Number);for(let t=0;t<e.length;t++){let n=dC(c,e[t],u);s.push(cC(a.colors[n],o))}return s}function uC(t){return isNaN(t)?0:t}function cC(t,n,e=!1){let r=eC[n].function(t),i=eC[n].channels,o={[i[0]]:uC(r[i[0]]),[i[1]]:uC(r[i[1]]),[i[2]]:uC(r[i[2]])};if("HSLuv"===n)for(let t=0;t<i.length;t++){let n=Math.round(o[i[t]]);o[i[t]]=n}else if("LAB"===n||"LCH"===n||"CAM02"===n||"CAM02p"===n)for(let t=0;t<i.length;t++){let n=Math.round(o[i[t]]);"h"!==i[t]||e||(n+="deg"),("l"===i[t]&&!e||"J"===i[t]&&!e)&&(n+="%"),o[i[t]]=n}else for(let t=0;t<i.length;t++)if("s"===i[t]||"l"===i[t]||"v"===i[t]){let n=parseFloat(o[i[t]].toFixed(2));o[i[t]]=e?n:Math.round(100*n)+"%"}else{let n=parseFloat(o[i[t]].toFixed());"h"!==i[t]||e||(n+="deg"),o[i[t]]=n}let a,u=eC[n].name;if("HEX"===n)a=KM.rgb(t).formatHex();else{let t,e;"LCH"===n?(t=o[i[2]]+", ",str1=o[i[1]]+", ",e=o[i[0]]):(t=o[i[0]]+", ",str1=o[i[1]]+", ",e=o[i[2]]),a=u+"("+t+str1+e+")"}return e?o:a}function sC(t,n,e){let r=[t,n,e].map((t=>(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)));return.2126*r[0]+.7152*r[1]+.0722*r[2]}function fC(t,n,e){let r=sC(t[0],t[1],t[2]),i=sC(n[0],n[1],n[2]),o=(r+.05)/(i+.05),a=(i+.05)/(r+.05);return e<.5?o>=1?o:-1*a:o<1?a:-1*o}function lC(t){if(!t)throw new Error("Array undefined");if(!Array.isArray(t))throw new Error("Passed object is not an array");let n=[];for(let e=0;e<t.length;e++)t[e]>=1&&n.push(t[e]);return Math.min(...n)}function hC(t){if(!t)throw new Error("Ratios undefined");let n=lC(t=t.sort((function(t,n){return t-n}))),e=t.indexOf(n),r=[],i=t.slice(0,e),o=t.slice(e,t.length);for(let t=0;t<i.length;t++){let n=100*(1/(i.length+1))*(t+1);r.push(Number(n.toFixed()))}for(let t=0;t<o.length;t++)r.push(100*(t+1));return r.sort((function(t,n){return t-n})),r}function dC(t,n,e){let r=0,i=t.length-1,o=Math.floor((r+i)/2);for(;t[o]!==n&&r<i;)e>.5?n<t[o]?i=o-1:r=o+1:n>t[o]?i=o-1:r=o+1,o=Math.floor((r+i)/2);let a=t.reduce(((t,e)=>e>n?e:t));return t[o]==!n?a:o}var pC={createScale:iC,luminance:sC,contrast:fC,binarySearch:dC,generateBaseScale:oC,generateContrastColors:aC,minPositive:lC,ratioName:hC,generateAdaptiveTheme:function t({colorScales:n,baseScale:e,brightness:r,contrast:i=1,output:o="HEX"}){if(!e)throw new Error("baseScale is undefined");for(let t=0;t<n.length;t++)n[t].name;if(!n)throw new Error("colorScales are undefined");if(!Array.isArray(n))throw new Error("colorScales must be an array of objects");for(let t=0;t<n.length;t++);if(void 0===r)return function(r,i){return t({baseScale:e,colorScales:n,brightness:r,contrast:i,output:o})};{let t=n.findIndex((t=>t.name===e)),a=oC({colorKeys:n[t].colorKeys,colorspace:n[t].colorspace,smooth:n[t].smooth})[r],u={background:a},c=[];c.push(u);for(let t=0;t<n.length;t++){if(!n[t].name)throw new Error("Color missing name");let e,r,u=n[t].name,s=n[t].ratios;Array.isArray(s)?e=s:(e=Object.values(s),r=Object.keys(s));let f=n[t].smooth,l=[],h={name:u,values:l};e=e.map((function(t){let n;return n=t>1?(t-1)*i+1:t<-1?(t+1)*i-1:1,Number(n.toFixed(2))}));let d=aC({colorKeys:n[t].colorKeys,colorspace:n[t].colorspace,ratios:e,base:a,smooth:f,output:o});for(let t=0;t<d.length;t++){let n;if(r)n=r[t];else{let r=hC(e)[t];n=u.concat(r)}let i={name:n,contrast:e[t],value:d[t]};l.push(i)}c.push(h)}return c}},fixColorValue:cC};const vC=pC.createScale,gC=pC.luminance,yC=pC.contrast,bC=pC.binarySearch,mC=pC.generateBaseScale,_C=pC.generateContrastColors,xC=pC.minPositive,wC=pC.ratioName,MC=pC.generateAdaptiveTheme;var CC=Object.freeze({__proto__:null,createScale:vC,luminance:gC,contrast:yC,binarySearch:bC,generateBaseScale:mC,generateContrastColors:_C,minPositive:xC,ratioName:wC,generateAdaptiveTheme:MC,default:pC});window.createScale=vC,window.luminance=gC,window.contrast=yC,window.generateContrastColors=_C,window.contrastColors=CC,window.generateBaseScale=mC,window.generateAdaptiveTheme=MC,window.minPositive=xC,window.ratioName=wC;customElements.define("adaptive-colors",class extends rt{static get styles(){return a`.grid{display:grid;grid-template-columns:1fr 1fr;gap:24px}`}static get properties(){return{keyColors:{type:Array},baseColor:{type:String},colorSpace:{type:String},ratios:{type:Array},colorScheme:{type:Object}}}constructor(){super()}render(){return H`<main><key-colors></key-colors><section class="grid"><base-color .baseColor="${this.baseColor}"></base-color><color-space .colorSpace="${this.colorSpace}"></color-space><contrast-ratios .ratios="${this.ratios}"></contrast-ratios><color-ramp .colorScheme="${this.colorScheme}"></color-ramp></section><reference-code></reference-code></main>`}})}(Redux);
